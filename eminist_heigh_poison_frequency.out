/home/hjb/src/backup/fed_learning_test/saved_models/emnist_resnet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/emnist_resnet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.43642683774232865
l2 norm of benign user after server clipping 0.40609982162714003
/home/hjb/src/eminist_util.py:251: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.6989, Accuracy: 31615/40000.0 (79.0375%)
benign test loss (after fedavg) 0.6988681294441224
benign test acc (after fedavg) 79.03750000000001
Done in 6.205876111984253 sec.
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.34771043360233306
l2 norm of benign user after server clipping 0.34771043360233306
___Test : epoch: 1951: Average loss: 0.1291, Accuracy: 38475/40000.0 (96.1875%)
benign test loss (after fedavg) 0.12907677183151245
benign test acc (after fedavg) 96.1875
Done in 4.4030938148498535 sec.
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.36298469454050064
l2 norm of benign user after server clipping 0.33708455711603164
___Test : epoch: 1952: Average loss: 0.1784, Accuracy: 38067/40000.0 (95.1675%)
benign test loss (after fedavg) 0.1784134289264679
benign test acc (after fedavg) 95.1675
Done in 4.102651357650757 sec.
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.44243554025888443
l2 norm of benign user after server clipping 0.3801664367318153
___Test : epoch: 1953: Average loss: 0.1773, Accuracy: 38434/40000.0 (96.0850%)
benign test loss (after fedavg) 0.17729649924039842
benign test acc (after fedavg) 96.085
Done in 4.389255523681641 sec.
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.29490245282649996
l2 norm of benign user after server clipping 0.29490245282649996
___Test : epoch: 1954: Average loss: 0.0866, Accuracy: 39076/40000.0 (97.6900%)
benign test loss (after fedavg) 0.08662338514924049
benign test acc (after fedavg) 97.69
Done in 4.855680704116821 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.3381712817483478
l2 norm of benign user after server clipping 0.3284655395481322
Gen Trigger0 loss tensor(183.6280, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(180.7369, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(180.7373, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(180.7377, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(180.7378, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.043496
Poison Train Epoch: 1 	Loss: 0.100093
Poison Train Epoch: 2 	Loss: 0.038619
Poison Train Epoch: 3 	Loss: 0.014807
Poison Train Epoch: 4 	Loss: 0.180318
Poison Train Epoch: 5 	Loss: 0.060263
Poison Train Epoch: 6 	Loss: 0.046463
Poison Train Epoch: 7 	Loss: 0.019728
Poison Train Epoch: 8 	Loss: 0.066308
Poison Train Epoch: 9 	Loss: 0.133700
Poison Train Epoch: 10 	Loss: 0.033697
Poison Train Epoch: 11 	Loss: 0.028306
Poison Train Epoch: 12 	Loss: 0.030161
Poison Train Epoch: 13 	Loss: 0.046185
Poison Train Epoch: 14 	Loss: 0.014577
Poison Train Epoch: 15 	Loss: 0.044441
Poison Train Epoch: 16 	Loss: 0.023490
Poison Train Epoch: 17 	Loss: 0.017893
Poison Train Epoch: 18 	Loss: 0.080949
Poison Train Epoch: 19 	Loss: 0.096401
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 1955: Average loss: 0.0957, Accuracy: 39068/40000.0 (97.6700%)
benign test loss (after fedavg) 0.0956569957613945
benign test acc (after fedavg) 97.67
Done in 39.153475284576416 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.28627322167158126
l2 norm of benign user after server clipping 0.27339759916067125
___Test : epoch: 1956: Average loss: 0.0576, Accuracy: 39436/40000.0 (98.5900%)
benign test loss (after fedavg) 0.057630406761169435
benign test acc (after fedavg) 98.59
Done in 4.055382251739502 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.2346334546804428
l2 norm of benign user after server clipping 0.2346334546804428
___Test : epoch: 1957: Average loss: 0.0557, Accuracy: 39438/40000.0 (98.5950%)
benign test loss (after fedavg) 0.055723226107656953
benign test acc (after fedavg) 98.595
Done in 4.63853120803833 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.30939399152994157
l2 norm of benign user after server clipping 0.3093428447842598
___Test : epoch: 1958: Average loss: 0.0447, Accuracy: 39560/40000.0 (98.9000%)
benign test loss (after fedavg) 0.04465880273580551
benign test acc (after fedavg) 98.9
Done in 5.0220654010772705 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.23944053277373314
l2 norm of benign user after server clipping 0.23944053277373314
___Test : epoch: 1959: Average loss: 0.0564, Accuracy: 39411/40000.0 (98.5275%)
benign test loss (after fedavg) 0.05636614120602608
benign test acc (after fedavg) 98.5275
Done in 3.8248000144958496 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.2716546000705825
l2 norm of benign user after server clipping 0.2575341537594795
Gen Trigger1 loss tensor(172.8634, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(170.4449, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(170.4439, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(170.4281, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(170.4197, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.014500
Poison Train Epoch: 1 	Loss: 0.030323
Poison Train Epoch: 2 	Loss: 0.050440
Poison Train Epoch: 3 	Loss: 0.067818
Poison Train Epoch: 4 	Loss: 0.035189
Poison Train Epoch: 5 	Loss: 0.032086
Poison Train Epoch: 6 	Loss: 0.029448
Poison Train Epoch: 7 	Loss: 0.047103
Poison Train Epoch: 8 	Loss: 0.076285
Poison Train Epoch: 9 	Loss: 0.093363
Poison Train Epoch: 10 	Loss: 0.033985
Poison Train Epoch: 11 	Loss: 0.046633
Poison Train Epoch: 12 	Loss: 0.011936
Poison Train Epoch: 13 	Loss: 0.007261
Poison Train Epoch: 14 	Loss: 0.043781
Poison Train Epoch: 15 	Loss: 0.032061
Poison Train Epoch: 16 	Loss: 0.023011
Poison Train Epoch: 17 	Loss: 0.018153
Poison Train Epoch: 18 	Loss: 0.034715
Poison Train Epoch: 19 	Loss: 0.028234
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1960: Average loss: 0.0628, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.06275699387490749
benign test acc (after fedavg) 98.4275
Done in 38.60384178161621 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.22779854238033295
l2 norm of benign user after server clipping 0.22779854238033295
___Test : epoch: 1961: Average loss: 0.0770, Accuracy: 39181/40000.0 (97.9525%)
benign test loss (after fedavg) 0.07700418033897877
benign test acc (after fedavg) 97.9525
Done in 4.345468044281006 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.22972818315029145
l2 norm of benign user after server clipping 0.22972818315029145
___Test : epoch: 1962: Average loss: 0.0460, Accuracy: 39589/40000.0 (98.9725%)
benign test loss (after fedavg) 0.04596464020311832
benign test acc (after fedavg) 98.9725
Done in 3.9116973876953125 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.17613834962248803
l2 norm of benign user after server clipping 0.17613834962248803
___Test : epoch: 1963: Average loss: 0.0466, Accuracy: 39546/40000.0 (98.8650%)
benign test loss (after fedavg) 0.04656164256632328
benign test acc (after fedavg) 98.86500000000001
Done in 3.6845054626464844 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.2641943126916885
l2 norm of benign user after server clipping 0.24490377604961394
___Test : epoch: 1964: Average loss: 0.0550, Accuracy: 39473/40000.0 (98.6825%)
benign test loss (after fedavg) 0.05495936984717846
benign test acc (after fedavg) 98.68249999999999
Done in 3.9319849014282227 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.22022232909997305
l2 norm of benign user after server clipping 0.22022232909997305
Gen Trigger2 loss tensor(191.9372, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(182.0252, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(181.9305, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(181.8673, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(181.8525, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.080558
Poison Train Epoch: 1 	Loss: 0.039508
Poison Train Epoch: 2 	Loss: 0.031538
Poison Train Epoch: 3 	Loss: 0.075405
Poison Train Epoch: 4 	Loss: 0.099452
Poison Train Epoch: 5 	Loss: 0.021475
Poison Train Epoch: 6 	Loss: 0.042049
Poison Train Epoch: 7 	Loss: 0.044686
Poison Train Epoch: 8 	Loss: 0.017279
Poison Train Epoch: 9 	Loss: 0.081250
Poison Train Epoch: 10 	Loss: 0.032001
Poison Train Epoch: 11 	Loss: 0.052346
Poison Train Epoch: 12 	Loss: 0.036410
Poison Train Epoch: 13 	Loss: 0.073495
Poison Train Epoch: 14 	Loss: 0.034982
Poison Train Epoch: 15 	Loss: 0.085916
Poison Train Epoch: 16 	Loss: 0.011433
Poison Train Epoch: 17 	Loss: 0.052743
Poison Train Epoch: 18 	Loss: 0.045612
Poison Train Epoch: 19 	Loss: 0.024513
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1965: Average loss: 0.0897, Accuracy: 39115/40000.0 (97.7875%)
benign test loss (after fedavg) 0.0896559364259243
benign test acc (after fedavg) 97.78750000000001
Done in 38.67660093307495 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.1905538447201252
l2 norm of benign user after server clipping 0.1905538447201252
___Test : epoch: 1966: Average loss: 0.0455, Accuracy: 39543/40000.0 (98.8575%)
benign test loss (after fedavg) 0.04552059592604637
benign test acc (after fedavg) 98.8575
Done in 3.6927106380462646 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.19689087197184563
l2 norm of benign user after server clipping 0.19689087197184563
___Test : epoch: 1967: Average loss: 0.0407, Accuracy: 39548/40000.0 (98.8700%)
benign test loss (after fedavg) 0.040689685939252374
benign test acc (after fedavg) 98.87
Done in 4.316629886627197 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.23528886064887047
l2 norm of benign user after server clipping 0.23528886064887047
___Test : epoch: 1968: Average loss: 0.1445, Accuracy: 38328/40000.0 (95.8200%)
benign test loss (after fedavg) 0.1444871957361698
benign test acc (after fedavg) 95.82000000000001
Done in 3.827817678451538 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.22220730036497116
l2 norm of benign user after server clipping 0.22220730036497116
___Test : epoch: 1969: Average loss: 0.0814, Accuracy: 39286/40000.0 (98.2150%)
benign test loss (after fedavg) 0.08142311072945595
benign test acc (after fedavg) 98.215
Done in 3.8826651573181152 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.2548882414897283
l2 norm of benign user after server clipping 0.2548882414897283
Gen Trigger3 loss tensor(197.2243, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(196.2040, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(196.1790, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(196.1344, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(196.1841, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.063554
Poison Train Epoch: 1 	Loss: 0.034662
Poison Train Epoch: 2 	Loss: 0.021881
Poison Train Epoch: 3 	Loss: 0.040543
Poison Train Epoch: 4 	Loss: 0.102304
Poison Train Epoch: 5 	Loss: 0.016412
Poison Train Epoch: 6 	Loss: 0.024754
Poison Train Epoch: 7 	Loss: 0.014414
Poison Train Epoch: 8 	Loss: 0.023423
Poison Train Epoch: 9 	Loss: 0.104773
Poison Train Epoch: 10 	Loss: 0.016389
Poison Train Epoch: 11 	Loss: 0.020915
Poison Train Epoch: 12 	Loss: 0.010515
Poison Train Epoch: 13 	Loss: 0.044269
Poison Train Epoch: 14 	Loss: 0.025332
Poison Train Epoch: 15 	Loss: 0.052242
Poison Train Epoch: 16 	Loss: 0.083046
Poison Train Epoch: 17 	Loss: 0.057108
Poison Train Epoch: 18 	Loss: 0.022716
Poison Train Epoch: 19 	Loss: 0.028028
Test set:local_Trigger3_localPoison Accuracy: 3958/4000 (99%)
___Test : epoch: 1970: Average loss: 0.0384, Accuracy: 39579/40000.0 (98.9475%)
benign test loss (after fedavg) 0.038358407539874316
benign test acc (after fedavg) 98.9475
Done in 41.09416890144348 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.1702701784670353
l2 norm of benign user after server clipping 0.1702701784670353
___Test : epoch: 1971: Average loss: 0.0431, Accuracy: 39550/40000.0 (98.8750%)
benign test loss (after fedavg) 0.04314751927703619
benign test acc (after fedavg) 98.875
Test set:local_Trigger0Poison Accuracy: 47/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39550/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 15.109367370605469 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.17100056931376456
l2 norm of benign user after server clipping 0.17100056931376456
___Test : epoch: 1972: Average loss: 0.0418, Accuracy: 39577/40000.0 (98.9425%)
benign test loss (after fedavg) 0.04184350446313619
benign test acc (after fedavg) 98.9425
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39577/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.128933191299438 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.1953689195215702
l2 norm of benign user after server clipping 0.1953689195215702
___Test : epoch: 1973: Average loss: 0.0390, Accuracy: 39585/40000.0 (98.9625%)
benign test loss (after fedavg) 0.03895868662595749
benign test acc (after fedavg) 98.96249999999999
Test set:local_Trigger0Poison Accuracy: 149/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 33/4000 (1%)
Test set:Main Accuracy: 39585/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.738322257995605 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.15779760479927063
l2 norm of benign user after server clipping 0.15779760479927063
___Test : epoch: 1974: Average loss: 0.0374, Accuracy: 39602/40000.0 (99.0050%)
benign test loss (after fedavg) 0.03735263124406338
benign test acc (after fedavg) 99.005
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 0/4000 (0%)
Test set:Main Accuracy: 39602/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.65964937210083 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14662795513868332
l2 norm of benign user after server clipping 0.14662795513868332
Poison Train Epoch: 0 	Loss: 0.025092
Poison Train Epoch: 1 	Loss: 0.009092
Poison Train Epoch: 2 	Loss: 0.022725
Poison Train Epoch: 3 	Loss: 0.080811
Poison Train Epoch: 4 	Loss: 0.086214
Poison Train Epoch: 5 	Loss: 0.012904
Poison Train Epoch: 6 	Loss: 0.005060
Poison Train Epoch: 7 	Loss: 0.006955
Poison Train Epoch: 8 	Loss: 0.015879
Poison Train Epoch: 9 	Loss: 0.091422
Poison Train Epoch: 10 	Loss: 0.019203
Poison Train Epoch: 11 	Loss: 0.020284
Poison Train Epoch: 12 	Loss: 0.018399
Poison Train Epoch: 13 	Loss: 0.033947
Poison Train Epoch: 14 	Loss: 0.008178
Poison Train Epoch: 15 	Loss: 0.025266
Poison Train Epoch: 16 	Loss: 0.015048
Poison Train Epoch: 17 	Loss: 0.012998
Poison Train Epoch: 18 	Loss: 0.103182
Poison Train Epoch: 19 	Loss: 0.013206
Test set:local_Trigger0_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1975: Average loss: 0.0353, Accuracy: 39639/40000.0 (99.0975%)
benign test loss (after fedavg) 0.03531799909323454
benign test acc (after fedavg) 99.09750000000001
Test set:local_Trigger0Poison Accuracy: 228/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39639/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 28.46824049949646 sec.
select client [469, 900, 957, 46, 717, 616, 357, 837, 662, 422]
l2 norm of benign user before server clipping 0.13836605995893478
l2 norm of benign user after server clipping 0.13836605995893478
___Test : epoch: 1976: Average loss: 0.0338, Accuracy: 39651/40000.0 (99.1275%)
benign test loss (after fedavg) 0.03375499681830406
benign test acc (after fedavg) 99.1275
Test set:local_Trigger0Poison Accuracy: 164/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39651/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.322664737701416 sec.
select client [713, 519, 68, 971, 277, 147, 891, 721, 547, 729]
l2 norm of benign user before server clipping 0.1397788468748331
l2 norm of benign user after server clipping 0.1397788468748331
___Test : epoch: 1977: Average loss: 0.0311, Accuracy: 39664/40000.0 (99.1600%)
benign test loss (after fedavg) 0.031101616357266902
benign test acc (after fedavg) 99.16
Test set:local_Trigger0Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39664/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.651135921478271 sec.
select client [897, 638, 411, 424, 310, 164, 246, 512, 509, 841]
l2 norm of benign user before server clipping 0.18073049746453762
l2 norm of benign user after server clipping 0.18073049746453762
___Test : epoch: 1978: Average loss: 0.0420, Accuracy: 39573/40000.0 (98.9325%)
benign test loss (after fedavg) 0.0419878699824214
benign test acc (after fedavg) 98.9325
Test set:local_Trigger0Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39573/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.85604739189148 sec.
select client [190, 767, 803, 862, 585, 646, 73, 684, 536, 936]
l2 norm of benign user before server clipping 0.13483934476971626
l2 norm of benign user after server clipping 0.13483934476971626
___Test : epoch: 1979: Average loss: 0.0321, Accuracy: 39662/40000.0 (99.1550%)
benign test loss (after fedavg) 0.032083285129070285
benign test acc (after fedavg) 99.155
Test set:local_Trigger0Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 0/4000 (0%)
Test set:Main Accuracy: 39662/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.684685468673706 sec.
select client [214, 489, 93, 716, 518, 651, 85, 202, 721]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.10753301551772489
l2 norm of benign user after server clipping 0.10753301551772489
Poison Train Epoch: 0 	Loss: 0.051186
Poison Train Epoch: 1 	Loss: 0.061059
Poison Train Epoch: 2 	Loss: 0.010046
Poison Train Epoch: 3 	Loss: 0.019057
Poison Train Epoch: 4 	Loss: 0.118457
Poison Train Epoch: 5 	Loss: 0.010553
Poison Train Epoch: 6 	Loss: 0.029058
Poison Train Epoch: 7 	Loss: 0.056764
Poison Train Epoch: 8 	Loss: 0.047250
Poison Train Epoch: 9 	Loss: 0.023778
Poison Train Epoch: 10 	Loss: 0.037731
Poison Train Epoch: 11 	Loss: 0.026538
Poison Train Epoch: 12 	Loss: 0.054868
Poison Train Epoch: 13 	Loss: 0.050473
Poison Train Epoch: 14 	Loss: 0.047669
Poison Train Epoch: 15 	Loss: 0.005660
Poison Train Epoch: 16 	Loss: 0.004150
Poison Train Epoch: 17 	Loss: 0.041755
Poison Train Epoch: 18 	Loss: 0.029154
Poison Train Epoch: 19 	Loss: 0.005633
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1980: Average loss: 0.0335, Accuracy: 39643/40000.0 (99.1075%)
benign test loss (after fedavg) 0.03345401730313897
benign test acc (after fedavg) 99.1075
Test set:local_Trigger0Poison Accuracy: 447/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39643/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 28.665874481201172 sec.
select client [717, 764, 980, 755, 884, 324, 494, 433, 627, 858]
l2 norm of benign user before server clipping 0.10311510190367698
l2 norm of benign user after server clipping 0.10311510190367698
___Test : epoch: 1981: Average loss: 0.0301, Accuracy: 39684/40000.0 (99.2100%)
benign test loss (after fedavg) 0.030126650435477496
benign test acc (after fedavg) 99.21
Test set:local_Trigger0Poison Accuracy: 49/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39684/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.04406213760376 sec.
select client [479, 77, 865, 317, 384, 892, 937, 583, 32, 427]
l2 norm of benign user before server clipping 0.13272080272436143
l2 norm of benign user after server clipping 0.13272080272436143
___Test : epoch: 1982: Average loss: 0.0313, Accuracy: 39686/40000.0 (99.2150%)
benign test loss (after fedavg) 0.031313896864652635
benign test acc (after fedavg) 99.215
Test set:local_Trigger0Poison Accuracy: 45/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39686/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.388833999633789 sec.
select client [332, 540, 256, 980, 246, 453, 63, 951, 512, 287]
l2 norm of benign user before server clipping 0.11238683573901653
l2 norm of benign user after server clipping 0.11238683573901653
___Test : epoch: 1983: Average loss: 0.0317, Accuracy: 39661/40000.0 (99.1525%)
benign test loss (after fedavg) 0.03174188560768962
benign test acc (after fedavg) 99.1525
Test set:local_Trigger0Poison Accuracy: 229/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39661/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.450770854949951 sec.
select client [129, 26, 676, 554, 456, 564, 107, 434, 334, 573]
l2 norm of benign user before server clipping 0.0920216117054224
l2 norm of benign user after server clipping 0.0920216117054224
___Test : epoch: 1984: Average loss: 0.0326, Accuracy: 39652/40000.0 (99.1300%)
benign test loss (after fedavg) 0.03259319393336773
benign test acc (after fedavg) 99.13
Test set:local_Trigger0Poison Accuracy: 51/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39652/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.947478532791138 sec.
select client [787, 97, 862, 997, 32, 356, 728, 803, 418]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.11738174739811155
l2 norm of benign user after server clipping 0.11738174739811155
Poison Train Epoch: 0 	Loss: 0.079941
Poison Train Epoch: 1 	Loss: 0.050525
Poison Train Epoch: 2 	Loss: 0.091678
Poison Train Epoch: 3 	Loss: 0.038830
Poison Train Epoch: 4 	Loss: 0.045350
Poison Train Epoch: 5 	Loss: 0.040565
Poison Train Epoch: 6 	Loss: 0.064533
Poison Train Epoch: 7 	Loss: 0.023581
Poison Train Epoch: 8 	Loss: 0.022918
Poison Train Epoch: 9 	Loss: 0.056562
Poison Train Epoch: 10 	Loss: 0.015308
Poison Train Epoch: 11 	Loss: 0.022131
Poison Train Epoch: 12 	Loss: 0.018960
Poison Train Epoch: 13 	Loss: 0.038417
Poison Train Epoch: 14 	Loss: 0.035736
Poison Train Epoch: 15 	Loss: 0.004140
Poison Train Epoch: 16 	Loss: 0.021813
Poison Train Epoch: 17 	Loss: 0.004883
Poison Train Epoch: 18 	Loss: 0.029768
Poison Train Epoch: 19 	Loss: 0.012843
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1985: Average loss: 0.0891, Accuracy: 39173/40000.0 (97.9325%)
benign test loss (after fedavg) 0.08906375327706337
benign test acc (after fedavg) 97.9325
Test set:local_Trigger0Poison Accuracy: 837/4000 (21%)
Test set:local_Trigger1Poison Accuracy: 114/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 115/4000 (3%)
Test set:Main Accuracy: 39173/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 28.99662470817566 sec.
select client [510, 975, 711, 824, 37, 422, 550, 694, 504, 89]
l2 norm of benign user before server clipping 0.10852670483291149
l2 norm of benign user after server clipping 0.10852670483291149
___Test : epoch: 1986: Average loss: 0.0304, Accuracy: 39692/40000.0 (99.2300%)
benign test loss (after fedavg) 0.030411001041531563
benign test acc (after fedavg) 99.22999999999999
Test set:local_Trigger0Poison Accuracy: 90/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39692/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.177663564682007 sec.
select client [736, 742, 677, 959, 656, 546, 136, 882, 815, 850]
l2 norm of benign user before server clipping 0.0943853871896863
l2 norm of benign user after server clipping 0.0943853871896863
___Test : epoch: 1987: Average loss: 0.0288, Accuracy: 39684/40000.0 (99.2100%)
benign test loss (after fedavg) 0.028838900382816793
benign test acc (after fedavg) 99.21
Test set:local_Trigger0Poison Accuracy: 56/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39684/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.397308111190796 sec.
select client [24, 214, 494, 972, 976, 153, 869, 844, 433, 885]
l2 norm of benign user before server clipping 0.08837304785847663
l2 norm of benign user after server clipping 0.08837304785847663
___Test : epoch: 1988: Average loss: 0.0289, Accuracy: 39668/40000.0 (99.1700%)
benign test loss (after fedavg) 0.02886601628959179
benign test acc (after fedavg) 99.17
Test set:local_Trigger0Poison Accuracy: 68/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39668/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.958444356918335 sec.
select client [309, 712, 962, 254, 304, 34, 801, 632, 716, 520]
l2 norm of benign user before server clipping 0.07006446234881877
l2 norm of benign user after server clipping 0.07006446234881877
___Test : epoch: 1989: Average loss: 0.0276, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.02756751360744238
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 221/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.183172702789307 sec.
select client [222, 938, 819, 634, 20, 500, 46, 922, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.052553767131434545
l2 norm of benign user after server clipping 0.052553767131434545
Poison Train Epoch: 0 	Loss: 0.126186
Poison Train Epoch: 1 	Loss: 0.040745
Poison Train Epoch: 2 	Loss: 0.018412
Poison Train Epoch: 3 	Loss: 0.008809
Poison Train Epoch: 4 	Loss: 0.036393
Poison Train Epoch: 5 	Loss: 0.180168
Poison Train Epoch: 6 	Loss: 0.043005
Poison Train Epoch: 7 	Loss: 0.031175
Poison Train Epoch: 8 	Loss: 0.050492
Poison Train Epoch: 9 	Loss: 0.103800
Poison Train Epoch: 10 	Loss: 0.023042
Poison Train Epoch: 11 	Loss: 0.023589
Poison Train Epoch: 12 	Loss: 0.068611
Poison Train Epoch: 13 	Loss: 0.056319
Poison Train Epoch: 14 	Loss: 0.027119
Poison Train Epoch: 15 	Loss: 0.051849
Poison Train Epoch: 16 	Loss: 0.078900
Poison Train Epoch: 17 	Loss: 0.008956
Poison Train Epoch: 18 	Loss: 0.005110
Poison Train Epoch: 19 	Loss: 0.010230
Test set:local_Trigger3_localPoison Accuracy: 3972/4000 (99%)
___Test : epoch: 1990: Average loss: 0.0280, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.028032909820228814
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 514/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 28.671637773513794 sec.
select client [416, 463, 310, 709, 174, 644, 757, 91, 287, 746]
l2 norm of benign user before server clipping 0.0814653817564249
l2 norm of benign user after server clipping 0.0814653817564249
___Test : epoch: 1991: Average loss: 0.0290, Accuracy: 39690/40000.0 (99.2250%)
benign test loss (after fedavg) 0.028991497212648393
benign test acc (after fedavg) 99.225
Test set:local_Trigger0Poison Accuracy: 60/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39690/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 15.124002456665039 sec.
select client [875, 611, 364, 144, 239, 924, 762, 180, 870, 914]
l2 norm of benign user before server clipping 0.05915411897003651
l2 norm of benign user after server clipping 0.05915411897003651
___Test : epoch: 1992: Average loss: 0.0289, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.02892827903330326
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 270/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.007107257843018 sec.
select client [11, 846, 436, 197, 212, 879, 718, 626, 342, 86]
l2 norm of benign user before server clipping 0.04720948236063123
l2 norm of benign user after server clipping 0.04720948236063123
___Test : epoch: 1993: Average loss: 0.0290, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.02896024538204074
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.193887710571289 sec.
select client [451, 188, 562, 289, 757, 472, 471, 84, 446, 854]
l2 norm of benign user before server clipping 0.04791223369538784
l2 norm of benign user after server clipping 0.04791223369538784
___Test : epoch: 1994: Average loss: 0.0267, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.026730180867761372
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 58/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.54227590560913 sec.
select client [184, 513, 802, 343, 101, 599, 188, 821, 58]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.033130816804865994
l2 norm of benign user after server clipping 0.033130816804865994
Poison Train Epoch: 0 	Loss: 0.024679
Poison Train Epoch: 1 	Loss: 0.014541
Poison Train Epoch: 2 	Loss: 0.024689
Poison Train Epoch: 3 	Loss: 0.017423
Poison Train Epoch: 4 	Loss: 0.004395
Poison Train Epoch: 5 	Loss: 0.175837
Poison Train Epoch: 6 	Loss: 0.007401
Poison Train Epoch: 7 	Loss: 0.049762
Poison Train Epoch: 8 	Loss: 0.012891
Poison Train Epoch: 9 	Loss: 0.013145
Poison Train Epoch: 10 	Loss: 0.009362
Poison Train Epoch: 11 	Loss: 0.049620
Poison Train Epoch: 12 	Loss: 0.098461
Poison Train Epoch: 13 	Loss: 0.020690
Poison Train Epoch: 14 	Loss: 0.010327
Poison Train Epoch: 15 	Loss: 0.023087
Poison Train Epoch: 16 	Loss: 0.022521
Poison Train Epoch: 17 	Loss: 0.027047
Poison Train Epoch: 18 	Loss: 0.048180
Poison Train Epoch: 19 	Loss: 0.010885
Test set:local_Trigger0_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1995: Average loss: 0.0276, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.02756931181922555
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 559/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 28.246029138565063 sec.
select client [145, 292, 383, 212, 548, 367, 131, 101, 541, 652]
l2 norm of benign user before server clipping 0.04879422932863235
l2 norm of benign user after server clipping 0.04879422932863235
___Test : epoch: 1996: Average loss: 0.0280, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02803367165476084
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 629/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.356594800949097 sec.
select client [278, 693, 855, 981, 25, 996, 561, 119, 962, 223]
l2 norm of benign user before server clipping 0.028956016711890697
l2 norm of benign user after server clipping 0.028956016711890697
___Test : epoch: 1997: Average loss: 0.0298, Accuracy: 39683/40000.0 (99.2075%)
benign test loss (after fedavg) 0.02976345171108842
benign test acc (after fedavg) 99.20750000000001
Test set:local_Trigger0Poison Accuracy: 1106/4000 (28%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39683/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 15.239054679870605 sec.
select client [29, 99, 74, 387, 849, 703, 168, 802, 228, 679]
l2 norm of benign user before server clipping 0.017974260402843355
l2 norm of benign user after server clipping 0.017974260402843355
___Test : epoch: 1998: Average loss: 0.0291, Accuracy: 39689/40000.0 (99.2225%)
benign test loss (after fedavg) 0.029112149716168642
benign test acc (after fedavg) 99.2225
Test set:local_Trigger0Poison Accuracy: 904/4000 (23%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39689/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.078431606292725 sec.
select client [103, 570, 967, 408, 907, 726, 960, 759, 836, 70]
l2 norm of benign user before server clipping 0.009487587166950107
l2 norm of benign user after server clipping 0.009487587166950107
___Test : epoch: 1999: Average loss: 0.0266, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.026632713806629182
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 432/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.557013034820557 sec.
select client [321, 827, 91, 516, 262, 283, 132, 557, 862]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00870604362959663
l2 norm of benign user after server clipping 0.00870604362959663
Poison Train Epoch: 0 	Loss: 0.064812
Poison Train Epoch: 1 	Loss: 0.012323
Poison Train Epoch: 2 	Loss: 0.021296
Poison Train Epoch: 3 	Loss: 0.020680
Poison Train Epoch: 4 	Loss: 0.081063
Poison Train Epoch: 5 	Loss: 0.048834
Poison Train Epoch: 6 	Loss: 0.055493
Poison Train Epoch: 7 	Loss: 0.014651
Poison Train Epoch: 8 	Loss: 0.044000
Poison Train Epoch: 9 	Loss: 0.007475
Poison Train Epoch: 10 	Loss: 0.043602
Poison Train Epoch: 11 	Loss: 0.088511
Poison Train Epoch: 12 	Loss: 0.017944
Poison Train Epoch: 13 	Loss: 0.043134
Poison Train Epoch: 14 	Loss: 0.019051
Poison Train Epoch: 15 	Loss: 0.005113
Poison Train Epoch: 16 	Loss: 0.018296
Poison Train Epoch: 17 	Loss: 0.049425
Poison Train Epoch: 18 	Loss: 0.016156
Poison Train Epoch: 19 	Loss: 0.014583
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2000: Average loss: 0.0272, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.027198345731198788
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 2029/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 30.320776224136353 sec.
select client [243, 897, 881, 585, 937, 800, 823, 218, 321, 219]
l2 norm of benign user before server clipping 0.005356834433041513
l2 norm of benign user after server clipping 0.005356834433041513
___Test : epoch: 2001: Average loss: 0.0276, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.02760210431665182
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 1617/4000 (40%)
Test set:local_Trigger1Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.258001565933228 sec.
select client [936, 503, 895, 738, 995, 37, 934, 20, 699, 578]
l2 norm of benign user before server clipping 0.008041539578698575
l2 norm of benign user after server clipping 0.008041539578698575
___Test : epoch: 2002: Average loss: 0.0276, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.027597537955641748
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 1043/4000 (26%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.222322463989258 sec.
select client [490, 823, 286, 837, 43, 89, 875, 285, 755, 315]
l2 norm of benign user before server clipping 0.005776783113833517
l2 norm of benign user after server clipping 0.005776783113833517
___Test : epoch: 2003: Average loss: 0.0271, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.02705591862201691
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 1106/4000 (28%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.378926038742065 sec.
select client [512, 353, 104, 779, 231, 449, 352, 581, 76, 62]
l2 norm of benign user before server clipping 0.007809396472293883
l2 norm of benign user after server clipping 0.007809396472293883
___Test : epoch: 2004: Average loss: 0.0274, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.027385467221587897
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 1007/4000 (25%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.830110549926758 sec.
select client [22, 250, 584, 199, 108, 74, 719, 353, 275]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004118949640542269
l2 norm of benign user after server clipping 0.004118949640542269
Poison Train Epoch: 0 	Loss: 0.041797
Poison Train Epoch: 1 	Loss: 0.023691
Poison Train Epoch: 2 	Loss: 0.015547
Poison Train Epoch: 3 	Loss: 0.036062
Poison Train Epoch: 4 	Loss: 0.048879
Poison Train Epoch: 5 	Loss: 0.013915
Poison Train Epoch: 6 	Loss: 0.021467
Poison Train Epoch: 7 	Loss: 0.023855
Poison Train Epoch: 8 	Loss: 0.045097
Poison Train Epoch: 9 	Loss: 0.018961
Poison Train Epoch: 10 	Loss: 0.071656
Poison Train Epoch: 11 	Loss: 0.008890
Poison Train Epoch: 12 	Loss: 0.012436
Poison Train Epoch: 13 	Loss: 0.045642
Poison Train Epoch: 14 	Loss: 0.032626
Poison Train Epoch: 15 	Loss: 0.013591
Poison Train Epoch: 16 	Loss: 0.078493
Poison Train Epoch: 17 	Loss: 0.020038
Poison Train Epoch: 18 	Loss: 0.008980
Poison Train Epoch: 19 	Loss: 0.069337
Test set:local_Trigger2_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2005: Average loss: 0.0469, Accuracy: 39532/40000.0 (98.8300%)
benign test loss (after fedavg) 0.04686559029817581
benign test acc (after fedavg) 98.83
Test set:local_Trigger0Poison Accuracy: 2031/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 167/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 2544/4000 (64%)
Test set:local_Trigger3Poison Accuracy: 64/4000 (2%)
Test set:Main Accuracy: 39532/40000 (99%)
Test set:Global Trigger Poison Accuracy: 628/4000 (16%)
Done in 29.161846160888672 sec.
select client [152, 603, 293, 997, 105, 958, 871, 628, 330, 193]
l2 norm of benign user before server clipping 0.007647052500396967
l2 norm of benign user after server clipping 0.007647052500396967
___Test : epoch: 2006: Average loss: 0.0272, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.02719456589370966
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 1655/4000 (41%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 69/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 364/4000 (9%)
Done in 14.451513528823853 sec.
select client [65, 501, 709, 748, 625, 132, 504, 600, 952, 942]
l2 norm of benign user before server clipping 0.005608449643477798
l2 norm of benign user after server clipping 0.005608449643477798
___Test : epoch: 2007: Average loss: 0.0281, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.028085175811499358
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 1919/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 40/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 319/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 597/4000 (15%)
Done in 14.856508731842041 sec.
select client [505, 205, 23, 901, 317, 728, 751, 602, 48, 576]
l2 norm of benign user before server clipping 0.0062312002060934905
l2 norm of benign user after server clipping 0.0062312002060934905
___Test : epoch: 2008: Average loss: 0.0262, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.026150565031170844
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 899/4000 (22%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 44/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 5/4000 (0%)
Done in 14.13507604598999 sec.
select client [108, 440, 184, 396, 66, 350, 579, 668, 753, 950]
l2 norm of benign user before server clipping 0.006045697280205787
l2 norm of benign user after server clipping 0.006045697280205787
___Test : epoch: 2009: Average loss: 0.0283, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.028330464647710323
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 1788/4000 (45%)
Test set:local_Trigger1Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 267/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 159/4000 (4%)
Done in 14.286571741104126 sec.
select client [299, 587, 187, 936, 86, 761, 264, 21, 653]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005262346136280232
l2 norm of benign user after server clipping 0.005262346136280232
Poison Train Epoch: 0 	Loss: 0.017140
Poison Train Epoch: 1 	Loss: 0.039289
Poison Train Epoch: 2 	Loss: 0.031690
Poison Train Epoch: 3 	Loss: 0.045645
Poison Train Epoch: 4 	Loss: 0.022928
Poison Train Epoch: 5 	Loss: 0.020435
Poison Train Epoch: 6 	Loss: 0.016963
Poison Train Epoch: 7 	Loss: 0.021873
Poison Train Epoch: 8 	Loss: 0.033841
Poison Train Epoch: 9 	Loss: 0.015406
Poison Train Epoch: 10 	Loss: 0.022034
Poison Train Epoch: 11 	Loss: 0.112764
Poison Train Epoch: 12 	Loss: 0.016892
Poison Train Epoch: 13 	Loss: 0.009715
Poison Train Epoch: 14 	Loss: 0.059554
Poison Train Epoch: 15 	Loss: 0.055463
Poison Train Epoch: 16 	Loss: 0.100400
Poison Train Epoch: 17 	Loss: 0.003897
Poison Train Epoch: 18 	Loss: 0.034097
Poison Train Epoch: 19 	Loss: 0.023457
Test set:local_Trigger3_localPoison Accuracy: 3974/4000 (99%)
___Test : epoch: 2010: Average loss: 0.0293, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.02928288368359208
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 2825/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 81/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2/4000 (0%)
Done in 28.96025800704956 sec.
select client [365, 576, 490, 796, 790, 899, 954, 318, 376, 127]
l2 norm of benign user before server clipping 0.004193112649954855
l2 norm of benign user after server clipping 0.004193112649954855
___Test : epoch: 2011: Average loss: 0.0288, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.028764384584128857
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 2787/4000 (70%)
Test set:local_Trigger1Poison Accuracy: 75/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 187/4000 (5%)
Done in 13.95425033569336 sec.
select client [972, 686, 227, 582, 53, 965, 992, 465, 431, 415]
l2 norm of benign user before server clipping 0.003983736992813647
l2 norm of benign user after server clipping 0.003983736992813647
___Test : epoch: 2012: Average loss: 0.0278, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.02782252969890833
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 2438/4000 (61%)
Test set:local_Trigger1Poison Accuracy: 53/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 17/4000 (0%)
Done in 14.507371664047241 sec.
select client [594, 192, 444, 579, 249, 52, 701, 940, 160, 519]
l2 norm of benign user before server clipping 0.008120503020472824
l2 norm of benign user after server clipping 0.008120503020472824
___Test : epoch: 2013: Average loss: 0.0297, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.02966268450692296
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 2822/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 94/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 1599/4000 (40%)
Done in 15.356577157974243 sec.
select client [801, 640, 526, 699, 254, 111, 591, 855, 979, 126]
l2 norm of benign user before server clipping 0.008799823652952909
l2 norm of benign user after server clipping 0.008799823652952909
___Test : epoch: 2014: Average loss: 0.0295, Accuracy: 39699/40000.0 (99.2475%)
benign test loss (after fedavg) 0.0295378678008914
benign test acc (after fedavg) 99.2475
Test set:local_Trigger0Poison Accuracy: 2783/4000 (70%)
Test set:local_Trigger1Poison Accuracy: 79/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39699/40000 (99%)
Test set:Global Trigger Poison Accuracy: 10/4000 (0%)
Done in 15.335824251174927 sec.
select client [21, 212, 604, 700, 449, 692, 492, 148, 261]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.011082203489624791
l2 norm of benign user after server clipping 0.011082203489624791
Poison Train Epoch: 0 	Loss: 0.063855
Poison Train Epoch: 1 	Loss: 0.018515
Poison Train Epoch: 2 	Loss: 0.026898
Poison Train Epoch: 3 	Loss: 0.011533
Poison Train Epoch: 4 	Loss: 0.019296
Poison Train Epoch: 5 	Loss: 0.005051
Poison Train Epoch: 6 	Loss: 0.015923
Poison Train Epoch: 7 	Loss: 0.050212
Poison Train Epoch: 8 	Loss: 0.028861
Poison Train Epoch: 9 	Loss: 0.013974
Poison Train Epoch: 10 	Loss: 0.010560
Poison Train Epoch: 11 	Loss: 0.022195
Poison Train Epoch: 12 	Loss: 0.017556
Poison Train Epoch: 13 	Loss: 0.006547
Poison Train Epoch: 14 	Loss: 0.016086
Poison Train Epoch: 15 	Loss: 0.034171
Poison Train Epoch: 16 	Loss: 0.022696
Poison Train Epoch: 17 	Loss: 0.006203
Poison Train Epoch: 18 	Loss: 0.012560
Poison Train Epoch: 19 	Loss: 0.076871
Test set:local_Trigger0_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2015: Average loss: 0.0287, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.028695014744251967
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 3226/4000 (81%)
Test set:local_Trigger1Poison Accuracy: 61/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 665/4000 (17%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 636/4000 (16%)
Done in 29.4168598651886 sec.
select client [236, 386, 454, 124, 489, 35, 578, 268, 875, 606]
l2 norm of benign user before server clipping 0.007706812745891511
l2 norm of benign user after server clipping 0.007706812745891511
___Test : epoch: 2016: Average loss: 0.0289, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.028899157724529504
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 3223/4000 (81%)
Test set:local_Trigger1Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 50/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 21/4000 (1%)
Done in 14.865530252456665 sec.
select client [328, 258, 795, 174, 238, 204, 44, 20, 473, 443]
l2 norm of benign user before server clipping 0.005622524162754416
l2 norm of benign user after server clipping 0.005622524162754416
___Test : epoch: 2017: Average loss: 0.0273, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.02728990560248494
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 3209/4000 (80%)
Test set:local_Trigger1Poison Accuracy: 38/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 64/4000 (2%)
Done in 14.7662193775177 sec.
select client [349, 769, 62, 214, 134, 489, 513, 142, 316, 240]
l2 norm of benign user before server clipping 0.009995201090350746
l2 norm of benign user after server clipping 0.009995201090350746
___Test : epoch: 2018: Average loss: 0.0275, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.027502974278479815
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 3059/4000 (76%)
Test set:local_Trigger1Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 78/4000 (2%)
Done in 14.073833703994751 sec.
select client [354, 253, 871, 732, 718, 541, 948, 311, 375, 63]
l2 norm of benign user before server clipping 0.006350422347895801
l2 norm of benign user after server clipping 0.006350422347895801
___Test : epoch: 2019: Average loss: 0.0283, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.028269674038141967
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 3472/4000 (87%)
Test set:local_Trigger1Poison Accuracy: 69/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 759/4000 (19%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2086/4000 (52%)
Done in 14.167440414428711 sec.
select client [25, 194, 94, 874, 325, 349, 612, 837, 981]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005134655757703715
l2 norm of benign user after server clipping 0.005134655757703715
Poison Train Epoch: 0 	Loss: 0.011540
Poison Train Epoch: 1 	Loss: 0.052219
Poison Train Epoch: 2 	Loss: 0.010813
Poison Train Epoch: 3 	Loss: 0.020814
Poison Train Epoch: 4 	Loss: 0.053431
Poison Train Epoch: 5 	Loss: 0.038576
Poison Train Epoch: 6 	Loss: 0.079075
Poison Train Epoch: 7 	Loss: 0.015650
Poison Train Epoch: 8 	Loss: 0.008207
Poison Train Epoch: 9 	Loss: 0.016422
Poison Train Epoch: 10 	Loss: 0.013235
Poison Train Epoch: 11 	Loss: 0.013414
Poison Train Epoch: 12 	Loss: 0.009390
Poison Train Epoch: 13 	Loss: 0.008281
Poison Train Epoch: 14 	Loss: 0.021631
Poison Train Epoch: 15 	Loss: 0.012258
Poison Train Epoch: 16 	Loss: 0.013760
Poison Train Epoch: 17 	Loss: 0.013463
Poison Train Epoch: 18 	Loss: 0.065618
Poison Train Epoch: 19 	Loss: 0.017891
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2020: Average loss: 0.0302, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.030188335015624762
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 3405/4000 (85%)
Test set:local_Trigger1Poison Accuracy: 258/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 402/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 177/4000 (4%)
Done in 28.32094144821167 sec.
select client [779, 12, 323, 846, 425, 926, 35, 626, 391, 181]
l2 norm of benign user before server clipping 0.0075102858943864705
l2 norm of benign user after server clipping 0.0075102858943864705
___Test : epoch: 2021: Average loss: 0.0297, Accuracy: 39699/40000.0 (99.2475%)
benign test loss (after fedavg) 0.02973585616797209
benign test acc (after fedavg) 99.2475
Test set:local_Trigger0Poison Accuracy: 3271/4000 (82%)
Test set:local_Trigger1Poison Accuracy: 187/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 273/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39699/40000 (99%)
Test set:Global Trigger Poison Accuracy: 277/4000 (7%)
Done in 14.440008401870728 sec.
select client [311, 422, 452, 485, 460, 777, 509, 439, 568, 125]
l2 norm of benign user before server clipping 0.007597696571610868
l2 norm of benign user after server clipping 0.007597696571610868
___Test : epoch: 2022: Average loss: 0.0312, Accuracy: 39683/40000.0 (99.2075%)
benign test loss (after fedavg) 0.031165539435297252
benign test acc (after fedavg) 99.20750000000001
Test set:local_Trigger0Poison Accuracy: 3504/4000 (88%)
Test set:local_Trigger1Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 121/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39683/40000 (99%)
Test set:Global Trigger Poison Accuracy: 567/4000 (14%)
Done in 14.413971900939941 sec.
select client [780, 104, 565, 362, 237, 875, 295, 343, 71, 450]
l2 norm of benign user before server clipping 0.007137425430119038
l2 norm of benign user after server clipping 0.007137425430119038
___Test : epoch: 2023: Average loss: 0.0286, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.028573320688307285
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 3375/4000 (84%)
Test set:local_Trigger1Poison Accuracy: 236/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 189/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2288/4000 (57%)
Done in 14.56972074508667 sec.
select client [466, 354, 323, 571, 986, 686, 421, 676, 684, 851]
l2 norm of benign user before server clipping 0.007480910094454884
l2 norm of benign user after server clipping 0.007480910094454884
___Test : epoch: 2024: Average loss: 0.0275, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.027531397041678427
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 3301/4000 (83%)
Test set:local_Trigger1Poison Accuracy: 189/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 1309/4000 (33%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3196/4000 (80%)
Done in 14.321884393692017 sec.
select client [880, 279, 283, 843, 468, 866, 53, 797, 435]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.008075931212968297
l2 norm of benign user after server clipping 0.008075931212968297
Poison Train Epoch: 0 	Loss: 0.085726
Poison Train Epoch: 1 	Loss: 0.019326
Poison Train Epoch: 2 	Loss: 0.018465
Poison Train Epoch: 3 	Loss: 0.031237
Poison Train Epoch: 4 	Loss: 0.026329
Poison Train Epoch: 5 	Loss: 0.007136
Poison Train Epoch: 6 	Loss: 0.004537
Poison Train Epoch: 7 	Loss: 0.018316
Poison Train Epoch: 8 	Loss: 0.008520
Poison Train Epoch: 9 	Loss: 0.018485
Poison Train Epoch: 10 	Loss: 0.018918
Poison Train Epoch: 11 	Loss: 0.012745
Poison Train Epoch: 12 	Loss: 0.004973
Poison Train Epoch: 13 	Loss: 0.008143
Poison Train Epoch: 14 	Loss: 0.014550
Poison Train Epoch: 15 	Loss: 0.014603
Poison Train Epoch: 16 	Loss: 0.027038
Poison Train Epoch: 17 	Loss: 0.029041
Poison Train Epoch: 18 	Loss: 0.006049
Poison Train Epoch: 19 	Loss: 0.043220
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2025: Average loss: 0.0513, Accuracy: 39493/40000.0 (98.7325%)
benign test loss (after fedavg) 0.05130581325590611
benign test acc (after fedavg) 98.7325
Test set:local_Trigger0Poison Accuracy: 3193/4000 (80%)
Test set:local_Trigger1Poison Accuracy: 452/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 3779/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 101/4000 (3%)
Test set:Main Accuracy: 39493/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3976/4000 (99%)
Done in 29.23597264289856 sec.
select client [860, 59, 781, 560, 691, 514, 980, 330, 106, 214]
l2 norm of benign user before server clipping 0.005787806329317391
l2 norm of benign user after server clipping 0.005787806329317391
___Test : epoch: 2026: Average loss: 0.0295, Accuracy: 39687/40000.0 (99.2175%)
benign test loss (after fedavg) 0.02952077011317015
benign test acc (after fedavg) 99.2175
Test set:local_Trigger0Poison Accuracy: 3217/4000 (80%)
Test set:local_Trigger1Poison Accuracy: 210/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 2764/4000 (69%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39687/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3987/4000 (100%)
Done in 14.58130693435669 sec.
select client [970, 603, 765, 516, 701, 936, 375, 189, 828, 532]
l2 norm of benign user before server clipping 0.0072184531716629865
l2 norm of benign user after server clipping 0.0072184531716629865
___Test : epoch: 2027: Average loss: 0.0286, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.028649622881412505
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 3403/4000 (85%)
Test set:local_Trigger1Poison Accuracy: 242/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 3797/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3938/4000 (98%)
Done in 14.412713289260864 sec.
select client [749, 99, 64, 284, 71, 262, 238, 592, 109, 365]
l2 norm of benign user before server clipping 0.006817990448325872
l2 norm of benign user after server clipping 0.006817990448325872
___Test : epoch: 2028: Average loss: 0.0292, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.02920195764824748
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 3565/4000 (89%)
Test set:local_Trigger1Poison Accuracy: 353/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 3901/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3979/4000 (99%)
Done in 15.21178412437439 sec.
select client [558, 46, 811, 470, 362, 382, 456, 993, 125, 697]
l2 norm of benign user before server clipping 0.006569432490505278
l2 norm of benign user after server clipping 0.006569432490505278
___Test : epoch: 2029: Average loss: 0.0283, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.0282568197183311
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 2540/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 91/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 1597/4000 (40%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3077/4000 (77%)
Done in 14.309077501296997 sec.
select client [63, 874, 672, 738, 322, 554, 185, 646, 82]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00623665283071912
l2 norm of benign user after server clipping 0.00623665283071912
Poison Train Epoch: 0 	Loss: 0.017704
Poison Train Epoch: 1 	Loss: 0.031446
Poison Train Epoch: 2 	Loss: 0.069425
Poison Train Epoch: 3 	Loss: 0.019045
Poison Train Epoch: 4 	Loss: 0.055808
Poison Train Epoch: 5 	Loss: 0.023805
Poison Train Epoch: 6 	Loss: 0.038216
Poison Train Epoch: 7 	Loss: 0.035916
Poison Train Epoch: 8 	Loss: 0.029093
Poison Train Epoch: 9 	Loss: 0.026985
Poison Train Epoch: 10 	Loss: 0.043361
Poison Train Epoch: 11 	Loss: 0.075346
Poison Train Epoch: 12 	Loss: 0.083777
Poison Train Epoch: 13 	Loss: 0.037499
Poison Train Epoch: 14 	Loss: 0.129745
Poison Train Epoch: 15 	Loss: 0.006139
Poison Train Epoch: 16 	Loss: 0.011129
Poison Train Epoch: 17 	Loss: 0.036360
Poison Train Epoch: 18 	Loss: 0.008331
Poison Train Epoch: 19 	Loss: 0.009101
Test set:local_Trigger3_localPoison Accuracy: 3976/4000 (99%)
___Test : epoch: 2030: Average loss: 0.0326, Accuracy: 39681/40000.0 (99.2025%)
benign test loss (after fedavg) 0.03262367710769176
benign test acc (after fedavg) 99.2025
Test set:local_Trigger0Poison Accuracy: 3597/4000 (90%)
Test set:local_Trigger1Poison Accuracy: 468/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 3392/4000 (85%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39681/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2307/4000 (58%)
Done in 29.603610515594482 sec.
select client [56, 106, 764, 380, 18, 178, 915, 48, 386, 564]
l2 norm of benign user before server clipping 0.006981705664657056
l2 norm of benign user after server clipping 0.006981705664657056
___Test : epoch: 2031: Average loss: 0.0298, Accuracy: 39701/40000.0 (99.2525%)
benign test loss (after fedavg) 0.029779021476954222
benign test acc (after fedavg) 99.2525
Test set:local_Trigger0Poison Accuracy: 3617/4000 (90%)
Test set:local_Trigger1Poison Accuracy: 421/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 3101/4000 (78%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39701/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3890/4000 (97%)
Done in 14.759215354919434 sec.
select client [398, 824, 52, 571, 847, 454, 500, 964, 963, 692]
l2 norm of benign user before server clipping 0.009518170449882745
l2 norm of benign user after server clipping 0.009518170449882745
___Test : epoch: 2032: Average loss: 0.0302, Accuracy: 39701/40000.0 (99.2525%)
benign test loss (after fedavg) 0.030166410394757984
benign test acc (after fedavg) 99.2525
Test set:local_Trigger0Poison Accuracy: 3692/4000 (92%)
Test set:local_Trigger1Poison Accuracy: 540/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 3772/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39701/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3994/4000 (100%)
Done in 14.558065176010132 sec.
select client [70, 404, 181, 697, 552, 561, 627, 483, 895, 355]
l2 norm of benign user before server clipping 0.006213685241527855
l2 norm of benign user after server clipping 0.006213685241527855
___Test : epoch: 2033: Average loss: 0.0294, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.02943413185328245
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 3654/4000 (91%)
Test set:local_Trigger1Poison Accuracy: 502/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 3649/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3988/4000 (100%)
Done in 15.374474287033081 sec.
select client [435, 774, 173, 747, 113, 985, 109, 783, 655, 580]
l2 norm of benign user before server clipping 0.005092636402696371
l2 norm of benign user after server clipping 0.005092636402696371
___Test : epoch: 2034: Average loss: 0.0296, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.02961376390233636
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 3352/4000 (84%)
Test set:local_Trigger1Poison Accuracy: 247/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 2979/4000 (74%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3971/4000 (99%)
Done in 15.021339416503906 sec.
select client [731, 813, 242, 987, 791, 998, 777, 628, 485]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00611319113522768
l2 norm of benign user after server clipping 0.00611319113522768
Poison Train Epoch: 0 	Loss: 0.056721
Poison Train Epoch: 1 	Loss: 0.043608
Poison Train Epoch: 2 	Loss: 0.019471
Poison Train Epoch: 3 	Loss: 0.063914
Poison Train Epoch: 4 	Loss: 0.012523
Poison Train Epoch: 5 	Loss: 0.116456
Poison Train Epoch: 6 	Loss: 0.020469
Poison Train Epoch: 7 	Loss: 0.006176
Poison Train Epoch: 8 	Loss: 0.039841
Poison Train Epoch: 9 	Loss: 0.025871
Poison Train Epoch: 10 	Loss: 0.030937
Poison Train Epoch: 11 	Loss: 0.069034
Poison Train Epoch: 12 	Loss: 0.023787
Poison Train Epoch: 13 	Loss: 0.024928
Poison Train Epoch: 14 	Loss: 0.028391
Poison Train Epoch: 15 	Loss: 0.012364
Poison Train Epoch: 16 	Loss: 0.036734
Poison Train Epoch: 17 	Loss: 0.007158
Poison Train Epoch: 18 	Loss: 0.024727
Poison Train Epoch: 19 	Loss: 0.021234
Test set:local_Trigger0_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2035: Average loss: 0.0334, Accuracy: 39682/40000.0 (99.2050%)
benign test loss (after fedavg) 0.0333874202772975
benign test acc (after fedavg) 99.205
Test set:local_Trigger0Poison Accuracy: 3870/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 687/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 3825/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 35/4000 (1%)
Test set:Main Accuracy: 39682/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3985/4000 (100%)
Done in 29.349247932434082 sec.
select client [587, 253, 396, 912, 53, 420, 889, 850, 905, 145]
l2 norm of benign user before server clipping 0.006127377366647124
l2 norm of benign user after server clipping 0.006127377366647124
___Test : epoch: 2036: Average loss: 0.0292, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.029230060693621635
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 3877/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 465/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 3809/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3997/4000 (100%)
Done in 14.602577924728394 sec.
select client [541, 599, 789, 573, 179, 549, 516, 416, 844, 937]
l2 norm of benign user before server clipping 0.008251878200098872
l2 norm of benign user after server clipping 0.008251878200098872
___Test : epoch: 2037: Average loss: 0.0297, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.02966980624049902
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 3888/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 605/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 3821/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 23/4000 (1%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.99675703048706 sec.
select client [155, 307, 115, 736, 933, 166, 228, 487, 848, 353]
l2 norm of benign user before server clipping 0.005776749551296234
l2 norm of benign user after server clipping 0.005776749551296234
___Test : epoch: 2038: Average loss: 0.0293, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.029330932258069514
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 3885/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 477/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 3897/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.970662117004395 sec.
select client [296, 520, 763, 482, 36, 576, 590, 370, 483, 593]
l2 norm of benign user before server clipping 0.0057274930411949755
l2 norm of benign user after server clipping 0.0057274930411949755
___Test : epoch: 2039: Average loss: 0.0288, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.028837581008672713
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 3840/4000 (96%)
Test set:local_Trigger1Poison Accuracy: 392/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 3709/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 13.974239110946655 sec.
select client [21, 148, 412, 638, 341, 58, 987, 789, 170]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00721220387559798
l2 norm of benign user after server clipping 0.00721220387559798
Poison Train Epoch: 0 	Loss: 0.035888
Poison Train Epoch: 1 	Loss: 0.052661
Poison Train Epoch: 2 	Loss: 0.020264
Poison Train Epoch: 3 	Loss: 0.019630
Poison Train Epoch: 4 	Loss: 0.049374
Poison Train Epoch: 5 	Loss: 0.014624
Poison Train Epoch: 6 	Loss: 0.022971
Poison Train Epoch: 7 	Loss: 0.108658
Poison Train Epoch: 8 	Loss: 0.011157
Poison Train Epoch: 9 	Loss: 0.012989
Poison Train Epoch: 10 	Loss: 0.112984
Poison Train Epoch: 11 	Loss: 0.011349
Poison Train Epoch: 12 	Loss: 0.024883
Poison Train Epoch: 13 	Loss: 0.023952
Poison Train Epoch: 14 	Loss: 0.009126
Poison Train Epoch: 15 	Loss: 0.032222
Poison Train Epoch: 16 	Loss: 0.041591
Poison Train Epoch: 17 	Loss: 0.016266
Poison Train Epoch: 18 	Loss: 0.012706
Poison Train Epoch: 19 	Loss: 0.016406
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2040: Average loss: 0.0322, Accuracy: 39683/40000.0 (99.2075%)
benign test loss (after fedavg) 0.03222276530712843
benign test acc (after fedavg) 99.20750000000001
Test set:local_Trigger0Poison Accuracy: 3896/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 1697/4000 (42%)
Test set:local_Trigger2Poison Accuracy: 3622/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39683/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 29.00749659538269 sec.
select client [50, 430, 558, 872, 487, 997, 213, 399, 936, 524]
l2 norm of benign user before server clipping 0.00812316599767655
l2 norm of benign user after server clipping 0.00812316599767655
___Test : epoch: 2041: Average loss: 0.0305, Accuracy: 39691/40000.0 (99.2275%)
benign test loss (after fedavg) 0.030537403486669064
benign test acc (after fedavg) 99.2275
Test set:local_Trigger0Poison Accuracy: 3901/4000 (98%)
Test set:local_Trigger1Poison Accuracy: 1680/4000 (42%)
Test set:local_Trigger2Poison Accuracy: 3929/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 23/4000 (1%)
Test set:Main Accuracy: 39691/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.964233160018921 sec.
select client [466, 383, 227, 208, 556, 117, 560, 597, 698, 679]
l2 norm of benign user before server clipping 0.008011647895909847
l2 norm of benign user after server clipping 0.008011647895909847
___Test : epoch: 2042: Average loss: 0.0283, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.02833444167897105
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 3840/4000 (96%)
Test set:local_Trigger1Poison Accuracy: 1067/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 3690/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3988/4000 (100%)
Done in 14.904406785964966 sec.
select client [523, 965, 503, 609, 338, 307, 558, 849, 856, 254]
l2 norm of benign user before server clipping 0.007857028534635902
l2 norm of benign user after server clipping 0.007857028534635902
___Test : epoch: 2043: Average loss: 0.0303, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.03029256884306669
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 3898/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 1341/4000 (34%)
Test set:local_Trigger2Poison Accuracy: 3794/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 20/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.602749109268188 sec.
select client [570, 914, 819, 517, 706, 257, 29, 66, 705, 416]
l2 norm of benign user before server clipping 0.008458507154136896
l2 norm of benign user after server clipping 0.008458507154136896
___Test : epoch: 2044: Average loss: 0.0289, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.028854414708167315
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 3820/4000 (96%)
Test set:local_Trigger1Poison Accuracy: 947/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 3825/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.712261438369751 sec.
select client [325, 978, 406, 924, 134, 507, 847, 394, 782]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005468819471490052
l2 norm of benign user after server clipping 0.005468819471490052
Poison Train Epoch: 0 	Loss: 0.047145
Poison Train Epoch: 1 	Loss: 0.205999
Poison Train Epoch: 2 	Loss: 0.030889
Poison Train Epoch: 3 	Loss: 0.021660
Poison Train Epoch: 4 	Loss: 0.018757
Poison Train Epoch: 5 	Loss: 0.027496
Poison Train Epoch: 6 	Loss: 0.028972
Poison Train Epoch: 7 	Loss: 0.005063
Poison Train Epoch: 8 	Loss: 0.012655
Poison Train Epoch: 9 	Loss: 0.007547
Poison Train Epoch: 10 	Loss: 0.039753
Poison Train Epoch: 11 	Loss: 0.032475
Poison Train Epoch: 12 	Loss: 0.021358
Poison Train Epoch: 13 	Loss: 0.013954
Poison Train Epoch: 14 	Loss: 0.007241
Poison Train Epoch: 15 	Loss: 0.019557
Poison Train Epoch: 16 	Loss: 0.022171
Poison Train Epoch: 17 	Loss: 0.007930
Poison Train Epoch: 18 	Loss: 0.019059
Poison Train Epoch: 19 	Loss: 0.004077
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2045: Average loss: 0.0473, Accuracy: 39529/40000.0 (98.8225%)
benign test loss (after fedavg) 0.04727966641187668
benign test acc (after fedavg) 98.8225
Test set:local_Trigger0Poison Accuracy: 3564/4000 (89%)
Test set:local_Trigger1Poison Accuracy: 717/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 3955/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 77/4000 (2%)
Test set:Main Accuracy: 39529/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 27.970659017562866 sec.
select client [224, 928, 881, 86, 13, 665, 201, 408, 575, 592]
l2 norm of benign user before server clipping 0.00816798759624362
l2 norm of benign user after server clipping 0.00816798759624362
___Test : epoch: 2046: Average loss: 0.0301, Accuracy: 39692/40000.0 (99.2300%)
benign test loss (after fedavg) 0.03012733758762479
benign test acc (after fedavg) 99.22999999999999
Test set:local_Trigger0Poison Accuracy: 3901/4000 (98%)
Test set:local_Trigger1Poison Accuracy: 1410/4000 (35%)
Test set:local_Trigger2Poison Accuracy: 3994/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39692/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.024977445602417 sec.
select client [711, 910, 902, 449, 926, 735, 123, 124, 848, 185]
l2 norm of benign user before server clipping 0.007048870634753257
l2 norm of benign user after server clipping 0.007048870634753257
___Test : epoch: 2047: Average loss: 0.0288, Accuracy: 39702/40000.0 (99.2550%)
benign test loss (after fedavg) 0.028830385317653417
benign test acc (after fedavg) 99.25500000000001
Test set:local_Trigger0Poison Accuracy: 3809/4000 (95%)
Test set:local_Trigger1Poison Accuracy: 874/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 3938/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39702/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.066824197769165 sec.
select client [265, 109, 332, 14, 493, 171, 441, 683, 345, 468]
l2 norm of benign user before server clipping 0.007247997657395899
l2 norm of benign user after server clipping 0.007247997657395899
___Test : epoch: 2048: Average loss: 0.0290, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.028968094401061534
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 3756/4000 (94%)
Test set:local_Trigger1Poison Accuracy: 673/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 3963/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.174102544784546 sec.
select client [16, 101, 331, 50, 666, 242, 937, 968, 226, 832]
l2 norm of benign user before server clipping 0.005560800386592746
l2 norm of benign user after server clipping 0.005560800386592746
___Test : epoch: 2049: Average loss: 0.0296, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.029641171871125697
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 3820/4000 (96%)
Test set:local_Trigger1Poison Accuracy: 934/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 3987/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.527075290679932 sec.
select client [541, 820, 644, 122, 151, 942, 390, 742, 499]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007620021571508712
l2 norm of benign user after server clipping 0.007620021571508712
Poison Train Epoch: 0 	Loss: 0.036625
Poison Train Epoch: 1 	Loss: 0.035875
Poison Train Epoch: 2 	Loss: 0.021197
Poison Train Epoch: 3 	Loss: 0.012587
Poison Train Epoch: 4 	Loss: 0.009707
Poison Train Epoch: 5 	Loss: 0.006032
Poison Train Epoch: 6 	Loss: 0.006090
Poison Train Epoch: 7 	Loss: 0.023080
Poison Train Epoch: 8 	Loss: 0.068327
Poison Train Epoch: 9 	Loss: 0.010676
Poison Train Epoch: 10 	Loss: 0.003476
Poison Train Epoch: 11 	Loss: 0.057805
Poison Train Epoch: 12 	Loss: 0.011749
Poison Train Epoch: 13 	Loss: 0.010984
Poison Train Epoch: 14 	Loss: 0.009921
Poison Train Epoch: 15 	Loss: 0.025967
Poison Train Epoch: 16 	Loss: 0.005784
Poison Train Epoch: 17 	Loss: 0.021502
Poison Train Epoch: 18 	Loss: 0.021316
Poison Train Epoch: 19 	Loss: 0.014404
Test set:local_Trigger3_localPoison Accuracy: 3972/4000 (99%)
___Test : epoch: 2050: Average loss: 0.0331, Accuracy: 39680/40000.0 (99.2000%)
benign test loss (after fedavg) 0.03311809108182788
benign test acc (after fedavg) 99.2
Test set:local_Trigger0Poison Accuracy: 3941/4000 (99%)
Test set:local_Trigger1Poison Accuracy: 2481/4000 (62%)
Test set:local_Trigger2Poison Accuracy: 3981/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 47/4000 (1%)
Test set:Main Accuracy: 39680/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 28.833219289779663 sec.
select client [74, 263, 249, 390, 886, 101, 477, 226, 769, 317]
l2 norm of benign user before server clipping 0.00817541372962296
l2 norm of benign user after server clipping 0.00817541372962296
___Test : epoch: 2051: Average loss: 0.0308, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.030797023989260198
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 3897/4000 (97%)
Test set:local_Trigger1Poison Accuracy: 1612/4000 (40%)
Test set:local_Trigger2Poison Accuracy: 3862/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 24/4000 (1%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.490731954574585 sec.
select client [619, 812, 873, 36, 697, 585, 385, 999, 524, 33]
l2 norm of benign user before server clipping 0.008382376842200756
l2 norm of benign user after server clipping 0.008382376842200756
___Test : epoch: 2052: Average loss: 0.0314, Accuracy: 39689/40000.0 (99.2225%)
benign test loss (after fedavg) 0.031419654755294325
benign test acc (after fedavg) 99.2225
Test set:local_Trigger0Poison Accuracy: 3774/4000 (94%)
Test set:local_Trigger1Poison Accuracy: 1051/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 3921/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39689/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3988/4000 (100%)
Done in 15.23392653465271 sec.
select client [618, 729, 502, 403, 350, 660, 833, 83, 646, 696]
l2 norm of benign user before server clipping 0.0068449779413640496
l2 norm of benign user after server clipping 0.0068449779413640496
___Test : epoch: 2053: Average loss: 0.0297, Accuracy: 39691/40000.0 (99.2275%)
benign test loss (after fedavg) 0.029743903793394564
benign test acc (after fedavg) 99.2275
Test set:local_Trigger0Poison Accuracy: 3724/4000 (93%)
Test set:local_Trigger1Poison Accuracy: 790/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 3909/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39691/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.096419095993042 sec.
select client [631, 136, 878, 35, 839, 963, 584, 671, 433, 685]
l2 norm of benign user before server clipping 0.009994015819393099
l2 norm of benign user after server clipping 0.009994015819393099
___Test : epoch: 2054: Average loss: 0.0309, Accuracy: 39682/40000.0 (99.2050%)
benign test loss (after fedavg) 0.030863962284475566
benign test acc (after fedavg) 99.205
Test set:local_Trigger0Poison Accuracy: 3743/4000 (94%)
Test set:local_Trigger1Poison Accuracy: 882/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 3857/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39682/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.52937388420105 sec.
select client [83, 127, 786, 712, 143, 239, 547, 313, 729, 780]
l2 norm of benign user before server clipping 0.006219556275755167
l2 norm of benign user after server clipping 0.006219556275755167
___Test : epoch: 2055: Average loss: 0.0286, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.028576185704022646
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 3496/4000 (87%)
Test set:local_Trigger1Poison Accuracy: 352/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 3899/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.481013774871826 sec.
select client [75, 664, 280, 692, 770, 583, 630, 799, 485, 719]
l2 norm of benign user before server clipping 0.00844987714663148
l2 norm of benign user after server clipping 0.00844987714663148
___Test : epoch: 2056: Average loss: 0.0286, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.02860461867377162
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 3643/4000 (91%)
Test set:local_Trigger1Poison Accuracy: 536/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 3904/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.236839532852173 sec.
select client [305, 42, 201, 99, 422, 474, 793, 728, 471, 294]
l2 norm of benign user before server clipping 0.006029732711613178
l2 norm of benign user after server clipping 0.006029732711613178
___Test : epoch: 2057: Average loss: 0.0288, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.028817786659300328
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 3687/4000 (92%)
Test set:local_Trigger1Poison Accuracy: 575/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 3950/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.129642724990845 sec.
select client [587, 905, 781, 836, 734, 866, 251, 175, 860, 901]
l2 norm of benign user before server clipping 0.0062354475958272815
l2 norm of benign user after server clipping 0.0062354475958272815
___Test : epoch: 2058: Average loss: 0.0281, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.028146684294193983
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 3409/4000 (85%)
Test set:local_Trigger1Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 3713/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.273718118667603 sec.
select client [816, 924, 871, 422, 710, 191, 114, 604, 172, 357]
l2 norm of benign user before server clipping 0.004414184112101793
l2 norm of benign user after server clipping 0.004414184112101793
___Test : epoch: 2059: Average loss: 0.0284, Accuracy: 39693/40000.0 (99.2325%)
benign test loss (after fedavg) 0.028431410603970288
benign test acc (after fedavg) 99.2325
Test set:local_Trigger0Poison Accuracy: 3332/4000 (83%)
Test set:local_Trigger1Poison Accuracy: 279/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 3389/4000 (85%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39693/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3994/4000 (100%)
Done in 14.320434808731079 sec.
select client [819, 94, 756, 190, 844, 954, 596, 682, 561, 645]
l2 norm of benign user before server clipping 0.008511971356347204
l2 norm of benign user after server clipping 0.008511971356347204
___Test : epoch: 2060: Average loss: 0.0280, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.02801408747807145
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 3703/4000 (93%)
Test set:local_Trigger1Poison Accuracy: 582/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 3931/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.872604370117188 sec.
select client [443, 691, 518, 840, 937, 221, 49, 613, 361, 69]
l2 norm of benign user before server clipping 0.005814570898655802
l2 norm of benign user after server clipping 0.005814570898655802
___Test : epoch: 2061: Average loss: 0.0295, Accuracy: 39693/40000.0 (99.2325%)
benign test loss (after fedavg) 0.02945471215546131
benign test acc (after fedavg) 99.2325
Test set:local_Trigger0Poison Accuracy: 3601/4000 (90%)
Test set:local_Trigger1Poison Accuracy: 527/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 3798/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39693/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.28945541381836 sec.
select client [958, 531, 458, 687, 700, 360, 107, 797, 762, 439]
l2 norm of benign user before server clipping 0.007228040811605751
l2 norm of benign user after server clipping 0.007228040811605751
___Test : epoch: 2062: Average loss: 0.0278, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.02783527360484004
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 3382/4000 (85%)
Test set:local_Trigger1Poison Accuracy: 269/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 3725/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.479730367660522 sec.
select client [610, 426, 854, 473, 618, 193, 310, 889, 184, 798]
l2 norm of benign user before server clipping 0.008848606725223362
l2 norm of benign user after server clipping 0.008848606725223362
___Test : epoch: 2063: Average loss: 0.0273, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.027298452613502742
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 3359/4000 (84%)
Test set:local_Trigger1Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 3868/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.240997314453125 sec.
select client [687, 697, 95, 608, 936, 578, 472, 164, 338, 340]
l2 norm of benign user before server clipping 0.007325807376764715
l2 norm of benign user after server clipping 0.007325807376764715
___Test : epoch: 2064: Average loss: 0.0273, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.02733385142609477
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 3569/4000 (89%)
Test set:local_Trigger1Poison Accuracy: 420/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 3940/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.795263528823853 sec.
select client [756, 514, 659, 958, 130, 480, 603, 488, 680, 97]
l2 norm of benign user before server clipping 0.0062515642261132594
l2 norm of benign user after server clipping 0.0062515642261132594
___Test : epoch: 2065: Average loss: 0.0282, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.028216036441922186
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 3768/4000 (94%)
Test set:local_Trigger1Poison Accuracy: 612/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 3959/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.18958568572998 sec.
select client [68, 963, 971, 370, 47, 765, 656, 935, 131, 984]
l2 norm of benign user before server clipping 0.006673769827466458
l2 norm of benign user after server clipping 0.006673769827466458
___Test : epoch: 2066: Average loss: 0.0276, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.027557020645588636
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 2959/4000 (74%)
Test set:local_Trigger1Poison Accuracy: 151/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3506/4000 (88%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.307258367538452 sec.
select client [51, 699, 885, 178, 280, 219, 903, 369, 154, 108]
l2 norm of benign user before server clipping 0.007619725656695664
l2 norm of benign user after server clipping 0.007619725656695664
___Test : epoch: 2067: Average loss: 0.0282, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.028187834057956933
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 2703/4000 (68%)
Test set:local_Trigger1Poison Accuracy: 120/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3153/4000 (79%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3997/4000 (100%)
Done in 14.578792333602905 sec.
select client [724, 278, 501, 946, 654, 825, 371, 954, 220, 738]
l2 norm of benign user before server clipping 0.005712815094739199
l2 norm of benign user after server clipping 0.005712815094739199
___Test : epoch: 2068: Average loss: 0.0284, Accuracy: 39695/40000.0 (99.2375%)
benign test loss (after fedavg) 0.028375343930721282
benign test acc (after fedavg) 99.2375
Test set:local_Trigger0Poison Accuracy: 3527/4000 (88%)
Test set:local_Trigger1Poison Accuracy: 303/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 3941/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39695/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.722211599349976 sec.
select client [131, 487, 157, 649, 671, 557, 642, 304, 443, 404]
l2 norm of benign user before server clipping 0.005996987636899575
l2 norm of benign user after server clipping 0.005996987636899575
___Test : epoch: 2069: Average loss: 0.0279, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.027932176550477743
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 3556/4000 (89%)
Test set:local_Trigger1Poison Accuracy: 375/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 3772/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.312297344207764 sec.
select client [827, 811, 932, 408, 65, 120, 316, 617, 855, 983]
l2 norm of benign user before server clipping 0.008809146145358682
l2 norm of benign user after server clipping 0.008809146145358682
___Test : epoch: 2070: Average loss: 0.0270, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.027038153571635484
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 3460/4000 (86%)
Test set:local_Trigger1Poison Accuracy: 339/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 3924/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.46337366104126 sec.
select client [695, 402, 419, 858, 991, 867, 220, 936, 918, 859]
l2 norm of benign user before server clipping 0.004159568110480905
l2 norm of benign user after server clipping 0.004159568110480905
___Test : epoch: 2071: Average loss: 0.0273, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.02732511899098754
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 2537/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 85/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 2977/4000 (74%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3972/4000 (99%)
Done in 14.320210933685303 sec.
select client [487, 303, 483, 586, 840, 817, 739, 225, 999, 679]
l2 norm of benign user before server clipping 0.006663527362979949
l2 norm of benign user after server clipping 0.006663527362979949
___Test : epoch: 2072: Average loss: 0.0269, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.026932967165857552
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 3180/4000 (80%)
Test set:local_Trigger1Poison Accuracy: 189/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3944/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.956353187561035 sec.
select client [77, 716, 129, 410, 982, 935, 246, 771, 662, 620]
l2 norm of benign user before server clipping 0.008090753224678338
l2 norm of benign user after server clipping 0.008090753224678338
___Test : epoch: 2073: Average loss: 0.0278, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.027812845731526613
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 3471/4000 (87%)
Test set:local_Trigger1Poison Accuracy: 365/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 3839/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.283319234848022 sec.
select client [19, 389, 306, 54, 79, 993, 425, 155, 727, 794]
l2 norm of benign user before server clipping 0.008446504664607345
l2 norm of benign user after server clipping 0.008446504664607345
___Test : epoch: 2074: Average loss: 0.0268, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.026835010870546103
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 3154/4000 (79%)
Test set:local_Trigger1Poison Accuracy: 171/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3873/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.550992727279663 sec.
select client [995, 637, 858, 360, 137, 415, 430, 944, 73, 914]
l2 norm of benign user before server clipping 0.010178875154815614
l2 norm of benign user after server clipping 0.010178875154815614
___Test : epoch: 2075: Average loss: 0.0281, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.02805158778578043
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 2468/4000 (62%)
Test set:local_Trigger1Poison Accuracy: 112/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3620/4000 (90%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3960/4000 (99%)
Done in 14.446204900741577 sec.
select client [487, 154, 994, 649, 996, 819, 103, 570, 602, 624]
l2 norm of benign user before server clipping 0.007331086520571262
l2 norm of benign user after server clipping 0.007331086520571262
___Test : epoch: 2076: Average loss: 0.0270, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.026963427221402526
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 3301/4000 (83%)
Test set:local_Trigger1Poison Accuracy: 218/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3862/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.013235330581665 sec.
select client [566, 370, 832, 295, 436, 442, 366, 359, 97, 780]
l2 norm of benign user before server clipping 0.004759878106415272
l2 norm of benign user after server clipping 0.004759878106415272
___Test : epoch: 2077: Average loss: 0.0265, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026504508468136193
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 2953/4000 (74%)
Test set:local_Trigger1Poison Accuracy: 130/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3855/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.115589141845703 sec.
select client [615, 434, 730, 873, 477, 647, 363, 130, 894, 734]
l2 norm of benign user before server clipping 0.006100246869027615
l2 norm of benign user after server clipping 0.006100246869027615
___Test : epoch: 2078: Average loss: 0.0277, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.027680760166794063
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 3615/4000 (90%)
Test set:local_Trigger1Poison Accuracy: 399/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 3965/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.341306924819946 sec.
select client [153, 957, 793, 974, 446, 846, 389, 32, 529, 636]
l2 norm of benign user before server clipping 0.0058037722366862
l2 norm of benign user after server clipping 0.0058037722366862
___Test : epoch: 2079: Average loss: 0.0261, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.026087315151467918
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 3114/4000 (78%)
Test set:local_Trigger1Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3813/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.266506433486938 sec.
select client [973, 589, 981, 721, 418, 500, 65, 846, 151, 474]
l2 norm of benign user before server clipping 0.005831008416134864
l2 norm of benign user after server clipping 0.005831008416134864
___Test : epoch: 2080: Average loss: 0.0270, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.02703738848939538
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 3203/4000 (80%)
Test set:local_Trigger1Poison Accuracy: 206/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3904/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.795757532119751 sec.
select client [886, 528, 777, 140, 736, 400, 857, 104, 919, 761]
l2 norm of benign user before server clipping 0.007521344092674553
l2 norm of benign user after server clipping 0.007521344092674553
___Test : epoch: 2081: Average loss: 0.0299, Accuracy: 39672/40000.0 (99.1800%)
benign test loss (after fedavg) 0.02990111683830619
benign test acc (after fedavg) 99.18
Test set:local_Trigger0Poison Accuracy: 3478/4000 (87%)
Test set:local_Trigger1Poison Accuracy: 345/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 3761/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39672/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.191301822662354 sec.
select client [913, 987, 863, 175, 23, 872, 607, 391, 56, 726]
l2 norm of benign user before server clipping 0.0068288319511339065
l2 norm of benign user after server clipping 0.0068288319511339065
___Test : epoch: 2082: Average loss: 0.0260, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.026027195175737143
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 3081/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 180/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3849/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.308798789978027 sec.
select client [561, 424, 122, 454, 698, 883, 798, 396, 179, 754]
l2 norm of benign user before server clipping 0.004992869589477778
l2 norm of benign user after server clipping 0.004992869589477778
___Test : epoch: 2083: Average loss: 0.0266, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026605904792249203
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 2916/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 157/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3675/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.616822004318237 sec.
select client [89, 48, 717, 13, 324, 398, 326, 676, 264, 489]
l2 norm of benign user before server clipping 0.007648607855662704
l2 norm of benign user after server clipping 0.007648607855662704
___Test : epoch: 2084: Average loss: 0.0291, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.029080422059446574
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 3290/4000 (82%)
Test set:local_Trigger1Poison Accuracy: 254/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 3963/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3972/4000 (99%)
Done in 15.081400632858276 sec.
select client [852, 342, 647, 529, 579, 205, 536, 816, 935, 129]
l2 norm of benign user before server clipping 0.006300185131840408
l2 norm of benign user after server clipping 0.006300185131840408
___Test : epoch: 2085: Average loss: 0.0281, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.028083624313771725
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 3278/4000 (82%)
Test set:local_Trigger1Poison Accuracy: 261/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 3808/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3983/4000 (100%)
Done in 14.244989156723022 sec.
select client [196, 149, 468, 949, 530, 121, 941, 502, 344, 59]
l2 norm of benign user before server clipping 0.006516641238704324
l2 norm of benign user after server clipping 0.006516641238704324
___Test : epoch: 2086: Average loss: 0.0268, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026819228748977183
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 2550/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 90/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3573/4000 (89%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3979/4000 (99%)
Done in 14.436825037002563 sec.
select client [107, 652, 35, 240, 492, 68, 929, 413, 274, 585]
l2 norm of benign user before server clipping 0.005347400601021945
l2 norm of benign user after server clipping 0.005347400601021945
___Test : epoch: 2087: Average loss: 0.0268, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.026834902012348175
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 2040/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 67/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3842/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3942/4000 (99%)
Done in 14.410110473632812 sec.
select client [534, 722, 469, 81, 783, 927, 488, 68, 754, 207]
l2 norm of benign user before server clipping 0.004483424057252705
l2 norm of benign user after server clipping 0.004483424057252705
___Test : epoch: 2088: Average loss: 0.0263, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02634670582190156
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2672/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 124/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3733/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3994/4000 (100%)
Done in 14.430863380432129 sec.
select client [955, 590, 654, 922, 219, 20, 591, 834, 38, 695]
l2 norm of benign user before server clipping 0.005419555841945112
l2 norm of benign user after server clipping 0.005419555841945112
___Test : epoch: 2089: Average loss: 0.0265, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.026527993604540823
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 2603/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 92/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3842/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3995/4000 (100%)
Done in 14.105608940124512 sec.
select client [840, 626, 133, 627, 21, 941, 939, 344, 34, 920]
l2 norm of benign user before server clipping 0.006664511538110674
l2 norm of benign user after server clipping 0.006664511538110674
___Test : epoch: 2090: Average loss: 0.0264, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.026351091473549606
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 2032/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 77/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3689/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3948/4000 (99%)
Done in 14.31503701210022 sec.
select client [526, 658, 553, 185, 104, 219, 532, 842, 333, 869]
l2 norm of benign user before server clipping 0.006837151711806655
l2 norm of benign user after server clipping 0.006837151711806655
___Test : epoch: 2091: Average loss: 0.0277, Accuracy: 39702/40000.0 (99.2550%)
benign test loss (after fedavg) 0.027675530014187096
benign test acc (after fedavg) 99.25500000000001
Test set:local_Trigger0Poison Accuracy: 3083/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 158/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3887/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39702/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.69442367553711 sec.
select client [467, 12, 528, 421, 751, 505, 299, 792, 497, 201]
l2 norm of benign user before server clipping 0.008032136713154614
l2 norm of benign user after server clipping 0.008032136713154614
___Test : epoch: 2092: Average loss: 0.0262, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.02616962376199663
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 2861/4000 (72%)
Test set:local_Trigger1Poison Accuracy: 153/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3646/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.025778532028198 sec.
select client [955, 678, 877, 411, 970, 496, 923, 863, 146, 196]
l2 norm of benign user before server clipping 0.007149580540135503
l2 norm of benign user after server clipping 0.007149580540135503
___Test : epoch: 2093: Average loss: 0.0274, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.027362236699461938
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 3353/4000 (84%)
Test set:local_Trigger1Poison Accuracy: 265/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 3689/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.317969799041748 sec.
select client [817, 820, 823, 700, 494, 114, 576, 246, 670, 413]
l2 norm of benign user before server clipping 0.005046988313551992
l2 norm of benign user after server clipping 0.005046988313551992
___Test : epoch: 2094: Average loss: 0.0264, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.02640045407935977
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 2901/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 125/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3841/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.09598970413208 sec.
select client [405, 431, 706, 507, 314, 337, 419, 443, 802, 188]
l2 norm of benign user before server clipping 0.007758010772522539
l2 norm of benign user after server clipping 0.007758010772522539
___Test : epoch: 2095: Average loss: 0.0265, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026530472665280105
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 3164/4000 (79%)
Test set:local_Trigger1Poison Accuracy: 181/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3770/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.751674890518188 sec.
select client [607, 601, 526, 584, 550, 241, 555, 903, 582, 200]
l2 norm of benign user before server clipping 0.006424498884007335
l2 norm of benign user after server clipping 0.006424498884007335
___Test : epoch: 2096: Average loss: 0.0272, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.027227964621782303
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 2877/4000 (72%)
Test set:local_Trigger1Poison Accuracy: 117/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3456/4000 (86%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.268028974533081 sec.
select client [429, 32, 138, 570, 235, 260, 113, 180, 456, 134]
l2 norm of benign user before server clipping 0.0057936671655625105
l2 norm of benign user after server clipping 0.0057936671655625105
___Test : epoch: 2097: Average loss: 0.0262, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.026168548365682363
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 2537/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 107/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3355/4000 (84%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.394892692565918 sec.
select client [788, 335, 881, 983, 519, 925, 969, 243, 660, 320]
l2 norm of benign user before server clipping 0.0059791463077999655
l2 norm of benign user after server clipping 0.0059791463077999655
___Test : epoch: 2098: Average loss: 0.0270, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.027043638384342195
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 3326/4000 (83%)
Test set:local_Trigger1Poison Accuracy: 272/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 3783/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3985/4000 (100%)
Done in 14.678761959075928 sec.
select client [231, 774, 867, 291, 267, 809, 310, 77, 594, 778]
l2 norm of benign user before server clipping 0.008240366913378238
l2 norm of benign user after server clipping 0.008240366913378238
___Test : epoch: 2099: Average loss: 0.0266, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026560806703194977
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 1828/4000 (46%)
Test set:local_Trigger1Poison Accuracy: 42/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 2166/4000 (54%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3752/4000 (94%)
Done in 14.513555765151978 sec.
select client [29, 947, 666, 142, 535, 541, 650, 730, 583, 55]
l2 norm of benign user before server clipping 0.007073157234117389
l2 norm of benign user after server clipping 0.007073157234117389
___Test : epoch: 2100: Average loss: 0.0262, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.026181107619777322
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2903/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 154/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3893/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.873390913009644 sec.
select client [560, 419, 314, 164, 496, 15, 185, 646, 445, 672]
l2 norm of benign user before server clipping 0.0052904887590557335
l2 norm of benign user after server clipping 0.0052904887590557335
___Test : epoch: 2101: Average loss: 0.0276, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.02761473017334938
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 2949/4000 (74%)
Test set:local_Trigger1Poison Accuracy: 164/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3691/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.210358381271362 sec.
select client [477, 207, 222, 290, 401, 794, 892, 945, 859, 97]
l2 norm of benign user before server clipping 0.005005877045914531
l2 norm of benign user after server clipping 0.005005877045914531
___Test : epoch: 2102: Average loss: 0.0270, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.026961961668729783
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 3076/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 200/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3810/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3979/4000 (99%)
Done in 14.243643283843994 sec.
select client [168, 451, 722, 467, 382, 195, 429, 833, 464, 782]
l2 norm of benign user before server clipping 0.007149104005657136
l2 norm of benign user after server clipping 0.007149104005657136
___Test : epoch: 2103: Average loss: 0.0268, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.02680955348163843
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 1909/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3467/4000 (87%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.871123552322388 sec.
select client [222, 849, 936, 615, 243, 284, 411, 335, 857, 878]
l2 norm of benign user before server clipping 0.004749074776191265
l2 norm of benign user after server clipping 0.004749074776191265
___Test : epoch: 2104: Average loss: 0.0269, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.026892714144289495
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 3569/4000 (89%)
Test set:local_Trigger1Poison Accuracy: 351/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 3939/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.745014190673828 sec.
select client [807, 457, 671, 899, 858, 869, 513, 214, 507, 955]
l2 norm of benign user before server clipping 0.006038808787707239
l2 norm of benign user after server clipping 0.006038808787707239
___Test : epoch: 2105: Average loss: 0.0272, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.027210537604987622
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 3531/4000 (88%)
Test set:local_Trigger1Poison Accuracy: 312/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 3964/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.334908246994019 sec.
select client [445, 212, 345, 855, 932, 222, 205, 54, 272, 792]
l2 norm of benign user before server clipping 0.007686401135288179
l2 norm of benign user after server clipping 0.007686401135288179
___Test : epoch: 2106: Average loss: 0.0264, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.0263801744453609
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 2078/4000 (52%)
Test set:local_Trigger1Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3598/4000 (90%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 14.400497674942017 sec.
select client [70, 80, 461, 916, 54, 976, 614, 580, 11, 188]
l2 norm of benign user before server clipping 0.007163098570890725
l2 norm of benign user after server clipping 0.007163098570890725
___Test : epoch: 2107: Average loss: 0.0258, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025773407830297947
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 2164/4000 (54%)
Test set:local_Trigger1Poison Accuracy: 77/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3368/4000 (84%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.77788257598877 sec.
select client [641, 762, 693, 501, 732, 627, 909, 474, 68, 427]
l2 norm of benign user before server clipping 0.0050217759096995
l2 norm of benign user after server clipping 0.0050217759096995
___Test : epoch: 2108: Average loss: 0.0257, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.02566663749553263
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 2981/4000 (75%)
Test set:local_Trigger1Poison Accuracy: 152/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3869/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.359934568405151 sec.
select client [754, 984, 537, 228, 626, 546, 410, 362, 475, 109]
l2 norm of benign user before server clipping 0.004505591723136604
l2 norm of benign user after server clipping 0.004505591723136604
___Test : epoch: 2109: Average loss: 0.0255, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.02553385955505073
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 2113/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 71/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3714/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3952/4000 (99%)
Done in 14.271255731582642 sec.
select client [867, 638, 157, 960, 338, 935, 652, 492, 971, 881]
l2 norm of benign user before server clipping 0.006166586244944483
l2 norm of benign user after server clipping 0.006166586244944483
___Test : epoch: 2110: Average loss: 0.0261, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.026094319286197425
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 2741/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 129/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3867/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 14.14397668838501 sec.
select client [932, 610, 39, 80, 205, 43, 663, 30, 723, 377]
l2 norm of benign user before server clipping 0.0053715952672064304
l2 norm of benign user after server clipping 0.0053715952672064304
___Test : epoch: 2111: Average loss: 0.0252, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.02523806602321565
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 2502/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 102/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3789/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.152885675430298 sec.
select client [682, 357, 80, 286, 940, 663, 696, 946, 334, 709]
l2 norm of benign user before server clipping 0.004826319008134306
l2 norm of benign user after server clipping 0.004826319008134306
___Test : epoch: 2112: Average loss: 0.0256, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.025628280023485422
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 2984/4000 (75%)
Test set:local_Trigger1Poison Accuracy: 132/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3912/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.181310653686523 sec.
select client [829, 767, 304, 804, 506, 928, 95, 17, 916, 799]
l2 norm of benign user before server clipping 0.007009295071475208
l2 norm of benign user after server clipping 0.007009295071475208
___Test : epoch: 2113: Average loss: 0.0261, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.02610209814310074
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 3083/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 180/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3859/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.597294569015503 sec.
select client [528, 356, 208, 966, 368, 995, 613, 682, 746, 122]
l2 norm of benign user before server clipping 0.007369402120821178
l2 norm of benign user after server clipping 0.007369402120821178
___Test : epoch: 2114: Average loss: 0.0249, Accuracy: 39743/40000.0 (99.3575%)
benign test loss (after fedavg) 0.024944593093171714
benign test acc (after fedavg) 99.3575
Test set:local_Trigger0Poison Accuracy: 2394/4000 (60%)
Test set:local_Trigger1Poison Accuracy: 87/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3816/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39743/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3997/4000 (100%)
Done in 14.396833181381226 sec.
select client [642, 527, 734, 245, 101, 762, 74, 722, 595, 991]
l2 norm of benign user before server clipping 0.0065440898295491936
l2 norm of benign user after server clipping 0.0065440898295491936
___Test : epoch: 2115: Average loss: 0.0264, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026412860577553512
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 2417/4000 (60%)
Test set:local_Trigger1Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 2579/4000 (64%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3912/4000 (98%)
Done in 14.455764532089233 sec.
select client [311, 805, 975, 269, 771, 745, 674, 974, 151, 627]
l2 norm of benign user before server clipping 0.007989729999098926
l2 norm of benign user after server clipping 0.007989729999098926
___Test : epoch: 2116: Average loss: 0.0265, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026504195185005665
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 2769/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 110/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3909/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.77700400352478 sec.
select client [656, 577, 178, 738, 750, 957, 135, 677, 583, 298]
l2 norm of benign user before server clipping 0.006387519254349172
l2 norm of benign user after server clipping 0.006387519254349172
___Test : epoch: 2117: Average loss: 0.0267, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.026677614210546017
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 2882/4000 (72%)
Test set:local_Trigger1Poison Accuracy: 131/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3689/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3977/4000 (99%)
Done in 15.107868194580078 sec.
select client [970, 978, 567, 893, 97, 846, 260, 387, 162, 578]
l2 norm of benign user before server clipping 0.005822901707142591
l2 norm of benign user after server clipping 0.005822901707142591
___Test : epoch: 2118: Average loss: 0.0259, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.025915625803917645
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 2726/4000 (68%)
Test set:local_Trigger1Poison Accuracy: 81/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3872/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3981/4000 (100%)
Done in 14.311273574829102 sec.
select client [922, 184, 504, 427, 99, 567, 353, 903, 260, 794]
l2 norm of benign user before server clipping 0.004382370563689619
l2 norm of benign user after server clipping 0.004382370563689619
___Test : epoch: 2119: Average loss: 0.0259, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.02592902152389288
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 2673/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 99/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3305/4000 (83%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3977/4000 (99%)
Done in 14.578828811645508 sec.
select client [625, 491, 133, 288, 585, 672, 178, 594, 873, 790]
l2 norm of benign user before server clipping 0.005593819357454777
l2 norm of benign user after server clipping 0.005593819357454777
___Test : epoch: 2120: Average loss: 0.0264, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.026399599312245847
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 3025/4000 (76%)
Test set:local_Trigger1Poison Accuracy: 170/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3778/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3989/4000 (100%)
Done in 14.676531314849854 sec.
select client [38, 964, 951, 805, 433, 167, 15, 480, 869, 771]
l2 norm of benign user before server clipping 0.0079812558949925
l2 norm of benign user after server clipping 0.0079812558949925
___Test : epoch: 2121: Average loss: 0.0261, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.02614800018593669
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 2730/4000 (68%)
Test set:local_Trigger1Poison Accuracy: 119/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3681/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.181973457336426 sec.
select client [379, 704, 783, 241, 308, 803, 972, 355, 836, 912]
l2 norm of benign user before server clipping 0.006163361016660929
l2 norm of benign user after server clipping 0.006163361016660929
___Test : epoch: 2122: Average loss: 0.0263, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.026295778819546103
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 3133/4000 (78%)
Test set:local_Trigger1Poison Accuracy: 171/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3906/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.49534296989441 sec.
select client [865, 19, 72, 251, 138, 209, 147, 267, 60, 469]
l2 norm of benign user before server clipping 0.004817791748791933
l2 norm of benign user after server clipping 0.004817791748791933
___Test : epoch: 2123: Average loss: 0.0263, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.026319876511394977
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 2755/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 116/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3383/4000 (85%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.836486577987671 sec.
select client [285, 611, 672, 600, 811, 920, 529, 780, 360, 119]
l2 norm of benign user before server clipping 0.009225955535657703
l2 norm of benign user after server clipping 0.009225955535657703
___Test : epoch: 2124: Average loss: 0.0277, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.027716872913390398
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 2070/4000 (52%)
Test set:local_Trigger1Poison Accuracy: 56/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3663/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3914/4000 (98%)
Done in 14.703839302062988 sec.
select client [904, 32, 819, 491, 739, 662, 929, 928, 458, 542]
l2 norm of benign user before server clipping 0.0053373998845927416
l2 norm of benign user after server clipping 0.0053373998845927416
___Test : epoch: 2125: Average loss: 0.0257, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025710115442425012
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 2995/4000 (75%)
Test set:local_Trigger1Poison Accuracy: 157/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3818/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.197962760925293 sec.
select client [616, 97, 25, 621, 402, 79, 578, 178, 287, 275]
l2 norm of benign user before server clipping 0.006792250322178006
l2 norm of benign user after server clipping 0.006792250322178006
___Test : epoch: 2126: Average loss: 0.0262, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.026169962202757597
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 3081/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 150/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3867/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.269201755523682 sec.
select client [222, 173, 659, 82, 541, 756, 470, 911, 984, 568]
l2 norm of benign user before server clipping 0.005661186215002089
l2 norm of benign user after server clipping 0.005661186215002089
___Test : epoch: 2127: Average loss: 0.0263, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.02634191980957985
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 2673/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 102/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3551/4000 (89%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.05111813545227 sec.
select client [399, 570, 237, 392, 732, 683, 354, 503, 23, 64]
l2 norm of benign user before server clipping 0.0068058034405112265
l2 norm of benign user after server clipping 0.0068058034405112265
___Test : epoch: 2128: Average loss: 0.0264, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026369129932299257
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 2677/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 87/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3427/4000 (86%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.983032703399658 sec.
select client [370, 488, 489, 761, 479, 538, 409, 922, 78, 909]
l2 norm of benign user before server clipping 0.006255782092921436
l2 norm of benign user after server clipping 0.006255782092921436
___Test : epoch: 2129: Average loss: 0.0260, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.0260103042434901
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 2508/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3905/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 14.190711975097656 sec.
select client [284, 423, 914, 419, 109, 382, 599, 890, 555, 190]
l2 norm of benign user before server clipping 0.007847272849176079
l2 norm of benign user after server clipping 0.007847272849176079
___Test : epoch: 2130: Average loss: 0.0262, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026196440203487874
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 1648/4000 (41%)
Test set:local_Trigger1Poison Accuracy: 42/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3320/4000 (83%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3948/4000 (99%)
Done in 14.44318151473999 sec.
select client [439, 399, 353, 516, 81, 12, 762, 605, 597, 962]
l2 norm of benign user before server clipping 0.006561594782397151
l2 norm of benign user after server clipping 0.006561594782397151
___Test : epoch: 2131: Average loss: 0.0263, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.026300027861818672
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 2679/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 112/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3154/4000 (79%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3993/4000 (100%)
Done in 14.797436714172363 sec.
select client [85, 843, 583, 943, 993, 397, 958, 92, 52, 421]
l2 norm of benign user before server clipping 0.0088345447788015
l2 norm of benign user after server clipping 0.0088345447788015
___Test : epoch: 2132: Average loss: 0.0264, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.026352302353084087
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2929/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 121/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3990/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.39424443244934 sec.
select client [643, 372, 936, 606, 94, 966, 254, 60, 161, 525]
l2 norm of benign user before server clipping 0.005436989525333047
l2 norm of benign user after server clipping 0.005436989525333047
___Test : epoch: 2133: Average loss: 0.0262, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.02615265583656728
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 2551/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 89/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3653/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3980/4000 (100%)
Done in 14.110500812530518 sec.
select client [920, 186, 462, 437, 562, 60, 633, 815, 641, 325]
l2 norm of benign user before server clipping 0.005889379349537194
l2 norm of benign user after server clipping 0.005889379349537194
___Test : epoch: 2134: Average loss: 0.0260, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02599820521771908
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2973/4000 (74%)
Test set:local_Trigger1Poison Accuracy: 148/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3962/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.196506023406982 sec.
select client [194, 898, 439, 897, 894, 362, 387, 865, 551, 431]
l2 norm of benign user before server clipping 0.0045874665607698265
l2 norm of benign user after server clipping 0.0045874665607698265
___Test : epoch: 2135: Average loss: 0.0254, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.025431378930807113
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 1994/4000 (50%)
Test set:local_Trigger1Poison Accuracy: 46/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3835/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3987/4000 (100%)
Done in 14.135247468948364 sec.
select client [179, 239, 105, 369, 964, 604, 206, 639, 503, 347]
l2 norm of benign user before server clipping 0.009096105140633881
l2 norm of benign user after server clipping 0.009096105140633881
___Test : epoch: 2136: Average loss: 0.0265, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.026538454458117484
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 2573/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 87/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3215/4000 (80%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3920/4000 (98%)
Done in 14.211793184280396 sec.
select client [540, 574, 489, 232, 616, 111, 598, 215, 536, 357]
l2 norm of benign user before server clipping 0.006213245610706508
l2 norm of benign user after server clipping 0.006213245610706508
___Test : epoch: 2137: Average loss: 0.0263, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.026254262709617615
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 2259/4000 (56%)
Test set:local_Trigger1Poison Accuracy: 76/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3573/4000 (89%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 14.2018461227417 sec.
select client [269, 424, 74, 196, 511, 908, 793, 151, 933, 270]
l2 norm of benign user before server clipping 0.004204813961405307
l2 norm of benign user after server clipping 0.004204813961405307
___Test : epoch: 2138: Average loss: 0.0263, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.02630568998195231
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 3161/4000 (79%)
Test set:local_Trigger1Poison Accuracy: 179/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3822/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.406394004821777 sec.
select client [29, 715, 61, 437, 223, 438, 55, 763, 735, 291]
l2 norm of benign user before server clipping 0.009553156699985266
l2 norm of benign user after server clipping 0.009553156699985266
___Test : epoch: 2139: Average loss: 0.0256, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.02562959884516895
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 2440/4000 (61%)
Test set:local_Trigger1Poison Accuracy: 77/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3627/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.422022819519043 sec.
select client [214, 261, 404, 137, 537, 383, 915, 381, 405, 316]
l2 norm of benign user before server clipping 0.008702849131077528
l2 norm of benign user after server clipping 0.008702849131077528
___Test : epoch: 2140: Average loss: 0.0256, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025557573902606965
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 2117/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 62/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3187/4000 (80%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.443843603134155 sec.
select client [338, 637, 736, 514, 859, 878, 427, 153, 179, 455]
l2 norm of benign user before server clipping 0.008004597434774042
l2 norm of benign user after server clipping 0.008004597434774042
___Test : epoch: 2141: Average loss: 0.0256, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02563832948617637
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 1780/4000 (44%)
Test set:local_Trigger1Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3286/4000 (82%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3991/4000 (100%)
Done in 14.312240362167358 sec.
select client [224, 867, 682, 724, 425, 789, 968, 60, 629, 727]
l2 norm of benign user before server clipping 0.006074380525387823
l2 norm of benign user after server clipping 0.006074380525387823
___Test : epoch: 2142: Average loss: 0.0254, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.025442115877941252
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 2187/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 64/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3879/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3983/4000 (100%)
Done in 14.88699746131897 sec.
select client [997, 24, 120, 628, 953, 32, 877, 337, 318, 528]
l2 norm of benign user before server clipping 0.005968691734597087
l2 norm of benign user after server clipping 0.005968691734597087
___Test : epoch: 2143: Average loss: 0.0263, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.026310298524051905
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 2392/4000 (60%)
Test set:local_Trigger1Poison Accuracy: 72/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3705/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.934956789016724 sec.
select client [425, 346, 112, 208, 998, 95, 758, 987, 18, 493]
l2 norm of benign user before server clipping 0.005362014309503138
l2 norm of benign user after server clipping 0.005362014309503138
___Test : epoch: 2144: Average loss: 0.0254, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.02544256808310747
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 2634/4000 (66%)
Test set:local_Trigger1Poison Accuracy: 82/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3943/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3990/4000 (100%)
Done in 14.608575582504272 sec.
select client [188, 591, 70, 896, 419, 996, 745, 134, 973, 884]
l2 norm of benign user before server clipping 0.006830778671428561
l2 norm of benign user after server clipping 0.006830778671428561
___Test : epoch: 2145: Average loss: 0.0251, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025103638669103385
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 1632/4000 (41%)
Test set:local_Trigger1Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3538/4000 (88%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3990/4000 (100%)
Done in 14.250813245773315 sec.
select client [248, 470, 684, 284, 313, 672, 189, 829, 609, 435]
l2 norm of benign user before server clipping 0.007697799580637365
l2 norm of benign user after server clipping 0.007697799580637365
___Test : epoch: 2146: Average loss: 0.0262, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.02624152376241982
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 2016/4000 (50%)
Test set:local_Trigger1Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3823/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3786/4000 (95%)
Done in 15.11054801940918 sec.
select client [779, 78, 717, 591, 174, 634, 841, 611, 682, 113]
l2 norm of benign user before server clipping 0.0051608478534035385
l2 norm of benign user after server clipping 0.0051608478534035385
___Test : epoch: 2147: Average loss: 0.0261, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.026129738982766867
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 2548/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 91/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3646/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.260037422180176 sec.
select client [700, 219, 223, 796, 731, 378, 118, 730, 420, 480]
l2 norm of benign user before server clipping 0.00894475867971778
l2 norm of benign user after server clipping 0.00894475867971778
___Test : epoch: 2148: Average loss: 0.0258, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.02580931483991444
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 1952/4000 (49%)
Test set:local_Trigger1Poison Accuracy: 47/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3740/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.396929025650024 sec.
select client [595, 636, 747, 251, 360, 336, 509, 973, 784, 687]
l2 norm of benign user before server clipping 0.008484200737439097
l2 norm of benign user after server clipping 0.008484200737439097
___Test : epoch: 2149: Average loss: 0.0263, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.026270621196180583
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 1861/4000 (47%)
Test set:local_Trigger1Poison Accuracy: 60/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3053/4000 (76%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 14.792370796203613 sec.
select client [682, 739, 823, 66, 319, 56, 160, 114, 696, 539]
l2 norm of benign user before server clipping 0.0062164506176486615
l2 norm of benign user after server clipping 0.0062164506176486615
___Test : epoch: 2150: Average loss: 0.0258, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.02582122900336981
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2787/4000 (70%)
Test set:local_Trigger1Poison Accuracy: 117/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3743/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.195464372634888 sec.
select client [452, 873, 788, 622, 275, 402, 489, 575, 603, 947]
l2 norm of benign user before server clipping 0.006860300153493881
l2 norm of benign user after server clipping 0.006860300153493881
___Test : epoch: 2151: Average loss: 0.0257, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.02572642596811056
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 2300/4000 (58%)
Test set:local_Trigger1Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3895/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.010317087173462 sec.
select client [385, 254, 855, 218, 644, 74, 743, 147, 50, 668]
l2 norm of benign user before server clipping 0.006037289020605385
l2 norm of benign user after server clipping 0.006037289020605385
___Test : epoch: 2152: Average loss: 0.0270, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.027048970269784332
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 3431/4000 (86%)
Test set:local_Trigger1Poison Accuracy: 265/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 3968/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.59116792678833 sec.
select client [108, 378, 68, 749, 873, 549, 712, 245, 441, 380]
l2 norm of benign user before server clipping 0.0054174585733562704
l2 norm of benign user after server clipping 0.0054174585733562704
___Test : epoch: 2153: Average loss: 0.0252, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.025171825874969363
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 2487/4000 (62%)
Test set:local_Trigger1Poison Accuracy: 72/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3890/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.046103954315186 sec.
select client [440, 433, 806, 115, 365, 432, 595, 454, 746, 304]
l2 norm of benign user before server clipping 0.006759072141721845
l2 norm of benign user after server clipping 0.006759072141721845
___Test : epoch: 2154: Average loss: 0.0256, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.025597536021843552
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 2418/4000 (60%)
Test set:local_Trigger1Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3812/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3997/4000 (100%)
Done in 14.384339809417725 sec.
select client [662, 669, 352, 47, 579, 757, 672, 502, 149, 773]
l2 norm of benign user before server clipping 0.004165942361578345
l2 norm of benign user after server clipping 0.004165942361578345
___Test : epoch: 2155: Average loss: 0.0252, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.0251723680511117
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 1841/4000 (46%)
Test set:local_Trigger1Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3626/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 15.31861162185669 sec.
select client [315, 934, 191, 839, 964, 361, 736, 293, 620, 354]
l2 norm of benign user before server clipping 0.008033473743125796
l2 norm of benign user after server clipping 0.008033473743125796
___Test : epoch: 2156: Average loss: 0.0261, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.026100653699040414
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 3013/4000 (75%)
Test set:local_Trigger1Poison Accuracy: 147/4000 (4%)
Test set:local_Trigger2Poison Accuracy: 3869/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.868960618972778 sec.
select client [443, 178, 457, 771, 533, 47, 548, 251, 111, 440]
l2 norm of benign user before server clipping 0.00780105521553196
l2 norm of benign user after server clipping 0.00780105521553196
___Test : epoch: 2157: Average loss: 0.0260, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.025967496186867358
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 3123/4000 (78%)
Test set:local_Trigger1Poison Accuracy: 131/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3758/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.281885385513306 sec.
select client [775, 905, 870, 59, 570, 760, 116, 76, 136, 489]
l2 norm of benign user before server clipping 0.00673604819457978
l2 norm of benign user after server clipping 0.00673604819457978
___Test : epoch: 2158: Average loss: 0.0256, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025563213634118436
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 1274/4000 (32%)
Test set:local_Trigger1Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 3365/4000 (84%)
Test set:local_Trigger3Poison Accuracy: 0/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3915/4000 (98%)
Done in 14.259271383285522 sec.
select client [45, 180, 181, 646, 250, 508, 249, 654, 851, 685]
l2 norm of benign user before server clipping 0.0055120151024311784
l2 norm of benign user after server clipping 0.0055120151024311784
___Test : epoch: 2159: Average loss: 0.0256, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025614884197711945
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 2619/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 85/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3838/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3978/4000 (99%)
Done in 14.053311586380005 sec.
select client [166, 181, 241, 41, 598, 594, 437, 199, 827, 194]
l2 norm of benign user before server clipping 0.006663675839081407
l2 norm of benign user after server clipping 0.006663675839081407
___Test : epoch: 2160: Average loss: 0.0259, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02586028087772429
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 2247/4000 (56%)
Test set:local_Trigger1Poison Accuracy: 81/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3900/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.458021879196167 sec.
select client [730, 832, 352, 525, 642, 131, 932, 785, 548, 251]
l2 norm of benign user before server clipping 0.007923603779636324
l2 norm of benign user after server clipping 0.007923603779636324
___Test : epoch: 2161: Average loss: 0.0252, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025245545480400325
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 2002/4000 (50%)
Test set:local_Trigger1Poison Accuracy: 67/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3455/4000 (86%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 15.273550987243652 sec.
select client [59, 571, 570, 728, 484, 444, 471, 616, 129, 212]
l2 norm of benign user before server clipping 0.006411025417037308
l2 norm of benign user after server clipping 0.006411025417037308
___Test : epoch: 2162: Average loss: 0.0254, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025384647350385786
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 2109/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3741/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.306408166885376 sec.
select client [911, 202, 448, 864, 319, 14, 892, 443, 246, 38]
l2 norm of benign user before server clipping 0.0065053320839069785
l2 norm of benign user after server clipping 0.0065053320839069785
___Test : epoch: 2163: Average loss: 0.0268, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.0267932735003531
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 2697/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 107/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3904/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.910730361938477 sec.
select client [187, 550, 745, 825, 918, 801, 898, 500, 921, 449]
l2 norm of benign user before server clipping 0.0057004897622391585
l2 norm of benign user after server clipping 0.0057004897622391585
___Test : epoch: 2164: Average loss: 0.0253, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.02528574254065752
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 2190/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 47/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3911/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.212612628936768 sec.
select client [467, 742, 708, 764, 583, 342, 554, 471, 101, 714]
l2 norm of benign user before server clipping 0.008369754487648606
l2 norm of benign user after server clipping 0.008369754487648606
___Test : epoch: 2165: Average loss: 0.0259, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.025864124328270555
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 2533/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 96/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3893/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3978/4000 (99%)
Done in 14.660569667816162 sec.
select client [468, 90, 462, 533, 966, 705, 599, 698, 488, 201]
l2 norm of benign user before server clipping 0.00463022287003696
l2 norm of benign user after server clipping 0.00463022287003696
___Test : epoch: 2166: Average loss: 0.0249, Accuracy: 39746/40000.0 (99.3650%)
benign test loss (after fedavg) 0.024940254496410488
benign test acc (after fedavg) 99.36500000000001
Test set:local_Trigger0Poison Accuracy: 2837/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 98/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3921/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39746/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.195964336395264 sec.
select client [361, 855, 249, 643, 941, 94, 45, 276, 697, 322]
l2 norm of benign user before server clipping 0.005111771356314421
l2 norm of benign user after server clipping 0.005111771356314421
___Test : epoch: 2167: Average loss: 0.0254, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025385749051719905
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 2525/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 71/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3772/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3979/4000 (99%)
Done in 14.251474380493164 sec.
select client [110, 247, 279, 772, 466, 308, 632, 565, 502, 473]
l2 norm of benign user before server clipping 0.004056178196333349
l2 norm of benign user after server clipping 0.004056178196333349
___Test : epoch: 2168: Average loss: 0.0256, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.02557747769765556
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2105/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 45/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3719/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3838/4000 (96%)
Done in 14.54336953163147 sec.
select client [71, 615, 157, 735, 382, 908, 354, 789, 151, 856]
l2 norm of benign user before server clipping 0.006907695415429771
l2 norm of benign user after server clipping 0.006907695415429771
___Test : epoch: 2169: Average loss: 0.0254, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.025420515090972186
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 2048/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 52/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3824/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.187655925750732 sec.
select client [132, 704, 62, 571, 745, 782, 859, 397, 653, 603]
l2 norm of benign user before server clipping 0.0049669550033286216
l2 norm of benign user after server clipping 0.0049669550033286216
___Test : epoch: 2170: Average loss: 0.0255, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.0255471570789814
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 2760/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 103/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3959/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.794858694076538 sec.
select client [348, 862, 728, 107, 819, 901, 436, 15, 997, 243]
l2 norm of benign user before server clipping 0.0048093799967318775
l2 norm of benign user after server clipping 0.0048093799967318775
___Test : epoch: 2171: Average loss: 0.0250, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025044621028006076
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 2087/4000 (52%)
Test set:local_Trigger1Poison Accuracy: 50/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3851/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.01239824295044 sec.
select client [654, 432, 613, 53, 83, 268, 307, 273, 157, 670]
l2 norm of benign user before server clipping 0.005620082200039178
l2 norm of benign user after server clipping 0.005620082200039178
___Test : epoch: 2172: Average loss: 0.0253, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025330382735282184
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 2769/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 94/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3807/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.230894565582275 sec.
select client [211, 885, 828, 823, 918, 962, 795, 136, 141, 976]
l2 norm of benign user before server clipping 0.0058832076494581996
l2 norm of benign user after server clipping 0.0058832076494581996
___Test : epoch: 2173: Average loss: 0.0269, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.026862380646541714
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 2541/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 96/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3950/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.187028408050537 sec.
select client [303, 543, 762, 707, 85, 117, 71, 894, 14, 896]
l2 norm of benign user before server clipping 0.005369451595470309
l2 norm of benign user after server clipping 0.005369451595470309
___Test : epoch: 2174: Average loss: 0.0253, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.025331919419020413
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2536/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3758/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.225409746170044 sec.
select client [412, 509, 721, 609, 712, 658, 113, 380, 242, 295]
l2 norm of benign user before server clipping 0.0048957802820950745
l2 norm of benign user after server clipping 0.0048957802820950745
___Test : epoch: 2175: Average loss: 0.0256, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.025562308993935585
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2365/4000 (59%)
Test set:local_Trigger1Poison Accuracy: 71/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3853/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.751333713531494 sec.
select client [28, 428, 57, 803, 409, 201, 319, 668, 268, 141]
l2 norm of benign user before server clipping 0.006637203390710056
l2 norm of benign user after server clipping 0.006637203390710056
___Test : epoch: 2176: Average loss: 0.0262, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026185240505635737
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 2691/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3979/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.987703561782837 sec.
select client [336, 761, 557, 737, 498, 170, 178, 715, 74, 597]
l2 norm of benign user before server clipping 0.008061671117320656
l2 norm of benign user after server clipping 0.008061671117320656
___Test : epoch: 2177: Average loss: 0.0247, Accuracy: 39742/40000.0 (99.3550%)
benign test loss (after fedavg) 0.024725808287039398
benign test acc (after fedavg) 99.355
Test set:local_Trigger0Poison Accuracy: 2768/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3831/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39742/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3994/4000 (100%)
Done in 14.39899230003357 sec.
select client [731, 901, 269, 161, 993, 97, 884, 202, 246, 522]
l2 norm of benign user before server clipping 0.004978226660750806
l2 norm of benign user after server clipping 0.004978226660750806
___Test : epoch: 2178: Average loss: 0.0250, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.024976066732406616
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 2475/4000 (62%)
Test set:local_Trigger1Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3933/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.885926485061646 sec.
select client [806, 115, 627, 702, 426, 54, 464, 712, 492, 523]
l2 norm of benign user before server clipping 0.00777697314042598
l2 norm of benign user after server clipping 0.00777697314042598
___Test : epoch: 2179: Average loss: 0.0260, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.026000751699134707
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 2233/4000 (56%)
Test set:local_Trigger1Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3973/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 0/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.672810792922974 sec.
select client [66, 208, 172, 502, 596, 489, 152, 102, 812, 524]
l2 norm of benign user before server clipping 0.007425953401252627
l2 norm of benign user after server clipping 0.007425953401252627
___Test : epoch: 2180: Average loss: 0.0261, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.02607894647754729
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 3072/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 93/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3989/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3992/4000 (100%)
Done in 14.41011929512024 sec.
select client [821, 572, 901, 187, 368, 150, 10, 215, 579, 646]
l2 norm of benign user before server clipping 0.006699897022917867
l2 norm of benign user after server clipping 0.006699897022917867
___Test : epoch: 2181: Average loss: 0.0253, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02529574150890112
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 1733/4000 (43%)
Test set:local_Trigger1Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3687/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3967/4000 (99%)
Done in 14.361244916915894 sec.
select client [600, 981, 332, 539, 262, 301, 971, 821, 81, 91]
l2 norm of benign user before server clipping 0.006627970130648464
l2 norm of benign user after server clipping 0.006627970130648464
___Test : epoch: 2182: Average loss: 0.0257, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.025710898849368096
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 2542/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 57/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3850/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3978/4000 (99%)
Done in 13.932742595672607 sec.
select client [679, 817, 151, 658, 74, 680, 276, 964, 157, 217]
l2 norm of benign user before server clipping 0.00336759397177957
l2 norm of benign user after server clipping 0.00336759397177957
___Test : epoch: 2183: Average loss: 0.0253, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.025331936059892177
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 3196/4000 (80%)
Test set:local_Trigger1Poison Accuracy: 114/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3971/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.817328214645386 sec.
select client [73, 448, 653, 784, 986, 760, 204, 736, 898, 202]
l2 norm of benign user before server clipping 0.006595171638764441
l2 norm of benign user after server clipping 0.006595171638764441
___Test : epoch: 2184: Average loss: 0.0268, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.026848121578246356
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 1868/4000 (47%)
Test set:local_Trigger1Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3643/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 13.896326303482056 sec.
select client [448, 250, 645, 68, 432, 799, 565, 492, 714, 251]
l2 norm of benign user before server clipping 0.007029133709147572
l2 norm of benign user after server clipping 0.007029133709147572
___Test : epoch: 2185: Average loss: 0.0266, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02656322150602937
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 1934/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 51/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3718/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3987/4000 (100%)
Done in 14.378398418426514 sec.
select client [766, 141, 468, 240, 170, 144, 172, 319, 472, 902]
l2 norm of benign user before server clipping 0.007228744204621762
l2 norm of benign user after server clipping 0.007228744204621762
___Test : epoch: 2186: Average loss: 0.0257, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025685484249144793
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 2499/4000 (62%)
Test set:local_Trigger1Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3847/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 14.36130976676941 sec.
select client [68, 92, 415, 845, 496, 878, 930, 17, 429, 923]
l2 norm of benign user before server clipping 0.005827230797149241
l2 norm of benign user after server clipping 0.005827230797149241
___Test : epoch: 2187: Average loss: 0.0253, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.0252811610519886
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 2033/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 41/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3515/4000 (88%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.612370014190674 sec.
select client [181, 148, 736, 95, 566, 486, 620, 25, 925, 349]
l2 norm of benign user before server clipping 0.007102671964094043
l2 norm of benign user after server clipping 0.007102671964094043
___Test : epoch: 2188: Average loss: 0.0256, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02564203596189618
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2833/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 119/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3945/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.477539300918579 sec.
select client [912, 933, 246, 18, 416, 589, 835, 547, 93, 952]
l2 norm of benign user before server clipping 0.006309471162967384
l2 norm of benign user after server clipping 0.006309471162967384
___Test : epoch: 2189: Average loss: 0.0260, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.025998208132758736
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 3235/4000 (81%)
Test set:local_Trigger1Poison Accuracy: 182/4000 (5%)
Test set:local_Trigger2Poison Accuracy: 3921/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.226168155670166 sec.
select client [86, 736, 910, 875, 759, 340, 425, 969, 918, 206]
l2 norm of benign user before server clipping 0.005263228469993919
l2 norm of benign user after server clipping 0.005263228469993919
___Test : epoch: 2190: Average loss: 0.0258, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.025754808201640843
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 2579/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3815/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.321583986282349 sec.
select client [369, 104, 752, 715, 689, 643, 570, 960, 422, 83]
l2 norm of benign user before server clipping 0.008298416202887893
l2 norm of benign user after server clipping 0.008298416202887893
___Test : epoch: 2191: Average loss: 0.0255, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.02554125788025558
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 1597/4000 (40%)
Test set:local_Trigger1Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3244/4000 (81%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3997/4000 (100%)
Done in 15.057205200195312 sec.
select client [715, 583, 369, 710, 255, 994, 132, 40, 712, 447]
l2 norm of benign user before server clipping 0.01045132800936699
l2 norm of benign user after server clipping 0.01045132800936699
___Test : epoch: 2192: Average loss: 0.0248, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.0248277689024806
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 2853/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 96/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3800/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.289016008377075 sec.
select client [125, 840, 172, 650, 654, 493, 213, 931, 910, 475]
l2 norm of benign user before server clipping 0.005732446117326618
l2 norm of benign user after server clipping 0.005732446117326618
___Test : epoch: 2193: Average loss: 0.0258, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.025832079073786735
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 1901/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3802/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3957/4000 (99%)
Done in 14.095284461975098 sec.
select client [39, 78, 401, 256, 344, 170, 319, 310, 380, 227]
l2 norm of benign user before server clipping 0.0071124875685200095
l2 norm of benign user after server clipping 0.0071124875685200095
___Test : epoch: 2194: Average loss: 0.0255, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.025458138430863617
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2058/4000 (51%)
Test set:local_Trigger1Poison Accuracy: 45/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3906/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.321478605270386 sec.
select client [703, 479, 226, 413, 507, 927, 836, 231, 270, 19]
l2 norm of benign user before server clipping 0.005650746956234798
l2 norm of benign user after server clipping 0.005650746956234798
___Test : epoch: 2195: Average loss: 0.0265, Accuracy: 39695/40000.0 (99.2375%)
benign test loss (after fedavg) 0.026476624266430736
benign test acc (after fedavg) 99.2375
Test set:local_Trigger0Poison Accuracy: 1035/4000 (26%)
Test set:local_Trigger1Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 3584/4000 (90%)
Test set:local_Trigger3Poison Accuracy: 0/4000 (0%)
Test set:Main Accuracy: 39695/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3920/4000 (98%)
Done in 15.30153775215149 sec.
select client [180, 717, 62, 201, 293, 317, 83, 442, 124, 414]
l2 norm of benign user before server clipping 0.006589532003272325
l2 norm of benign user after server clipping 0.006589532003272325
___Test : epoch: 2196: Average loss: 0.0251, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.02511165778785944
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 2822/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 93/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3931/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.155931234359741 sec.
select client [610, 570, 948, 771, 221, 35, 556, 722, 57, 74]
l2 norm of benign user before server clipping 0.008536642394028604
l2 norm of benign user after server clipping 0.008536642394028604
___Test : epoch: 2197: Average loss: 0.0251, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.02508037132360041
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 1390/4000 (35%)
Test set:local_Trigger1Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3779/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3817/4000 (95%)
Done in 14.676864385604858 sec.
select client [908, 122, 931, 383, 834, 648, 82, 599, 94, 799]
l2 norm of benign user before server clipping 0.005863818374928087
l2 norm of benign user after server clipping 0.005863818374928087
___Test : epoch: 2198: Average loss: 0.0250, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.024973199648782612
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 2431/4000 (61%)
Test set:local_Trigger1Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3858/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.653706073760986 sec.
select client [857, 568, 624, 367, 455, 355, 980, 470, 974, 499]
l2 norm of benign user before server clipping 0.0055822925525717436
l2 norm of benign user after server clipping 0.0055822925525717436
___Test : epoch: 2199: Average loss: 0.0253, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025315840365737675
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 2817/4000 (70%)
Test set:local_Trigger1Poison Accuracy: 88/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3832/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.194446563720703 sec.
select client [455, 788, 862, 824, 77, 443, 534, 333, 575, 109]
l2 norm of benign user before server clipping 0.006959409138653427
l2 norm of benign user after server clipping 0.006959409138653427
___Test : epoch: 2200: Average loss: 0.0251, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02513887153789401
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 2677/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 82/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3864/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3983/4000 (100%)
Done in 14.277327060699463 sec.
select client [696, 881, 893, 371, 611, 219, 447, 460, 851, 629]
l2 norm of benign user before server clipping 0.005104858754202723
l2 norm of benign user after server clipping 0.005104858754202723
___Test : epoch: 2201: Average loss: 0.0266, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.02663636815473437
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 1949/4000 (49%)
Test set:local_Trigger1Poison Accuracy: 46/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3773/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.713525533676147 sec.
select client [629, 837, 146, 916, 761, 22, 756, 236, 224, 750]
l2 norm of benign user before server clipping 0.006871434801723808
l2 norm of benign user after server clipping 0.006871434801723808
___Test : epoch: 2202: Average loss: 0.0258, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.025794161234796047
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 1626/4000 (41%)
Test set:local_Trigger1Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3313/4000 (83%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3968/4000 (99%)
Done in 13.954641103744507 sec.
select client [719, 474, 168, 505, 216, 383, 238, 193, 50, 148]
l2 norm of benign user before server clipping 0.008262795931659638
l2 norm of benign user after server clipping 0.008262795931659638
___Test : epoch: 2203: Average loss: 0.0249, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.024857736210897565
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 2130/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 52/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3800/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.38608169555664 sec.
select client [869, 466, 900, 832, 559, 390, 178, 37, 209, 199]
l2 norm of benign user before server clipping 0.006899368786253035
l2 norm of benign user after server clipping 0.006899368786253035
___Test : epoch: 2204: Average loss: 0.0253, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.02534170373938978
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2608/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3670/4000 (92%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.541290760040283 sec.
select client [828, 439, 766, 527, 755, 318, 732, 830, 316, 992]
l2 norm of benign user before server clipping 0.006771258101798594
l2 norm of benign user after server clipping 0.006771258101798594
___Test : epoch: 2205: Average loss: 0.0250, Accuracy: 39744/40000.0 (99.3600%)
benign test loss (after fedavg) 0.024953928735479712
benign test acc (after fedavg) 99.36
Test set:local_Trigger0Poison Accuracy: 2340/4000 (58%)
Test set:local_Trigger1Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3761/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39744/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.79032301902771 sec.
select client [569, 227, 866, 419, 209, 454, 99, 228, 881, 98]
l2 norm of benign user before server clipping 0.006147413002327085
l2 norm of benign user after server clipping 0.006147413002327085
___Test : epoch: 2206: Average loss: 0.0248, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.024837794084101916
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 2339/4000 (58%)
Test set:local_Trigger1Poison Accuracy: 65/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3743/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.445767879486084 sec.
select client [502, 774, 754, 411, 476, 93, 422, 161, 539, 275]
l2 norm of benign user before server clipping 0.004116114019416273
l2 norm of benign user after server clipping 0.004116114019416273
___Test : epoch: 2207: Average loss: 0.0254, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.0253994256965816
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 3016/4000 (75%)
Test set:local_Trigger1Poison Accuracy: 104/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3843/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.335979700088501 sec.
select client [599, 413, 633, 196, 686, 331, 899, 793, 454, 121]
l2 norm of benign user before server clipping 0.004747101734392345
l2 norm of benign user after server clipping 0.004747101734392345
___Test : epoch: 2208: Average loss: 0.0255, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.02547303263656795
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 2924/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 96/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3895/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.379196405410767 sec.
select client [345, 307, 713, 757, 988, 855, 623, 151, 671, 962]
l2 norm of benign user before server clipping 0.005282201466616243
l2 norm of benign user after server clipping 0.005282201466616243
___Test : epoch: 2209: Average loss: 0.0258, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.02581088542677462
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 2830/4000 (71%)
Test set:local_Trigger1Poison Accuracy: 89/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3740/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.523474931716919 sec.
select client [856, 157, 645, 258, 484, 49, 309, 690, 18, 350]
l2 norm of benign user before server clipping 0.005587873596232385
l2 norm of benign user after server clipping 0.005587873596232385
___Test : epoch: 2210: Average loss: 0.0249, Accuracy: 39739/40000.0 (99.3475%)
benign test loss (after fedavg) 0.024892189486324788
benign test acc (after fedavg) 99.3475
Test set:local_Trigger0Poison Accuracy: 2591/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 76/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3877/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39739/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3992/4000 (100%)
Done in 14.293466091156006 sec.
select client [457, 222, 859, 130, 53, 976, 512, 430, 724, 783]
l2 norm of benign user before server clipping 0.00590583971934393
l2 norm of benign user after server clipping 0.00590583971934393
___Test : epoch: 2211: Average loss: 0.0255, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.025537095177173615
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 2642/4000 (66%)
Test set:local_Trigger1Poison Accuracy: 77/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3894/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3973/4000 (99%)
Done in 14.091350317001343 sec.
select client [174, 608, 56, 951, 341, 640, 690, 410, 594, 173]
l2 norm of benign user before server clipping 0.0071615103865042325
l2 norm of benign user after server clipping 0.0071615103865042325
___Test : epoch: 2212: Average loss: 0.0259, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.025915886502712964
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 2347/4000 (59%)
Test set:local_Trigger1Poison Accuracy: 70/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3363/4000 (84%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3971/4000 (99%)
Done in 14.672069787979126 sec.
select client [155, 688, 485, 560, 953, 729, 134, 334, 169, 495]
l2 norm of benign user before server clipping 0.006393376155756414
l2 norm of benign user after server clipping 0.006393376155756414
___Test : epoch: 2213: Average loss: 0.0250, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.0249518231600523
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 2097/4000 (52%)
Test set:local_Trigger1Poison Accuracy: 51/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3740/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3971/4000 (99%)
Done in 14.049461841583252 sec.
select client [206, 34, 910, 580, 878, 187, 638, 998, 867, 999]
l2 norm of benign user before server clipping 0.007755269785411656
l2 norm of benign user after server clipping 0.007755269785411656
___Test : epoch: 2214: Average loss: 0.0248, Accuracy: 39742/40000.0 (99.3550%)
benign test loss (after fedavg) 0.02482514687292278
benign test acc (after fedavg) 99.355
Test set:local_Trigger0Poison Accuracy: 1652/4000 (41%)
Test set:local_Trigger1Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3591/4000 (90%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39742/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3970/4000 (99%)
Done in 14.423532247543335 sec.
select client [782, 976, 28, 512, 280, 647, 621, 519, 727, 333]
l2 norm of benign user before server clipping 0.006655315181706101
l2 norm of benign user after server clipping 0.006655315181706101
___Test : epoch: 2215: Average loss: 0.0251, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.02512210041768849
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 2446/4000 (61%)
Test set:local_Trigger1Poison Accuracy: 79/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3890/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.189688205718994 sec.
select client [856, 869, 572, 789, 333, 994, 719, 841, 366, 13]
l2 norm of benign user before server clipping 0.006883314077276737
l2 norm of benign user after server clipping 0.006883314077276737
___Test : epoch: 2216: Average loss: 0.0259, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02593022518418729
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2733/4000 (68%)
Test set:local_Trigger1Poison Accuracy: 100/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3951/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.143155813217163 sec.
select client [75, 207, 821, 312, 467, 746, 288, 973, 135, 432]
l2 norm of benign user before server clipping 0.00854787495918572
l2 norm of benign user after server clipping 0.00854787495918572
___Test : epoch: 2217: Average loss: 0.0253, Accuracy: 39744/40000.0 (99.3600%)
benign test loss (after fedavg) 0.025252494010329248
benign test acc (after fedavg) 99.36
Test set:local_Trigger0Poison Accuracy: 2492/4000 (62%)
Test set:local_Trigger1Poison Accuracy: 77/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3964/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39744/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.821759700775146 sec.
select client [939, 345, 908, 935, 351, 407, 453, 555, 42, 409]
l2 norm of benign user before server clipping 0.005572294653393328
l2 norm of benign user after server clipping 0.005572294653393328
___Test : epoch: 2218: Average loss: 0.0254, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.02544288115389645
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 3021/4000 (76%)
Test set:local_Trigger1Poison Accuracy: 106/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3975/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.235649347305298 sec.
select client [151, 240, 846, 832, 923, 703, 470, 488, 499, 300]
l2 norm of benign user before server clipping 0.005538804025854915
l2 norm of benign user after server clipping 0.005538804025854915
___Test : epoch: 2219: Average loss: 0.0252, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025230200462415815
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 2412/4000 (60%)
Test set:local_Trigger1Poison Accuracy: 48/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3960/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3990/4000 (100%)
Done in 14.572507619857788 sec.
select client [107, 561, 643, 173, 502, 275, 659, 815, 241, 259]
l2 norm of benign user before server clipping 0.005489207408390939
l2 norm of benign user after server clipping 0.005489207408390939
___Test : epoch: 2220: Average loss: 0.0255, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.02547110583819449
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 3064/4000 (77%)
Test set:local_Trigger1Poison Accuracy: 106/4000 (3%)
Test set:local_Trigger2Poison Accuracy: 3932/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3990/4000 (100%)
Done in 14.169066905975342 sec.
select client [802, 342, 53, 834, 178, 489, 129, 327, 762, 997]
l2 norm of benign user before server clipping 0.006184553808998317
l2 norm of benign user after server clipping 0.006184553808998317
___Test : epoch: 2221: Average loss: 0.0263, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.02625473774522543
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 2908/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 100/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3701/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3934/4000 (98%)
Done in 14.45229196548462 sec.
select client [673, 982, 636, 550, 540, 719, 253, 717, 874, 960]
l2 norm of benign user before server clipping 0.007043226808309555
l2 norm of benign user after server clipping 0.007043226808309555
___Test : epoch: 2222: Average loss: 0.0256, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.025566425329446793
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 1917/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 38/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3628/4000 (91%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.532678842544556 sec.
select client [180, 413, 371, 285, 445, 608, 567, 773, 642, 605]
l2 norm of benign user before server clipping 0.007781392871402204
l2 norm of benign user after server clipping 0.007781392871402204
___Test : epoch: 2223: Average loss: 0.0248, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.024767867553606628
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 1971/4000 (49%)
Test set:local_Trigger1Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3774/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3981/4000 (100%)
Done in 15.302303314208984 sec.
select client [338, 183, 41, 264, 534, 997, 712, 82, 81, 993]
l2 norm of benign user before server clipping 0.0049575318931601945
l2 norm of benign user after server clipping 0.0049575318931601945
___Test : epoch: 2224: Average loss: 0.0249, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.024858492477610707
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 1978/4000 (49%)
Test set:local_Trigger1Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3820/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3977/4000 (99%)
Done in 13.999099254608154 sec.
select client [774, 805, 256, 27, 126, 475, 938, 612, 950, 348]
l2 norm of benign user before server clipping 0.006584084138739854
l2 norm of benign user after server clipping 0.006584084138739854
___Test : epoch: 2225: Average loss: 0.0259, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.025871102570369838
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 2612/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 84/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3984/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.4109206199646 sec.
select client [130, 440, 637, 389, 972, 951, 565, 352, 836, 655]
l2 norm of benign user before server clipping 0.005085093365050852
l2 norm of benign user after server clipping 0.005085093365050852
___Test : epoch: 2226: Average loss: 0.0259, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.02593761459738016
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 1533/4000 (38%)
Test set:local_Trigger1Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3752/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3898/4000 (97%)
Done in 14.345954418182373 sec.
select client [739, 59, 787, 304, 305, 737, 885, 75, 601, 295]
l2 norm of benign user before server clipping 0.005803534761071205
l2 norm of benign user after server clipping 0.005803534761071205
___Test : epoch: 2227: Average loss: 0.0255, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.02553344593718648
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 2173/4000 (54%)
Test set:local_Trigger1Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3834/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.392215490341187 sec.
select client [54, 354, 936, 603, 567, 682, 436, 77, 958, 133]
l2 norm of benign user before server clipping 0.007993716269265861
l2 norm of benign user after server clipping 0.007993716269265861
___Test : epoch: 2228: Average loss: 0.0249, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.024893190053850413
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 2452/4000 (61%)
Test set:local_Trigger1Poison Accuracy: 58/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3893/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 14.042126655578613 sec.
select client [42, 125, 478, 398, 13, 28, 511, 248, 120, 520]
l2 norm of benign user before server clipping 0.00574100443336647
l2 norm of benign user after server clipping 0.00574100443336647
___Test : epoch: 2229: Average loss: 0.0267, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.026663860742747784
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 2335/4000 (58%)
Test set:local_Trigger1Poison Accuracy: 68/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3955/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3942/4000 (99%)
Done in 14.2054762840271 sec.
select client [160, 240, 465, 38, 21, 825, 514, 667, 774, 770]
l2 norm of benign user before server clipping 0.007756727561354637
l2 norm of benign user after server clipping 0.007756727561354637
___Test : epoch: 2230: Average loss: 0.0263, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026340657556802035
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 2595/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 96/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3812/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.383568048477173 sec.
select client [258, 41, 287, 783, 655, 185, 699, 15, 381, 770]
l2 norm of benign user before server clipping 0.0047568297944962975
l2 norm of benign user after server clipping 0.0047568297944962975
___Test : epoch: 2231: Average loss: 0.0257, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.02574476067125797
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 1693/4000 (42%)
Test set:local_Trigger1Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3567/4000 (89%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.250263929367065 sec.
select client [300, 564, 756, 678, 740, 386, 960, 283, 624, 323]
l2 norm of benign user before server clipping 0.00482591912150383
l2 norm of benign user after server clipping 0.00482591912150383
___Test : epoch: 2232: Average loss: 0.0254, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.025437307249754668
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 2732/4000 (68%)
Test set:local_Trigger1Poison Accuracy: 62/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3950/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.234795331954956 sec.
select client [144, 389, 605, 612, 257, 841, 264, 723, 125, 42]
l2 norm of benign user before server clipping 0.006510601565241814
l2 norm of benign user after server clipping 0.006510601565241814
___Test : epoch: 2233: Average loss: 0.0263, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.026299697871133686
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 2210/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 51/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3803/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3840/4000 (96%)
Done in 15.004839420318604 sec.
select client [137, 406, 590, 877, 783, 483, 672, 764, 800, 649]
l2 norm of benign user before server clipping 0.004194267943967133
l2 norm of benign user after server clipping 0.004194267943967133
___Test : epoch: 2234: Average loss: 0.0249, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.024879099325835704
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2182/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 47/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3874/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3999/4000 (100%)
Done in 14.050984144210815 sec.
select client [343, 528, 49, 923, 171, 935, 88, 145, 431, 129]
l2 norm of benign user before server clipping 0.005504250572994351
l2 norm of benign user after server clipping 0.005504250572994351
___Test : epoch: 2235: Average loss: 0.0254, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.025354344244673848
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 2136/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 49/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3734/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 13.858575105667114 sec.
select client [649, 948, 883, 693, 215, 27, 489, 212, 119, 155]
l2 norm of benign user before server clipping 0.007310459844302386
l2 norm of benign user after server clipping 0.007310459844302386
___Test : epoch: 2236: Average loss: 0.0259, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.025913877699151634
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 2192/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 58/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3980/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3979/4000 (99%)
Done in 14.441931247711182 sec.
select client [132, 595, 930, 363, 605, 399, 584, 747, 476, 723]
l2 norm of benign user before server clipping 0.005090905749239027
l2 norm of benign user after server clipping 0.005090905749239027
___Test : epoch: 2237: Average loss: 0.0253, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.02532086189314723
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 2107/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 34/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3744/4000 (94%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 14.834837913513184 sec.
select client [685, 644, 333, 201, 866, 293, 488, 445, 392, 863]
l2 norm of benign user before server clipping 0.006195801682770253
l2 norm of benign user after server clipping 0.006195801682770253
___Test : epoch: 2238: Average loss: 0.0252, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.025246223144605756
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 2772/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 69/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3990/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.099856853485107 sec.
select client [303, 154, 862, 944, 582, 400, 614, 542, 724, 177]
l2 norm of benign user before server clipping 0.005197447654791176
l2 norm of benign user after server clipping 0.005197447654791176
___Test : epoch: 2239: Average loss: 0.0251, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.025085723274201156
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 2198/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 49/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3822/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 14.449180841445923 sec.
select client [946, 348, 515, 335, 802, 153, 133, 561, 422, 175]
l2 norm of benign user before server clipping 0.005776316986884922
l2 norm of benign user after server clipping 0.005776316986884922
___Test : epoch: 2240: Average loss: 0.0248, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.024840727046132088
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 2329/4000 (58%)
Test set:local_Trigger1Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3965/4000 (99%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3998/4000 (100%)
Done in 14.450138807296753 sec.
select client [973, 141, 281, 520, 603, 118, 35, 810, 825, 761]
l2 norm of benign user before server clipping 0.008812454505823552
l2 norm of benign user after server clipping 0.008812454505823552
___Test : epoch: 2241: Average loss: 0.0263, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.026280650650709867
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 2553/4000 (64%)
Test set:local_Trigger1Poison Accuracy: 81/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3806/4000 (95%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3977/4000 (99%)
Done in 15.550293684005737 sec.
select client [91, 325, 893, 773, 531, 482, 826, 240, 674, 367]
l2 norm of benign user before server clipping 0.004651607014238834
l2 norm of benign user after server clipping 0.004651607014238834
___Test : epoch: 2242: Average loss: 0.0249, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.02487306128256023
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 2345/4000 (59%)
Test set:local_Trigger1Poison Accuracy: 54/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3983/4000 (100%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 14.212209463119507 sec.
select client [271, 577, 678, 848, 68, 169, 934, 139, 831, 331]
l2 norm of benign user before server clipping 0.00608339705504477
l2 norm of benign user after server clipping 0.00608339705504477
___Test : epoch: 2243: Average loss: 0.0249, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.02487306826375425
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 1712/4000 (43%)
Test set:local_Trigger1Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3182/4000 (80%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.60008430480957 sec.
select client [966, 194, 12, 818, 581, 908, 927, 539, 113, 183]
l2 norm of benign user before server clipping 0.00633558384142816
l2 norm of benign user after server clipping 0.00633558384142816
___Test : epoch: 2244: Average loss: 0.0261, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026096765660494566
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 2946/4000 (74%)
Test set:local_Trigger1Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3897/4000 (97%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 4000/4000 (100%)
Done in 14.3531014919281 sec.
select client [370, 632, 481, 368, 395, 983, 108, 648, 957, 585]
l2 norm of benign user before server clipping 0.008750942768529058
l2 norm of benign user after server clipping 0.008750942768529058
___Test : epoch: 2245: Average loss: 0.0247, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.024718004154786467
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 1810/4000 (45%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3848/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3956/4000 (99%)
Done in 15.292025327682495 sec.
select client [587, 29, 987, 204, 342, 211, 199, 982, 772, 133]
l2 norm of benign user before server clipping 0.005868769297376275
l2 norm of benign user after server clipping 0.005868769297376275
___Test : epoch: 2246: Average loss: 0.0255, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.025502614326030015
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 1825/4000 (46%)
Test set:local_Trigger1Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3714/4000 (93%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3978/4000 (99%)
Done in 14.120428562164307 sec.
select client [369, 10, 386, 118, 904, 641, 747, 211, 202, 627]
l2 norm of benign user before server clipping 0.007109476858749986
l2 norm of benign user after server clipping 0.007109476858749986
___Test : epoch: 2247: Average loss: 0.0249, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.024896257700398564
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 1750/4000 (44%)
Test set:local_Trigger1Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3553/4000 (89%)
Test set:local_Trigger3Poison Accuracy: 3/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3962/4000 (99%)
Done in 14.384361743927002 sec.
select client [750, 814, 338, 379, 632, 827, 769, 702, 572, 374]
l2 norm of benign user before server clipping 0.009575486578978599
l2 norm of benign user after server clipping 0.009575486578978599
___Test : epoch: 2248: Average loss: 0.0245, Accuracy: 39743/40000.0 (99.3575%)
benign test loss (after fedavg) 0.024537659869343042
benign test acc (after fedavg) 99.3575
Test set:local_Trigger0Poison Accuracy: 2447/4000 (61%)
Test set:local_Trigger1Poison Accuracy: 63/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 3935/4000 (98%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39743/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3996/4000 (100%)
Done in 14.654862880706787 sec.
select client [116, 686, 207, 896, 771, 493, 769, 877, 592, 175]
l2 norm of benign user before server clipping 0.005971266143023968
l2 norm of benign user after server clipping 0.005971266143023968
___Test : epoch: 2249: Average loss: 0.0245, Accuracy: 39738/40000.0 (99.3450%)
benign test loss (after fedavg) 0.024489415047690272
benign test acc (after fedavg) 99.345
Test set:local_Trigger0Poison Accuracy: 1930/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 3843/4000 (96%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39738/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3986/4000 (100%)
Done in 15.036912679672241 sec.
