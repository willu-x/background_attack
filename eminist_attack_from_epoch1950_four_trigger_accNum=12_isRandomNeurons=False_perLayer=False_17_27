/home/hjb/src/backup/fed_learning_test/saved_models/emnist_resnet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/emnist_resnet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0390, Accuracy: 39604/40000.0 (99.0100%)
Origin Pretrained Model: benign test loss (after fedavg) 0.039044980877637865
Origin Pretrained Model: benign test acc (after fedavg) 99.00999999999999
select client [245, 325, 493, 538, 491, 162, 690, 158, 180]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.41377340588304734
l2 norm of benign user after server clipping 0.36794208321306443
Total Count of Neuro 2797034
Selected Count of Neuro 13985
Gen Trigger0 loss tensor(251.6701, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(248.7112, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(248.7079, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(248.7133, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(248.6810, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.110755
Poison Train Epoch: 1 	Loss: 0.139288
Poison Train Epoch: 2 	Loss: 0.021979
Poison Train Epoch: 3 	Loss: 0.110202
Poison Train Epoch: 4 	Loss: 0.026950
Poison Train Epoch: 5 	Loss: 0.033311
Poison Train Epoch: 6 	Loss: 0.059283
Poison Train Epoch: 7 	Loss: 0.066854
Poison Train Epoch: 8 	Loss: 0.046390
Poison Train Epoch: 9 	Loss: 0.067889
Poison Train Epoch: 10 	Loss: 0.019400
Poison Train Epoch: 11 	Loss: 0.077442
Poison Train Epoch: 12 	Loss: 0.013936
Poison Train Epoch: 13 	Loss: 0.055369
Poison Train Epoch: 14 	Loss: 0.040495
Poison Train Epoch: 15 	Loss: 0.037857
Poison Train Epoch: 16 	Loss: 0.048494
Poison Train Epoch: 17 	Loss: 0.016481
Poison Train Epoch: 18 	Loss: 0.071241
Poison Train Epoch: 19 	Loss: 0.025085
Test set:local_Trigger0_localPoison Accuracy: 3996/4000 (100%)
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.2744, Accuracy: 36918/40000.0 (92.2950%)
benign test loss (after fedavg) 0.27435452291965484
benign test acc (after fedavg) 92.295
Done in 38.3151581287384 sec.
select client [738, 438, 835, 663, 790, 727, 483, 80, 995, 334]
l2 norm of benign user before server clipping 0.3468789517879486
l2 norm of benign user after server clipping 0.3468789517879486
___Test : epoch: 1951: Average loss: 0.0606, Accuracy: 39387/40000.0 (98.4675%)
benign test loss (after fedavg) 0.060605823007225994
benign test acc (after fedavg) 98.4675
Done in 3.9299283027648926 sec.
select client [480, 171, 246, 515, 51, 686, 248, 947, 966, 358]
l2 norm of benign user before server clipping 0.30796771198511125
l2 norm of benign user after server clipping 0.3001994863152504
___Test : epoch: 1952: Average loss: 0.0759, Accuracy: 39260/40000.0 (98.1500%)
benign test loss (after fedavg) 0.07586243186891078
benign test acc (after fedavg) 98.15
Done in 3.566943883895874 sec.
select client [219, 141, 727, 604, 587, 143, 629, 70, 892, 795]
l2 norm of benign user before server clipping 0.3451017260551453
l2 norm of benign user after server clipping 0.33757645487785337
___Test : epoch: 1953: Average loss: 0.1131, Accuracy: 39044/40000.0 (97.6100%)
benign test loss (after fedavg) 0.11310098379850388
benign test acc (after fedavg) 97.61
Done in 3.962418794631958 sec.
select client [77, 865, 879, 400, 355, 324, 167, 512, 983, 10]
l2 norm of benign user before server clipping 0.37037263065576553
l2 norm of benign user after server clipping 0.34586905390024186
___Test : epoch: 1954: Average loss: 0.0599, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05989427282810211
benign test acc (after fedavg) 98.4
Done in 4.10735297203064 sec.
select client [477, 741, 134, 359, 424, 787, 970, 991, 422]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.428388312458992
l2 norm of benign user after server clipping 0.3524665981531143
Total Count of Neuro 2797034
Selected Count of Neuro 13985
Gen Trigger1 loss tensor(279.0382, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(278.0159, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(277.9969, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(278.0730, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(278.0827, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.128065
Poison Train Epoch: 1 	Loss: 0.182738
Poison Train Epoch: 2 	Loss: 0.223638
Poison Train Epoch: 3 	Loss: 0.095787
Poison Train Epoch: 4 	Loss: 0.070482
Poison Train Epoch: 5 	Loss: 0.041828
Poison Train Epoch: 6 	Loss: 0.019064
Poison Train Epoch: 7 	Loss: 0.146683
Poison Train Epoch: 8 	Loss: 0.043020
Poison Train Epoch: 9 	Loss: 0.048124
Poison Train Epoch: 10 	Loss: 0.136587
Poison Train Epoch: 11 	Loss: 0.092590
Poison Train Epoch: 12 	Loss: 0.043234
Poison Train Epoch: 13 	Loss: 0.089037
Poison Train Epoch: 14 	Loss: 0.021214
Poison Train Epoch: 15 	Loss: 0.057457
Poison Train Epoch: 16 	Loss: 0.194472
Poison Train Epoch: 17 	Loss: 0.036179
Poison Train Epoch: 18 	Loss: 0.048638
Poison Train Epoch: 19 	Loss: 0.042831
Test set:local_Trigger1_localPoison Accuracy: 3955/4000 (99%)
___Test : epoch: 1955: Average loss: 0.4919, Accuracy: 32873/40000.0 (82.1825%)
benign test loss (after fedavg) 0.4919256775856018
benign test acc (after fedavg) 82.1825
Done in 37.00735092163086 sec.
select client [292, 123, 342, 785, 901, 453, 547, 972, 307, 166]
l2 norm of benign user before server clipping 0.29179186522960665
l2 norm of benign user after server clipping 0.29179186522960665
___Test : epoch: 1956: Average loss: 0.0721, Accuracy: 39158/40000.0 (97.8950%)
benign test loss (after fedavg) 0.0720837816298008
benign test acc (after fedavg) 97.895
Done in 3.6330666542053223 sec.
select client [743, 45, 835, 883, 316, 813, 331, 141, 740, 598]
l2 norm of benign user before server clipping 0.25508209839463236
l2 norm of benign user after server clipping 0.25508209839463236
___Test : epoch: 1957: Average loss: 0.0615, Accuracy: 39418/40000.0 (98.5450%)
benign test loss (after fedavg) 0.061471043434739116
benign test acc (after fedavg) 98.545
Done in 3.864847421646118 sec.
select client [423, 777, 251, 104, 247, 585, 867, 630, 388, 187]
l2 norm of benign user before server clipping 0.3718066677451134
l2 norm of benign user after server clipping 0.33958327025175095
___Test : epoch: 1958: Average loss: 0.0442, Accuracy: 39514/40000.0 (98.7850%)
benign test loss (after fedavg) 0.04421801215857268
benign test acc (after fedavg) 98.785
Done in 3.98738956451416 sec.
select client [671, 443, 30, 69, 315, 598, 265, 99, 68, 583]
l2 norm of benign user before server clipping 0.1820741653442383
l2 norm of benign user after server clipping 0.1820741653442383
___Test : epoch: 1959: Average loss: 0.0739, Accuracy: 39294/40000.0 (98.2350%)
benign test loss (after fedavg) 0.07385869086384773
benign test acc (after fedavg) 98.235
Done in 3.4065778255462646 sec.
select client [677, 906, 500, 253, 271, 127, 369, 543, 746]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.21303889486524794
l2 norm of benign user after server clipping 0.21303889486524794
Total Count of Neuro 2797034
Selected Count of Neuro 13985
Gen Trigger2 loss tensor(283.4192, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(278.9966, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(278.9953, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(279.0021, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(278.9879, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.132377
Poison Train Epoch: 1 	Loss: 0.015908
Poison Train Epoch: 2 	Loss: 0.100965
Poison Train Epoch: 3 	Loss: 0.035626
Poison Train Epoch: 4 	Loss: 0.055568
Poison Train Epoch: 5 	Loss: 0.028893
Poison Train Epoch: 6 	Loss: 0.014487
Poison Train Epoch: 7 	Loss: 0.055568
Poison Train Epoch: 8 	Loss: 0.061525
Poison Train Epoch: 9 	Loss: 0.008752
Poison Train Epoch: 10 	Loss: 0.009495
Poison Train Epoch: 11 	Loss: 0.009806
Poison Train Epoch: 12 	Loss: 0.013860
Poison Train Epoch: 13 	Loss: 0.023379
Poison Train Epoch: 14 	Loss: 0.014232
Poison Train Epoch: 15 	Loss: 0.024649
Poison Train Epoch: 16 	Loss: 0.075094
Poison Train Epoch: 17 	Loss: 0.007863
Poison Train Epoch: 18 	Loss: 0.016336
Poison Train Epoch: 19 	Loss: 0.054891
Test set:local_Trigger2_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 1960: Average loss: 0.0404, Accuracy: 39589/40000.0 (98.9725%)
benign test loss (after fedavg) 0.04040839736610651
benign test acc (after fedavg) 98.9725
Done in 38.26382923126221 sec.
select client [37, 308, 120, 221, 700, 133, 95, 815, 705, 476]
l2 norm of benign user before server clipping 0.2550416611135006
l2 norm of benign user after server clipping 0.2550416611135006
___Test : epoch: 1961: Average loss: 0.0436, Accuracy: 39552/40000.0 (98.8800%)
benign test loss (after fedavg) 0.04355221765637398
benign test acc (after fedavg) 98.88
Done in 3.6981401443481445 sec.
select client [305, 984, 370, 69, 681, 706, 633, 993, 981, 164]
l2 norm of benign user before server clipping 0.23828852623701097
l2 norm of benign user after server clipping 0.23828852623701097
___Test : epoch: 1962: Average loss: 0.0791, Accuracy: 39314/40000.0 (98.2850%)
benign test loss (after fedavg) 0.07908254529833794
benign test acc (after fedavg) 98.285
Done in 3.65396785736084 sec.
select client [374, 791, 427, 228, 434, 704, 182, 804, 699, 44]
l2 norm of benign user before server clipping 0.1909261479973793
l2 norm of benign user after server clipping 0.1909261479973793
___Test : epoch: 1963: Average loss: 0.0502, Accuracy: 39499/40000.0 (98.7475%)
benign test loss (after fedavg) 0.05023491358458996
benign test acc (after fedavg) 98.7475
Done in 3.5382373332977295 sec.
select client [352, 700, 77, 447, 890, 953, 353, 719, 195, 574]
l2 norm of benign user before server clipping 0.2228816978633404
l2 norm of benign user after server clipping 0.2228816978633404
___Test : epoch: 1964: Average loss: 0.0430, Accuracy: 39563/40000.0 (98.9075%)
benign test loss (after fedavg) 0.043028986977040766
benign test acc (after fedavg) 98.9075
Done in 3.520746946334839 sec.
select client [676, 210, 749, 999, 10, 844, 914, 764, 351]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.23035657819774416
l2 norm of benign user after server clipping 0.23035657819774416
Total Count of Neuro 2797034
Selected Count of Neuro 13985
Gen Trigger3 loss tensor(356.4313, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(351.8176, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(351.8170, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(351.8295, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(351.8466, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.162221
Poison Train Epoch: 1 	Loss: 0.024388
Poison Train Epoch: 2 	Loss: 0.051352
Poison Train Epoch: 3 	Loss: 0.011597
Poison Train Epoch: 4 	Loss: 0.009534
Poison Train Epoch: 5 	Loss: 0.140087
Poison Train Epoch: 6 	Loss: 0.027806
Poison Train Epoch: 7 	Loss: 0.162124
Poison Train Epoch: 8 	Loss: 0.025088
Poison Train Epoch: 9 	Loss: 0.056647
Poison Train Epoch: 10 	Loss: 0.036275
Poison Train Epoch: 11 	Loss: 0.085294
Poison Train Epoch: 12 	Loss: 0.033374
Poison Train Epoch: 13 	Loss: 0.032253
Poison Train Epoch: 14 	Loss: 0.022935
Poison Train Epoch: 15 	Loss: 0.011522
Poison Train Epoch: 16 	Loss: 0.034693
Poison Train Epoch: 17 	Loss: 0.041784
Poison Train Epoch: 18 	Loss: 0.063143
Poison Train Epoch: 19 	Loss: 0.048581
Test set:local_Trigger3_localPoison Accuracy: 3983/4000 (100%)
___Test : epoch: 1965: Average loss: 0.0393, Accuracy: 39584/40000.0 (98.9600%)
benign test loss (after fedavg) 0.039310571938753126
benign test acc (after fedavg) 98.96000000000001
Done in 44.520169734954834 sec.
select client [423, 545, 432, 975, 467, 544, 863, 669, 13, 522]
l2 norm of benign user before server clipping 0.19088393673300744
l2 norm of benign user after server clipping 0.19088393673300744
___Test : epoch: 1966: Average loss: 0.0467, Accuracy: 39580/40000.0 (98.9500%)
benign test loss (after fedavg) 0.04672872492969036
benign test acc (after fedavg) 98.95
Done in 3.8916618824005127 sec.
select client [331, 566, 854, 956, 111, 981, 310, 406, 473, 30]
l2 norm of benign user before server clipping 0.18106139674782754
l2 norm of benign user after server clipping 0.18106139674782754
___Test : epoch: 1967: Average loss: 0.0396, Accuracy: 39589/40000.0 (98.9725%)
benign test loss (after fedavg) 0.039639387875795365
benign test acc (after fedavg) 98.9725
Done in 3.6393768787384033 sec.
select client [26, 985, 818, 477, 343, 230, 500, 37, 280, 318]
l2 norm of benign user before server clipping 0.183116265386343
l2 norm of benign user after server clipping 0.183116265386343
___Test : epoch: 1968: Average loss: 0.0431, Accuracy: 39530/40000.0 (98.8250%)
benign test loss (after fedavg) 0.04308564292490483
benign test acc (after fedavg) 98.825
Done in 3.5333549976348877 sec.
select client [976, 64, 787, 702, 367, 671, 404, 770, 745, 38]
l2 norm of benign user before server clipping 0.22319288477301596
l2 norm of benign user after server clipping 0.22319288477301596
___Test : epoch: 1969: Average loss: 0.0582, Accuracy: 39457/40000.0 (98.6425%)
benign test loss (after fedavg) 0.058194232830405236
benign test acc (after fedavg) 98.6425
Done in 4.05356502532959 sec.
select client [306, 846, 657, 161, 444, 804, 328, 142, 481]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.25871792021724915
l2 norm of benign user after server clipping 0.25871792021724915
Poison Train Epoch: 0 	Loss: 0.051757
Poison Train Epoch: 1 	Loss: 0.009501
Poison Train Epoch: 2 	Loss: 0.009201
Poison Train Epoch: 3 	Loss: 0.028736
Poison Train Epoch: 4 	Loss: 0.025011
Poison Train Epoch: 5 	Loss: 0.041720
Poison Train Epoch: 6 	Loss: 0.044242
Poison Train Epoch: 7 	Loss: 0.013037
Poison Train Epoch: 8 	Loss: 0.024522
Poison Train Epoch: 9 	Loss: 0.046686
Poison Train Epoch: 10 	Loss: 0.019907
Poison Train Epoch: 11 	Loss: 0.013073
Poison Train Epoch: 12 	Loss: 0.047900
Poison Train Epoch: 13 	Loss: 0.025539
Poison Train Epoch: 14 	Loss: 0.013686
Poison Train Epoch: 15 	Loss: 0.031439
Poison Train Epoch: 16 	Loss: 0.031285
Poison Train Epoch: 17 	Loss: 0.054460
Poison Train Epoch: 18 	Loss: 0.009232
Poison Train Epoch: 19 	Loss: 0.037703
Test set:local_Trigger0_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 1970: Average loss: 0.0443, Accuracy: 39489/40000.0 (98.7225%)
benign test loss (after fedavg) 0.04429650027900934
benign test acc (after fedavg) 98.7225
Done in 17.24774670600891 sec.
select client [300, 637, 796, 351, 825, 501, 51, 23, 671, 566]
l2 norm of benign user before server clipping 0.16603961065411568
l2 norm of benign user after server clipping 0.16603961065411568
___Test : epoch: 1971: Average loss: 0.0596, Accuracy: 39439/40000.0 (98.5975%)
benign test loss (after fedavg) 0.05963183016479015
benign test acc (after fedavg) 98.59750000000001
Test set:local_Trigger0Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39439/40000 (99%)
Test set:Global Trigger Poison Accuracy: 17/4000 (0%)
Done in 14.330119609832764 sec.
select client [394, 751, 453, 863, 552, 896, 738, 463, 665, 634]
l2 norm of benign user before server clipping 0.16397193372249602
l2 norm of benign user after server clipping 0.16397193372249602
___Test : epoch: 1972: Average loss: 0.0377, Accuracy: 39631/40000.0 (99.0775%)
benign test loss (after fedavg) 0.037731930950284
benign test acc (after fedavg) 99.0775
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39631/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3/4000 (0%)
Done in 13.336747884750366 sec.
select client [572, 530, 48, 643, 285, 189, 210, 407, 34, 42]
l2 norm of benign user before server clipping 0.20908891335129737
l2 norm of benign user after server clipping 0.20908891335129737
___Test : epoch: 1973: Average loss: 0.0443, Accuracy: 39560/40000.0 (98.9000%)
benign test loss (after fedavg) 0.044266543017327784
benign test acc (after fedavg) 98.9
Test set:local_Trigger0Poison Accuracy: 87/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 41/4000 (1%)
Test set:Main Accuracy: 39560/40000 (99%)
Test set:Global Trigger Poison Accuracy: 115/4000 (3%)
Done in 13.847296714782715 sec.
select client [306, 911, 932, 843, 494, 586, 348, 481, 958, 604]
l2 norm of benign user before server clipping 0.15099182203412057
l2 norm of benign user after server clipping 0.15099182203412057
___Test : epoch: 1974: Average loss: 0.0325, Accuracy: 39662/40000.0 (99.1550%)
benign test loss (after fedavg) 0.032465530064702035
benign test acc (after fedavg) 99.155
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39662/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3/4000 (0%)
Done in 13.808665990829468 sec.
select client [733, 905, 507, 632, 448, 119, 100, 82, 483]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.15366987263162932
l2 norm of benign user after server clipping 0.15366987263162932
Poison Train Epoch: 0 	Loss: 0.015718
Poison Train Epoch: 1 	Loss: 0.042478
Poison Train Epoch: 2 	Loss: 0.012367
Poison Train Epoch: 3 	Loss: 0.034059
Poison Train Epoch: 4 	Loss: 0.118592
Poison Train Epoch: 5 	Loss: 0.010431
Poison Train Epoch: 6 	Loss: 0.009308
Poison Train Epoch: 7 	Loss: 0.093593
Poison Train Epoch: 8 	Loss: 0.044311
Poison Train Epoch: 9 	Loss: 0.014381
Poison Train Epoch: 10 	Loss: 0.142102
Poison Train Epoch: 11 	Loss: 0.048487
Poison Train Epoch: 12 	Loss: 0.073131
Poison Train Epoch: 13 	Loss: 0.006811
Poison Train Epoch: 14 	Loss: 0.019820
Poison Train Epoch: 15 	Loss: 0.028959
Poison Train Epoch: 16 	Loss: 0.025361
Poison Train Epoch: 17 	Loss: 0.022659
Poison Train Epoch: 18 	Loss: 0.014022
Poison Train Epoch: 19 	Loss: 0.054389
Test set:local_Trigger1_localPoison Accuracy: 3963/4000 (99%)
___Test : epoch: 1975: Average loss: 0.0318, Accuracy: 39649/40000.0 (99.1225%)
benign test loss (after fedavg) 0.031814790134876966
benign test acc (after fedavg) 99.1225
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39649/40000 (99%)
Test set:Global Trigger Poison Accuracy: 6/4000 (0%)
Done in 27.66725206375122 sec.
select client [410, 469, 900, 957, 46, 717, 616, 357, 837, 662]
l2 norm of benign user before server clipping 0.15406968891620637
l2 norm of benign user after server clipping 0.15406968891620637
___Test : epoch: 1976: Average loss: 0.0509, Accuracy: 39538/40000.0 (98.8450%)
benign test loss (after fedavg) 0.05085145917981863
benign test acc (after fedavg) 98.845
Test set:local_Trigger0Poison Accuracy: 25/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39538/40000 (99%)
Test set:Global Trigger Poison Accuracy: 31/4000 (1%)
Done in 14.158684492111206 sec.
select client [422, 713, 519, 68, 971, 277, 147, 891, 721, 547]
l2 norm of benign user before server clipping 0.13760208301246166
l2 norm of benign user after server clipping 0.13760208301246166
___Test : epoch: 1977: Average loss: 0.0311, Accuracy: 39668/40000.0 (99.1700%)
benign test loss (after fedavg) 0.031131973946094512
benign test acc (after fedavg) 99.17
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39668/40000 (99%)
Test set:Global Trigger Poison Accuracy: 7/4000 (0%)
Done in 13.790436744689941 sec.
select client [729, 897, 638, 411, 424, 310, 164, 246, 512, 509]
l2 norm of benign user before server clipping 0.1375141229480505
l2 norm of benign user after server clipping 0.1375141229480505
___Test : epoch: 1978: Average loss: 0.0321, Accuracy: 39675/40000.0 (99.1875%)
benign test loss (after fedavg) 0.03211564675346017
benign test acc (after fedavg) 99.1875
Test set:local_Trigger0Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39675/40000 (99%)
Test set:Global Trigger Poison Accuracy: 8/4000 (0%)
Done in 14.089131355285645 sec.
select client [841, 190, 767, 803, 862, 585, 646, 73, 684, 536]
l2 norm of benign user before server clipping 0.1805263876914978
l2 norm of benign user after server clipping 0.1805263876914978
___Test : epoch: 1979: Average loss: 0.0564, Accuracy: 39456/40000.0 (98.6400%)
benign test loss (after fedavg) 0.0564302905023098
benign test acc (after fedavg) 98.64
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 0/4000 (0%)
Test set:Main Accuracy: 39456/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 14.0240797996521 sec.
select client [936, 214, 489, 93, 716, 518, 651, 85, 202]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.11222099564555618
l2 norm of benign user after server clipping 0.11222099564555618
Poison Train Epoch: 0 	Loss: 0.020344
Poison Train Epoch: 1 	Loss: 0.050354
Poison Train Epoch: 2 	Loss: 0.073795
Poison Train Epoch: 3 	Loss: 0.052204
Poison Train Epoch: 4 	Loss: 0.023076
Poison Train Epoch: 5 	Loss: 0.019250
Poison Train Epoch: 6 	Loss: 0.005951
Poison Train Epoch: 7 	Loss: 0.036969
Poison Train Epoch: 8 	Loss: 0.006832
Poison Train Epoch: 9 	Loss: 0.095742
Poison Train Epoch: 10 	Loss: 0.015783
Poison Train Epoch: 11 	Loss: 0.061264
Poison Train Epoch: 12 	Loss: 0.023303
Poison Train Epoch: 13 	Loss: 0.145002
Poison Train Epoch: 14 	Loss: 0.019163
Poison Train Epoch: 15 	Loss: 0.020452
Poison Train Epoch: 16 	Loss: 0.025483
Poison Train Epoch: 17 	Loss: 0.014718
Poison Train Epoch: 18 	Loss: 0.033537
Poison Train Epoch: 19 	Loss: 0.007540
Test set:local_Trigger2_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 1980: Average loss: 0.0354, Accuracy: 39618/40000.0 (99.0450%)
benign test loss (after fedavg) 0.03540730627924204
benign test acc (after fedavg) 99.045
Test set:local_Trigger0Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 73/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39618/40000 (99%)
Test set:Global Trigger Poison Accuracy: 197/4000 (5%)
Done in 28.347150564193726 sec.
select client [721, 717, 764, 980, 755, 884, 324, 494, 433, 627]
l2 norm of benign user before server clipping 0.11022349074482918
l2 norm of benign user after server clipping 0.11022349074482918
___Test : epoch: 1981: Average loss: 0.0300, Accuracy: 39690/40000.0 (99.2250%)
benign test loss (after fedavg) 0.029960565292835237
benign test acc (after fedavg) 99.225
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39690/40000 (99%)
Test set:Global Trigger Poison Accuracy: 13/4000 (0%)
Done in 14.097862958908081 sec.
select client [858, 479, 77, 865, 317, 384, 892, 937, 583, 32]
l2 norm of benign user before server clipping 0.13520330637693406
l2 norm of benign user after server clipping 0.13520330637693406
___Test : epoch: 1982: Average loss: 0.0304, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.03039100578352809
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 30/4000 (1%)
Done in 13.646215200424194 sec.
select client [427, 332, 540, 256, 980, 246, 453, 63, 951, 512]
l2 norm of benign user before server clipping 0.1194859690964222
l2 norm of benign user after server clipping 0.1194859690964222
___Test : epoch: 1983: Average loss: 0.0318, Accuracy: 39648/40000.0 (99.1200%)
benign test loss (after fedavg) 0.03182484827712178
benign test acc (after fedavg) 99.11999999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39648/40000 (99%)
Test set:Global Trigger Poison Accuracy: 7/4000 (0%)
Done in 13.608393669128418 sec.
select client [287, 129, 26, 676, 554, 456, 564, 107, 434, 334]
l2 norm of benign user before server clipping 0.08491842150688171
l2 norm of benign user after server clipping 0.08491842150688171
___Test : epoch: 1984: Average loss: 0.0322, Accuracy: 39664/40000.0 (99.1600%)
benign test loss (after fedavg) 0.03223831047639251
benign test acc (after fedavg) 99.16
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39664/40000 (99%)
Test set:Global Trigger Poison Accuracy: 19/4000 (0%)
Done in 13.856431722640991 sec.
select client [573, 787, 97, 862, 997, 32, 356, 728, 803]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.10302013117406103
l2 norm of benign user after server clipping 0.10302013117406103
Poison Train Epoch: 0 	Loss: 0.080579
Poison Train Epoch: 1 	Loss: 0.010102
Poison Train Epoch: 2 	Loss: 0.039843
Poison Train Epoch: 3 	Loss: 0.054986
Poison Train Epoch: 4 	Loss: 0.028804
Poison Train Epoch: 5 	Loss: 0.019735
Poison Train Epoch: 6 	Loss: 0.096336
Poison Train Epoch: 7 	Loss: 0.016777
Poison Train Epoch: 8 	Loss: 0.013842
Poison Train Epoch: 9 	Loss: 0.030344
Poison Train Epoch: 10 	Loss: 0.026732
Poison Train Epoch: 11 	Loss: 0.011668
Poison Train Epoch: 12 	Loss: 0.029819
Poison Train Epoch: 13 	Loss: 0.030898
Poison Train Epoch: 14 	Loss: 0.045168
Poison Train Epoch: 15 	Loss: 0.042714
Poison Train Epoch: 16 	Loss: 0.027471
Poison Train Epoch: 17 	Loss: 0.023437
Poison Train Epoch: 18 	Loss: 0.003676
Poison Train Epoch: 19 	Loss: 0.055776
Test set:local_Trigger3_localPoison Accuracy: 3984/4000 (100%)
___Test : epoch: 1985: Average loss: 0.0322, Accuracy: 39693/40000.0 (99.2325%)
benign test loss (after fedavg) 0.032239766012132166
benign test acc (after fedavg) 99.2325
Test set:local_Trigger0Poison Accuracy: 25/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39693/40000 (99%)
Test set:Global Trigger Poison Accuracy: 59/4000 (1%)
Done in 27.310203790664673 sec.
select client [418, 510, 975, 711, 824, 37, 422, 550, 694, 504]
l2 norm of benign user before server clipping 0.09733516648411751
l2 norm of benign user after server clipping 0.09733516648411751
___Test : epoch: 1986: Average loss: 0.0313, Accuracy: 39666/40000.0 (99.1650%)
benign test loss (after fedavg) 0.031267404648661616
benign test acc (after fedavg) 99.165
Test set:local_Trigger0Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39666/40000 (99%)
Test set:Global Trigger Poison Accuracy: 15/4000 (0%)
Done in 13.786836862564087 sec.
select client [89, 736, 742, 677, 959, 656, 546, 136, 882, 815]
l2 norm of benign user before server clipping 0.10319776646792889
l2 norm of benign user after server clipping 0.10319776646792889
___Test : epoch: 1987: Average loss: 0.0303, Accuracy: 39676/40000.0 (99.1900%)
benign test loss (after fedavg) 0.03031766808629036
benign test acc (after fedavg) 99.19
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2/4000 (0%)
Test set:Main Accuracy: 39676/40000 (99%)
Test set:Global Trigger Poison Accuracy: 9/4000 (0%)
Done in 14.187997817993164 sec.
select client [850, 24, 214, 494, 972, 976, 153, 869, 844, 433]
l2 norm of benign user before server clipping 0.090970522724092
l2 norm of benign user after server clipping 0.090970522724092
___Test : epoch: 1988: Average loss: 0.0305, Accuracy: 39660/40000.0 (99.1500%)
benign test loss (after fedavg) 0.030522377307713032
benign test acc (after fedavg) 99.15
Test set:local_Trigger0Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39660/40000 (99%)
Test set:Global Trigger Poison Accuracy: 34/4000 (1%)
Done in 13.578271627426147 sec.
select client [885, 309, 712, 962, 254, 304, 34, 801, 632, 716]
l2 norm of benign user before server clipping 0.06836198307573796
l2 norm of benign user after server clipping 0.06836198307573796
___Test : epoch: 1989: Average loss: 0.0281, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.02805869403332472
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 75/4000 (2%)
Done in 13.639982461929321 sec.
select client [520, 222, 938, 819, 634, 20, 500, 46, 922]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.052278548272119627
l2 norm of benign user after server clipping 0.052278548272119627
Poison Train Epoch: 0 	Loss: 0.057947
Poison Train Epoch: 1 	Loss: 0.024565
Poison Train Epoch: 2 	Loss: 0.027289
Poison Train Epoch: 3 	Loss: 0.013039
Poison Train Epoch: 4 	Loss: 0.036778
Poison Train Epoch: 5 	Loss: 0.023519
Poison Train Epoch: 6 	Loss: 0.029848
Poison Train Epoch: 7 	Loss: 0.023104
Poison Train Epoch: 8 	Loss: 0.020097
Poison Train Epoch: 9 	Loss: 0.023469
Poison Train Epoch: 10 	Loss: 0.024702
Poison Train Epoch: 11 	Loss: 0.067134
Poison Train Epoch: 12 	Loss: 0.005493
Poison Train Epoch: 13 	Loss: 0.087203
Poison Train Epoch: 14 	Loss: 0.006601
Poison Train Epoch: 15 	Loss: 0.009118
Poison Train Epoch: 16 	Loss: 0.011964
Poison Train Epoch: 17 	Loss: 0.015349
Poison Train Epoch: 18 	Loss: 0.016200
Poison Train Epoch: 19 	Loss: 0.038908
Test set:local_Trigger0_localPoison Accuracy: 3993/4000 (100%)
___Test : epoch: 1990: Average loss: 0.0288, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.02880099408403039
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 317/4000 (8%)
Done in 26.29183602333069 sec.
select client [557, 416, 463, 310, 709, 174, 644, 757, 91, 287]
l2 norm of benign user before server clipping 0.06517678275704383
l2 norm of benign user after server clipping 0.06517678275704383
___Test : epoch: 1991: Average loss: 0.0278, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.027789440492540597
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 72/4000 (2%)
Done in 14.203007698059082 sec.
select client [746, 875, 611, 364, 144, 239, 924, 762, 180, 870]
l2 norm of benign user before server clipping 0.056825274229049684
l2 norm of benign user after server clipping 0.056825274229049684
___Test : epoch: 1992: Average loss: 0.0271, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.027051081851869822
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 41/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 97/4000 (2%)
Done in 13.977192163467407 sec.
select client [914, 11, 846, 436, 197, 212, 879, 718, 626, 342]
l2 norm of benign user before server clipping 0.047780252806842324
l2 norm of benign user after server clipping 0.047780252806842324
___Test : epoch: 1993: Average loss: 0.0287, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.02866719992607832
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 42/4000 (1%)
Done in 14.023300170898438 sec.
select client [86, 451, 188, 562, 289, 757, 472, 471, 84, 446]
l2 norm of benign user before server clipping 0.04424067474901676
l2 norm of benign user after server clipping 0.04424067474901676
___Test : epoch: 1994: Average loss: 0.0270, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.026985136383771896
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 25/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 70/4000 (2%)
Done in 13.889047861099243 sec.
select client [854, 184, 513, 802, 343, 101, 599, 188, 821]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.04126800068964561
l2 norm of benign user after server clipping 0.04126800068964561
Poison Train Epoch: 0 	Loss: 0.173677
Poison Train Epoch: 1 	Loss: 0.041431
Poison Train Epoch: 2 	Loss: 0.037690
Poison Train Epoch: 3 	Loss: 0.039047
Poison Train Epoch: 4 	Loss: 0.016792
Poison Train Epoch: 5 	Loss: 0.044942
Poison Train Epoch: 6 	Loss: 0.015972
Poison Train Epoch: 7 	Loss: 0.048128
Poison Train Epoch: 8 	Loss: 0.013290
Poison Train Epoch: 9 	Loss: 0.052624
Poison Train Epoch: 10 	Loss: 0.009734
Poison Train Epoch: 11 	Loss: 0.057192
Poison Train Epoch: 12 	Loss: 0.019395
Poison Train Epoch: 13 	Loss: 0.059103
Poison Train Epoch: 14 	Loss: 0.032096
Poison Train Epoch: 15 	Loss: 0.016966
Poison Train Epoch: 16 	Loss: 0.022910
Poison Train Epoch: 17 	Loss: 0.008736
Poison Train Epoch: 18 	Loss: 0.052651
Poison Train Epoch: 19 	Loss: 0.022380
Test set:local_Trigger1_localPoison Accuracy: 3959/4000 (99%)
___Test : epoch: 1995: Average loss: 0.0288, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.028751830185204743
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 282/4000 (7%)
Done in 26.217453718185425 sec.
select client [58, 145, 292, 383, 212, 548, 367, 131, 101, 541]
l2 norm of benign user before server clipping 0.03856264716014266
l2 norm of benign user after server clipping 0.03856264716014266
___Test : epoch: 1996: Average loss: 0.0277, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.027748858128488065
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 89/4000 (2%)
Done in 14.357762575149536 sec.
select client [652, 278, 693, 855, 981, 25, 996, 561, 119, 962]
l2 norm of benign user before server clipping 0.03303590631112456
l2 norm of benign user after server clipping 0.03303590631112456
___Test : epoch: 1997: Average loss: 0.0339, Accuracy: 39653/40000.0 (99.1325%)
benign test loss (after fedavg) 0.03389980629086495
benign test acc (after fedavg) 99.13250000000001
Test set:local_Trigger0Poison Accuracy: 77/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 38/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39653/40000 (99%)
Test set:Global Trigger Poison Accuracy: 323/4000 (8%)
Done in 13.977980613708496 sec.
select client [223, 29, 99, 74, 387, 849, 703, 168, 802, 228]
l2 norm of benign user before server clipping 0.01912120128981769
l2 norm of benign user after server clipping 0.01912120128981769
___Test : epoch: 1998: Average loss: 0.0290, Accuracy: 39686/40000.0 (99.2150%)
benign test loss (after fedavg) 0.028964044959843158
benign test acc (after fedavg) 99.215
Test set:local_Trigger0Poison Accuracy: 46/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39686/40000 (99%)
Test set:Global Trigger Poison Accuracy: 144/4000 (4%)
Done in 13.582834243774414 sec.
select client [679, 103, 570, 967, 408, 907, 726, 960, 759, 836]
l2 norm of benign user before server clipping 0.008301928662694991
l2 norm of benign user after server clipping 0.008301928662694991
___Test : epoch: 1999: Average loss: 0.0269, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.026865069694817067
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 78/4000 (2%)
Done in 13.789661169052124 sec.
select client [70, 321, 827, 91, 516, 262, 283, 132, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.008610960225471191
l2 norm of benign user after server clipping 0.008610960225471191
Poison Train Epoch: 0 	Loss: 0.011848
Poison Train Epoch: 1 	Loss: 0.040672
Poison Train Epoch: 2 	Loss: 0.008507
Poison Train Epoch: 3 	Loss: 0.023003
Poison Train Epoch: 4 	Loss: 0.011600
Poison Train Epoch: 5 	Loss: 0.070259
Poison Train Epoch: 6 	Loss: 0.037885
Poison Train Epoch: 7 	Loss: 0.004348
Poison Train Epoch: 8 	Loss: 0.021393
Poison Train Epoch: 9 	Loss: 0.031626
Poison Train Epoch: 10 	Loss: 0.016629
Poison Train Epoch: 11 	Loss: 0.020997
Poison Train Epoch: 12 	Loss: 0.013627
Poison Train Epoch: 13 	Loss: 0.041548
Poison Train Epoch: 14 	Loss: 0.013239
Poison Train Epoch: 15 	Loss: 0.006203
Poison Train Epoch: 16 	Loss: 0.006963
Poison Train Epoch: 17 	Loss: 0.008456
Poison Train Epoch: 18 	Loss: 0.023181
Poison Train Epoch: 19 	Loss: 0.042789
Test set:local_Trigger2_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 2000: Average loss: 0.0280, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.028000507625192402
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 127/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 124/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 1452/4000 (36%)
Done in 26.41142249107361 sec.
select client [862, 243, 897, 881, 585, 937, 800, 823, 218, 321]
l2 norm of benign user before server clipping 0.005609997943975031
l2 norm of benign user after server clipping 0.005609997943975031
___Test : epoch: 2001: Average loss: 0.0280, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.02795749536976218
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 89/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 1012/4000 (25%)
Done in 13.867784023284912 sec.
select client [219, 936, 503, 895, 738, 995, 37, 934, 20, 699]
l2 norm of benign user before server clipping 0.007575640291906893
l2 norm of benign user after server clipping 0.007575640291906893
___Test : epoch: 2002: Average loss: 0.0281, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.028120350517332554
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 49/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 51/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 636/4000 (16%)
Done in 13.931089878082275 sec.
select client [578, 490, 823, 286, 837, 43, 89, 875, 285, 755]
l2 norm of benign user before server clipping 0.006894997449126095
l2 norm of benign user after server clipping 0.006894997449126095
___Test : epoch: 2003: Average loss: 0.0277, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.02765545481964946
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 56/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 739/4000 (18%)
Done in 14.00389575958252 sec.
select client [315, 512, 353, 104, 779, 231, 449, 352, 581, 76]
l2 norm of benign user before server clipping 0.0073905349243432285
l2 norm of benign user after server clipping 0.0073905349243432285
___Test : epoch: 2004: Average loss: 0.0277, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.02772256404310465
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 56/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 728/4000 (18%)
Done in 13.621809482574463 sec.
select client [62, 22, 250, 584, 199, 108, 74, 719, 353]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.003906899080094364
l2 norm of benign user after server clipping 0.003906899080094364
Poison Train Epoch: 0 	Loss: 0.025524
Poison Train Epoch: 1 	Loss: 0.059801
Poison Train Epoch: 2 	Loss: 0.017514
Poison Train Epoch: 3 	Loss: 0.009383
Poison Train Epoch: 4 	Loss: 0.161502
Poison Train Epoch: 5 	Loss: 0.004408
Poison Train Epoch: 6 	Loss: 0.025648
Poison Train Epoch: 7 	Loss: 0.012726
Poison Train Epoch: 8 	Loss: 0.044812
Poison Train Epoch: 9 	Loss: 0.012975
Poison Train Epoch: 10 	Loss: 0.025878
Poison Train Epoch: 11 	Loss: 0.009542
Poison Train Epoch: 12 	Loss: 0.011096
Poison Train Epoch: 13 	Loss: 0.084728
Poison Train Epoch: 14 	Loss: 0.020838
Poison Train Epoch: 15 	Loss: 0.020403
Poison Train Epoch: 16 	Loss: 0.010211
Poison Train Epoch: 17 	Loss: 0.011790
Poison Train Epoch: 18 	Loss: 0.029491
Poison Train Epoch: 19 	Loss: 0.006727
Test set:local_Trigger3_localPoison Accuracy: 3972/4000 (99%)
___Test : epoch: 2005: Average loss: 0.0291, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.029090147256106137
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 163/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 27/4000 (1%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2352/4000 (59%)
Done in 27.26929998397827 sec.
select client [275, 152, 603, 293, 997, 105, 958, 871, 628, 330]
l2 norm of benign user before server clipping 0.006530809868127108
l2 norm of benign user after server clipping 0.006530809868127108
___Test : epoch: 2006: Average loss: 0.0284, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.02841336065605283
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 160/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 128/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 1977/4000 (49%)
Done in 14.126241445541382 sec.
select client [193, 65, 501, 709, 748, 625, 132, 504, 600, 952]
l2 norm of benign user before server clipping 0.005868360796011984
l2 norm of benign user after server clipping 0.005868360796011984
___Test : epoch: 2007: Average loss: 0.0292, Accuracy: 39699/40000.0 (99.2475%)
benign test loss (after fedavg) 0.02920775002017617
benign test acc (after fedavg) 99.2475
Test set:local_Trigger0Poison Accuracy: 221/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 177/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 31/4000 (1%)
Test set:Main Accuracy: 39699/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2349/4000 (59%)
Done in 14.15255856513977 sec.
select client [942, 505, 205, 23, 901, 317, 728, 751, 602, 48]
l2 norm of benign user before server clipping 0.006781433965079487
l2 norm of benign user after server clipping 0.006781433965079487
___Test : epoch: 2008: Average loss: 0.0270, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.027005311977863312
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 73/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 1307/4000 (33%)
Done in 14.100176334381104 sec.
select client [576, 108, 440, 184, 396, 66, 350, 579, 668, 753]
l2 norm of benign user before server clipping 0.005935224611312151
l2 norm of benign user after server clipping 0.005935224611312151
___Test : epoch: 2009: Average loss: 0.0295, Accuracy: 39687/40000.0 (99.2175%)
benign test loss (after fedavg) 0.02948057177364826
benign test acc (after fedavg) 99.2175
Test set:local_Trigger0Poison Accuracy: 137/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 111/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39687/40000 (99%)
Test set:Global Trigger Poison Accuracy: 1957/4000 (49%)
Done in 14.703035116195679 sec.
select client [950, 299, 587, 187, 936, 86, 761, 264, 21]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006867832478342785
l2 norm of benign user after server clipping 0.006867832478342785
Poison Train Epoch: 0 	Loss: 0.011821
Poison Train Epoch: 1 	Loss: 0.019923
Poison Train Epoch: 2 	Loss: 0.080350
Poison Train Epoch: 3 	Loss: 0.185190
Poison Train Epoch: 4 	Loss: 0.020823
Poison Train Epoch: 5 	Loss: 0.091928
Poison Train Epoch: 6 	Loss: 0.015948
Poison Train Epoch: 7 	Loss: 0.004657
Poison Train Epoch: 8 	Loss: 0.006952
Poison Train Epoch: 9 	Loss: 0.019335
Poison Train Epoch: 10 	Loss: 0.052555
Poison Train Epoch: 11 	Loss: 0.007101
Poison Train Epoch: 12 	Loss: 0.047531
Poison Train Epoch: 13 	Loss: 0.029444
Poison Train Epoch: 14 	Loss: 0.034271
Poison Train Epoch: 15 	Loss: 0.010720
Poison Train Epoch: 16 	Loss: 0.013768
Poison Train Epoch: 17 	Loss: 0.017656
Poison Train Epoch: 18 	Loss: 0.007543
Poison Train Epoch: 19 	Loss: 0.020809
Test set:local_Trigger0_localPoison Accuracy: 3993/4000 (100%)
___Test : epoch: 2010: Average loss: 0.0300, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.030032585211843252
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 440/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 188/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 25/4000 (1%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3093/4000 (77%)
Done in 27.901426315307617 sec.
select client [653, 365, 576, 490, 796, 790, 899, 954, 318, 376]
l2 norm of benign user before server clipping 0.004831329407170415
l2 norm of benign user after server clipping 0.004831329407170415
___Test : epoch: 2011: Average loss: 0.0294, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.029363920748233796
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 484/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 186/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 26/4000 (1%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3182/4000 (80%)
Done in 13.7065589427948 sec.
select client [127, 972, 686, 227, 582, 53, 965, 992, 465, 431]
l2 norm of benign user before server clipping 0.00398663057712838
l2 norm of benign user after server clipping 0.00398663057712838
___Test : epoch: 2012: Average loss: 0.0280, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.02800848571807146
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 346/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 135/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 20/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2930/4000 (73%)
Done in 13.608752489089966 sec.
select client [415, 594, 192, 444, 579, 249, 52, 701, 940, 160]
l2 norm of benign user before server clipping 0.007330865040421486
l2 norm of benign user after server clipping 0.007330865040421486
___Test : epoch: 2013: Average loss: 0.0295, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.02949433848038316
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 424/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 170/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 23/4000 (1%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3097/4000 (77%)
Done in 14.185190200805664 sec.
select client [519, 801, 640, 526, 699, 254, 111, 591, 855, 979]
l2 norm of benign user before server clipping 0.009189123148098588
l2 norm of benign user after server clipping 0.009189123148098588
___Test : epoch: 2014: Average loss: 0.0299, Accuracy: 39699/40000.0 (99.2475%)
benign test loss (after fedavg) 0.029873601990938185
benign test acc (after fedavg) 99.2475
Test set:local_Trigger0Poison Accuracy: 403/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 158/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 23/4000 (1%)
Test set:Main Accuracy: 39699/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3093/4000 (77%)
Done in 14.375538110733032 sec.
select client [126, 21, 212, 604, 700, 449, 692, 492, 148]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.010288327673657073
l2 norm of benign user after server clipping 0.010288327673657073
Poison Train Epoch: 0 	Loss: 0.101714
Poison Train Epoch: 1 	Loss: 0.017716
Poison Train Epoch: 2 	Loss: 0.046146
Poison Train Epoch: 3 	Loss: 0.051215
Poison Train Epoch: 4 	Loss: 0.026896
Poison Train Epoch: 5 	Loss: 0.063360
Poison Train Epoch: 6 	Loss: 0.014845
Poison Train Epoch: 7 	Loss: 0.027260
Poison Train Epoch: 8 	Loss: 0.071099
Poison Train Epoch: 9 	Loss: 0.013959
Poison Train Epoch: 10 	Loss: 0.016291
Poison Train Epoch: 11 	Loss: 0.033505
Poison Train Epoch: 12 	Loss: 0.056434
Poison Train Epoch: 13 	Loss: 0.006451
Poison Train Epoch: 14 	Loss: 0.007640
Poison Train Epoch: 15 	Loss: 0.035899
Poison Train Epoch: 16 	Loss: 0.026127
Poison Train Epoch: 17 	Loss: 0.048075
Poison Train Epoch: 18 	Loss: 0.005193
Poison Train Epoch: 19 	Loss: 0.014092
Test set:local_Trigger1_localPoison Accuracy: 3969/4000 (99%)
___Test : epoch: 2015: Average loss: 0.0314, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.03138639577925205
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 1232/4000 (31%)
Test set:local_Trigger1Poison Accuracy: 34/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 409/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 53/4000 (1%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3559/4000 (89%)
Done in 28.04015016555786 sec.
select client [261, 236, 386, 454, 124, 489, 35, 578, 268, 875]
l2 norm of benign user before server clipping 0.008294361573643983
l2 norm of benign user after server clipping 0.008294361573643983
___Test : epoch: 2016: Average loss: 0.0308, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.03081117837205529
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 559/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 211/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3235/4000 (81%)
Done in 14.00628113746643 sec.
select client [606, 328, 258, 795, 174, 238, 204, 44, 20, 473]
l2 norm of benign user before server clipping 0.008352513494901358
l2 norm of benign user after server clipping 0.008352513494901358
___Test : epoch: 2017: Average loss: 0.0289, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.028909486513584853
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 563/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 172/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3220/4000 (80%)
Done in 13.655365467071533 sec.
select client [443, 349, 769, 62, 214, 134, 489, 513, 142, 316]
l2 norm of benign user before server clipping 0.009644749842118472
l2 norm of benign user after server clipping 0.009644749842118472
___Test : epoch: 2018: Average loss: 0.0293, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.029322313510626554
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 370/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 132/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2985/4000 (75%)
Done in 13.846943616867065 sec.
select client [240, 354, 253, 871, 732, 718, 541, 948, 311, 375]
l2 norm of benign user before server clipping 0.006955400411970914
l2 norm of benign user after server clipping 0.006955400411970914
___Test : epoch: 2019: Average loss: 0.0293, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02928547284975648
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 672/4000 (17%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 209/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 29/4000 (1%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3304/4000 (83%)
Done in 14.030460596084595 sec.
select client [63, 25, 194, 94, 874, 325, 349, 612, 837]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005454509208599727
l2 norm of benign user after server clipping 0.005454509208599727
Poison Train Epoch: 0 	Loss: 0.042089
Poison Train Epoch: 1 	Loss: 0.024396
Poison Train Epoch: 2 	Loss: 0.076001
Poison Train Epoch: 3 	Loss: 0.027031
Poison Train Epoch: 4 	Loss: 0.024342
Poison Train Epoch: 5 	Loss: 0.018040
Poison Train Epoch: 6 	Loss: 0.014812
Poison Train Epoch: 7 	Loss: 0.053438
Poison Train Epoch: 8 	Loss: 0.054602
Poison Train Epoch: 9 	Loss: 0.035373
Poison Train Epoch: 10 	Loss: 0.008956
Poison Train Epoch: 11 	Loss: 0.030836
Poison Train Epoch: 12 	Loss: 0.011037
Poison Train Epoch: 13 	Loss: 0.018900
Poison Train Epoch: 14 	Loss: 0.019474
Poison Train Epoch: 15 	Loss: 0.042145
Poison Train Epoch: 16 	Loss: 0.017046
Poison Train Epoch: 17 	Loss: 0.012255
Poison Train Epoch: 18 	Loss: 0.011814
Poison Train Epoch: 19 	Loss: 0.020918
Test set:local_Trigger2_localPoison Accuracy: 3995/4000 (100%)
___Test : epoch: 2020: Average loss: 0.0326, Accuracy: 39685/40000.0 (99.2125%)
benign test loss (after fedavg) 0.032626205626130104
benign test acc (after fedavg) 99.2125
Test set:local_Trigger0Poison Accuracy: 936/4000 (23%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 665/4000 (17%)
Test set:local_Trigger3Poison Accuracy: 39/4000 (1%)
Test set:Main Accuracy: 39685/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3671/4000 (92%)
Done in 27.981273651123047 sec.
select client [981, 779, 12, 323, 846, 425, 926, 35, 626, 391]
l2 norm of benign user before server clipping 0.00693731673527509
l2 norm of benign user after server clipping 0.00693731673527509
___Test : epoch: 2021: Average loss: 0.0318, Accuracy: 39679/40000.0 (99.1975%)
benign test loss (after fedavg) 0.03180338016748428
benign test acc (after fedavg) 99.1975
Test set:local_Trigger0Poison Accuracy: 580/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 390/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 26/4000 (1%)
Test set:Main Accuracy: 39679/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3542/4000 (89%)
Done in 13.93739914894104 sec.
select client [181, 311, 422, 452, 485, 460, 777, 509, 439, 568]
l2 norm of benign user before server clipping 0.008240390499122442
l2 norm of benign user after server clipping 0.008240390499122442
___Test : epoch: 2022: Average loss: 0.0315, Accuracy: 39690/40000.0 (99.2250%)
benign test loss (after fedavg) 0.03150805717408657
benign test acc (after fedavg) 99.225
Test set:local_Trigger0Poison Accuracy: 837/4000 (21%)
Test set:local_Trigger1Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 599/4000 (15%)
Test set:local_Trigger3Poison Accuracy: 31/4000 (1%)
Test set:Main Accuracy: 39690/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3721/4000 (93%)
Done in 14.061866283416748 sec.
select client [125, 780, 104, 565, 362, 237, 875, 295, 343, 71]
l2 norm of benign user before server clipping 0.007307658717036247
l2 norm of benign user after server clipping 0.007307658717036247
___Test : epoch: 2023: Average loss: 0.0294, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.029429129469394685
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 473/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 346/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3546/4000 (89%)
Done in 14.287368774414062 sec.
select client [450, 466, 354, 323, 571, 986, 686, 421, 676, 684]
l2 norm of benign user before server clipping 0.006870474736206234
l2 norm of benign user after server clipping 0.006870474736206234
___Test : epoch: 2024: Average loss: 0.0294, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.02937258001938462
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 588/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 411/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 26/4000 (1%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3607/4000 (90%)
Done in 14.015332460403442 sec.
select client [851, 880, 279, 283, 843, 468, 866, 53, 797]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006893070039546324
l2 norm of benign user after server clipping 0.006893070039546324
Poison Train Epoch: 0 	Loss: 0.094065
Poison Train Epoch: 1 	Loss: 0.013149
Poison Train Epoch: 2 	Loss: 0.010228
Poison Train Epoch: 3 	Loss: 0.012420
Poison Train Epoch: 4 	Loss: 0.035895
Poison Train Epoch: 5 	Loss: 0.007656
Poison Train Epoch: 6 	Loss: 0.023958
Poison Train Epoch: 7 	Loss: 0.038439
Poison Train Epoch: 8 	Loss: 0.005020
Poison Train Epoch: 9 	Loss: 0.040697
Poison Train Epoch: 10 	Loss: 0.030959
Poison Train Epoch: 11 	Loss: 0.018841
Poison Train Epoch: 12 	Loss: 0.074522
Poison Train Epoch: 13 	Loss: 0.035697
Poison Train Epoch: 14 	Loss: 0.010278
Poison Train Epoch: 15 	Loss: 0.011321
Poison Train Epoch: 16 	Loss: 0.010701
Poison Train Epoch: 17 	Loss: 0.116906
Poison Train Epoch: 18 	Loss: 0.007145
Poison Train Epoch: 19 	Loss: 0.009276
Test set:local_Trigger3_localPoison Accuracy: 3988/4000 (100%)
___Test : epoch: 2025: Average loss: 0.0326, Accuracy: 39689/40000.0 (99.2225%)
benign test loss (after fedavg) 0.03264896200150252
benign test acc (after fedavg) 99.2225
Test set:local_Trigger0Poison Accuracy: 1684/4000 (42%)
Test set:local_Trigger1Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1188/4000 (30%)
Test set:local_Trigger3Poison Accuracy: 68/4000 (2%)
Test set:Main Accuracy: 39689/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3854/4000 (96%)
Done in 27.502329349517822 sec.
select client [435, 860, 59, 781, 560, 691, 514, 980, 330, 106]
l2 norm of benign user before server clipping 0.007520785462111235
l2 norm of benign user after server clipping 0.007520785462111235
___Test : epoch: 2026: Average loss: 0.0321, Accuracy: 39685/40000.0 (99.2125%)
benign test loss (after fedavg) 0.03209171991944313
benign test acc (after fedavg) 99.2125
Test set:local_Trigger0Poison Accuracy: 1031/4000 (26%)
Test set:local_Trigger1Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 668/4000 (17%)
Test set:local_Trigger3Poison Accuracy: 42/4000 (1%)
Test set:Main Accuracy: 39685/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3766/4000 (94%)
Done in 13.67045783996582 sec.
select client [214, 970, 603, 765, 516, 701, 936, 375, 189, 828]
l2 norm of benign user before server clipping 0.006549698067829013
l2 norm of benign user after server clipping 0.006549698067829013
___Test : epoch: 2027: Average loss: 0.0312, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.031194902302324773
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 1357/4000 (34%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 837/4000 (21%)
Test set:local_Trigger3Poison Accuracy: 48/4000 (1%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3841/4000 (96%)
Done in 13.811203718185425 sec.
select client [532, 749, 99, 64, 284, 71, 262, 238, 592, 109]
l2 norm of benign user before server clipping 0.0080512237502262
l2 norm of benign user after server clipping 0.0080512237502262
___Test : epoch: 2028: Average loss: 0.0318, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.031796376930177214
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 1344/4000 (34%)
Test set:local_Trigger1Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 836/4000 (21%)
Test set:local_Trigger3Poison Accuracy: 54/4000 (1%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3842/4000 (96%)
Done in 14.249907493591309 sec.
select client [365, 558, 46, 811, 470, 362, 382, 456, 993, 125]
l2 norm of benign user before server clipping 0.006539836898446083
l2 norm of benign user after server clipping 0.006539836898446083
___Test : epoch: 2029: Average loss: 0.0294, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.02941671127304435
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 364/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 248/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3512/4000 (88%)
Done in 13.935421228408813 sec.
select client [697, 63, 874, 672, 738, 322, 554, 185, 646]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00657705887634721
l2 norm of benign user after server clipping 0.00657705887634721
Poison Train Epoch: 0 	Loss: 0.032200
Poison Train Epoch: 1 	Loss: 0.018966
Poison Train Epoch: 2 	Loss: 0.041252
Poison Train Epoch: 3 	Loss: 0.063885
Poison Train Epoch: 4 	Loss: 0.009774
Poison Train Epoch: 5 	Loss: 0.029064
Poison Train Epoch: 6 	Loss: 0.042329
Poison Train Epoch: 7 	Loss: 0.005208
Poison Train Epoch: 8 	Loss: 0.042315
Poison Train Epoch: 9 	Loss: 0.018593
Poison Train Epoch: 10 	Loss: 0.019333
Poison Train Epoch: 11 	Loss: 0.011599
Poison Train Epoch: 12 	Loss: 0.017149
Poison Train Epoch: 13 	Loss: 0.018274
Poison Train Epoch: 14 	Loss: 0.020026
Poison Train Epoch: 15 	Loss: 0.007710
Poison Train Epoch: 16 	Loss: 0.070377
Poison Train Epoch: 17 	Loss: 0.047908
Poison Train Epoch: 18 	Loss: 0.027009
Poison Train Epoch: 19 	Loss: 0.037811
Test set:local_Trigger0_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 2030: Average loss: 0.0318, Accuracy: 39685/40000.0 (99.2125%)
benign test loss (after fedavg) 0.031799844652414325
benign test acc (after fedavg) 99.2125
Test set:local_Trigger0Poison Accuracy: 1379/4000 (34%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 497/4000 (12%)
Test set:local_Trigger3Poison Accuracy: 28/4000 (1%)
Test set:Main Accuracy: 39685/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3788/4000 (95%)
Done in 27.450422763824463 sec.
select client [82, 56, 106, 764, 380, 18, 178, 915, 48, 386]
l2 norm of benign user before server clipping 0.006356175604742021
l2 norm of benign user after server clipping 0.006356175604742021
___Test : epoch: 2031: Average loss: 0.0311, Accuracy: 39689/40000.0 (99.2225%)
benign test loss (after fedavg) 0.03114906266257167
benign test acc (after fedavg) 99.2225
Test set:local_Trigger0Poison Accuracy: 1592/4000 (40%)
Test set:local_Trigger1Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 549/4000 (14%)
Test set:local_Trigger3Poison Accuracy: 33/4000 (1%)
Test set:Main Accuracy: 39689/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3871/4000 (97%)
Done in 13.911070108413696 sec.
select client [564, 398, 824, 52, 571, 847, 454, 500, 964, 963]
l2 norm of benign user before server clipping 0.007313433173112571
l2 norm of benign user after server clipping 0.007313433173112571
___Test : epoch: 2032: Average loss: 0.0302, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.030226040615141392
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 1696/4000 (42%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 557/4000 (14%)
Test set:local_Trigger3Poison Accuracy: 31/4000 (1%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3892/4000 (97%)
Done in 13.786214113235474 sec.
select client [692, 70, 404, 181, 697, 552, 561, 627, 483, 895]
l2 norm of benign user before server clipping 0.011127540445886552
l2 norm of benign user after server clipping 0.011127540445886552
___Test : epoch: 2033: Average loss: 0.0306, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.03055565600246191
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 1912/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 791/4000 (20%)
Test set:local_Trigger3Poison Accuracy: 38/4000 (1%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3905/4000 (98%)
Done in 14.072480916976929 sec.
select client [355, 435, 774, 173, 747, 113, 985, 109, 783, 655]
l2 norm of benign user before server clipping 0.005645495047792793
l2 norm of benign user after server clipping 0.005645495047792793
___Test : epoch: 2034: Average loss: 0.0304, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.03044545960277319
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 1056/4000 (26%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 325/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 20/4000 (0%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3799/4000 (95%)
Done in 14.08455753326416 sec.
select client [580, 731, 813, 242, 987, 791, 998, 777, 628]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0054430624521854855
l2 norm of benign user after server clipping 0.0054430624521854855
Poison Train Epoch: 0 	Loss: 0.045573
Poison Train Epoch: 1 	Loss: 0.011291
Poison Train Epoch: 2 	Loss: 0.018757
Poison Train Epoch: 3 	Loss: 0.046089
Poison Train Epoch: 4 	Loss: 0.037142
Poison Train Epoch: 5 	Loss: 0.030360
Poison Train Epoch: 6 	Loss: 0.016203
Poison Train Epoch: 7 	Loss: 0.020914
Poison Train Epoch: 8 	Loss: 0.063379
Poison Train Epoch: 9 	Loss: 0.013454
Poison Train Epoch: 10 	Loss: 0.009652
Poison Train Epoch: 11 	Loss: 0.023403
Poison Train Epoch: 12 	Loss: 0.021195
Poison Train Epoch: 13 	Loss: 0.087402
Poison Train Epoch: 14 	Loss: 0.009577
Poison Train Epoch: 15 	Loss: 0.011573
Poison Train Epoch: 16 	Loss: 0.045867
Poison Train Epoch: 17 	Loss: 0.023122
Poison Train Epoch: 18 	Loss: 0.014013
Poison Train Epoch: 19 	Loss: 0.012245
Test set:local_Trigger1_localPoison Accuracy: 3956/4000 (99%)
___Test : epoch: 2035: Average loss: 0.0353, Accuracy: 39668/40000.0 (99.1700%)
benign test loss (after fedavg) 0.03528064267933369
benign test acc (after fedavg) 99.17
Test set:local_Trigger0Poison Accuracy: 2912/4000 (73%)
Test set:local_Trigger1Poison Accuracy: 45/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1569/4000 (39%)
Test set:local_Trigger3Poison Accuracy: 86/4000 (2%)
Test set:Main Accuracy: 39668/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3912/4000 (98%)
Done in 27.171748399734497 sec.
select client [485, 587, 253, 396, 912, 53, 420, 889, 850, 905]
l2 norm of benign user before server clipping 0.006405773642472923
l2 norm of benign user after server clipping 0.006405773642472923
___Test : epoch: 2036: Average loss: 0.0329, Accuracy: 39701/40000.0 (99.2525%)
benign test loss (after fedavg) 0.03288213130235672
benign test acc (after fedavg) 99.2525
Test set:local_Trigger0Poison Accuracy: 2778/4000 (69%)
Test set:local_Trigger1Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1369/4000 (34%)
Test set:local_Trigger3Poison Accuracy: 70/4000 (2%)
Test set:Main Accuracy: 39701/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3936/4000 (98%)
Done in 13.794387102127075 sec.
select client [145, 541, 599, 789, 573, 179, 549, 516, 416, 844]
l2 norm of benign user before server clipping 0.008361089485697448
l2 norm of benign user after server clipping 0.008361089485697448
___Test : epoch: 2037: Average loss: 0.0318, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.03181930738240481
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 2419/4000 (60%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1067/4000 (27%)
Test set:local_Trigger3Poison Accuracy: 59/4000 (1%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3905/4000 (98%)
Done in 13.827395677566528 sec.
select client [937, 155, 307, 115, 736, 933, 166, 228, 487, 848]
l2 norm of benign user before server clipping 0.006857973826117814
l2 norm of benign user after server clipping 0.006857973826117814
___Test : epoch: 2038: Average loss: 0.0319, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.031892453382909296
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 2619/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 31/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1092/4000 (27%)
Test set:local_Trigger3Poison Accuracy: 58/4000 (1%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3921/4000 (98%)
Done in 13.603318929672241 sec.
select client [353, 296, 520, 763, 482, 36, 576, 590, 370, 483]
l2 norm of benign user before server clipping 0.006123454158660025
l2 norm of benign user after server clipping 0.006123454158660025
___Test : epoch: 2039: Average loss: 0.0307, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.030683833265304567
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 2090/4000 (52%)
Test set:local_Trigger1Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 796/4000 (20%)
Test set:local_Trigger3Poison Accuracy: 43/4000 (1%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3905/4000 (98%)
Done in 14.00843596458435 sec.
select client [593, 21, 148, 412, 638, 341, 58, 987, 789]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0071660433895885944
l2 norm of benign user after server clipping 0.0071660433895885944
Poison Train Epoch: 0 	Loss: 0.032314
Poison Train Epoch: 1 	Loss: 0.031947
Poison Train Epoch: 2 	Loss: 0.014890
Poison Train Epoch: 3 	Loss: 0.022459
Poison Train Epoch: 4 	Loss: 0.006441
Poison Train Epoch: 5 	Loss: 0.013847
Poison Train Epoch: 6 	Loss: 0.031664
Poison Train Epoch: 7 	Loss: 0.054040
Poison Train Epoch: 8 	Loss: 0.041810
Poison Train Epoch: 9 	Loss: 0.023177
Poison Train Epoch: 10 	Loss: 0.051628
Poison Train Epoch: 11 	Loss: 0.006231
Poison Train Epoch: 12 	Loss: 0.034955
Poison Train Epoch: 13 	Loss: 0.018751
Poison Train Epoch: 14 	Loss: 0.036443
Poison Train Epoch: 15 	Loss: 0.018065
Poison Train Epoch: 16 	Loss: 0.009917
Poison Train Epoch: 17 	Loss: 0.006677
Poison Train Epoch: 18 	Loss: 0.014450
Poison Train Epoch: 19 	Loss: 0.033148
Test set:local_Trigger2_localPoison Accuracy: 3995/4000 (100%)
___Test : epoch: 2040: Average loss: 0.0339, Accuracy: 39683/40000.0 (99.2075%)
benign test loss (after fedavg) 0.03389635830521583
benign test acc (after fedavg) 99.20750000000001
Test set:local_Trigger0Poison Accuracy: 2479/4000 (62%)
Test set:local_Trigger1Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1799/4000 (45%)
Test set:local_Trigger3Poison Accuracy: 63/4000 (2%)
Test set:Main Accuracy: 39683/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3940/4000 (98%)
Done in 26.991249322891235 sec.
select client [170, 50, 430, 558, 872, 487, 997, 213, 399, 936]
l2 norm of benign user before server clipping 0.008865129575133324
l2 norm of benign user after server clipping 0.008865129575133324
___Test : epoch: 2041: Average loss: 0.0330, Accuracy: 39690/40000.0 (99.2250%)
benign test loss (after fedavg) 0.032992047138512136
benign test acc (after fedavg) 99.225
Test set:local_Trigger0Poison Accuracy: 2696/4000 (67%)
Test set:local_Trigger1Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1936/4000 (48%)
Test set:local_Trigger3Poison Accuracy: 77/4000 (2%)
Test set:Main Accuracy: 39690/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3957/4000 (99%)
Done in 13.85169768333435 sec.
select client [524, 466, 383, 227, 208, 556, 117, 560, 597, 698]
l2 norm of benign user before server clipping 0.008732031169347464
l2 norm of benign user after server clipping 0.008732031169347464
___Test : epoch: 2042: Average loss: 0.0295, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.029451663003861903
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 1955/4000 (49%)
Test set:local_Trigger1Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1230/4000 (31%)
Test set:local_Trigger3Poison Accuracy: 31/4000 (1%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3925/4000 (98%)
Done in 14.013057231903076 sec.
select client [679, 523, 965, 503, 609, 338, 307, 558, 849, 856]
l2 norm of benign user before server clipping 0.00795221496373415
l2 norm of benign user after server clipping 0.00795221496373415
___Test : epoch: 2043: Average loss: 0.0315, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.03151832280606032
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 2213/4000 (55%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1545/4000 (39%)
Test set:local_Trigger3Poison Accuracy: 52/4000 (1%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3946/4000 (99%)
Done in 13.452969789505005 sec.
select client [254, 570, 914, 819, 517, 706, 257, 29, 66, 705]
l2 norm of benign user before server clipping 0.008653901959769427
l2 norm of benign user after server clipping 0.008653901959769427
___Test : epoch: 2044: Average loss: 0.0296, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.029603809180855752
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 1446/4000 (36%)
Test set:local_Trigger1Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 832/4000 (21%)
Test set:local_Trigger3Poison Accuracy: 24/4000 (1%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3904/4000 (98%)
Done in 13.25253438949585 sec.
select client [416, 325, 978, 406, 924, 134, 507, 847, 394]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007427959004417062
l2 norm of benign user after server clipping 0.007427959004417062
Poison Train Epoch: 0 	Loss: 0.034670
Poison Train Epoch: 1 	Loss: 0.023931
Poison Train Epoch: 2 	Loss: 0.035079
Poison Train Epoch: 3 	Loss: 0.020828
Poison Train Epoch: 4 	Loss: 0.019089
Poison Train Epoch: 5 	Loss: 0.013667
Poison Train Epoch: 6 	Loss: 0.041025
Poison Train Epoch: 7 	Loss: 0.026580
Poison Train Epoch: 8 	Loss: 0.012798
Poison Train Epoch: 9 	Loss: 0.120669
Poison Train Epoch: 10 	Loss: 0.014188
Poison Train Epoch: 11 	Loss: 0.028335
Poison Train Epoch: 12 	Loss: 0.001890
Poison Train Epoch: 13 	Loss: 0.008507
Poison Train Epoch: 14 	Loss: 0.017540
Poison Train Epoch: 15 	Loss: 0.006009
Poison Train Epoch: 16 	Loss: 0.011798
Poison Train Epoch: 17 	Loss: 0.023728
Poison Train Epoch: 18 	Loss: 0.080075
Poison Train Epoch: 19 	Loss: 0.008920
Test set:local_Trigger3_localPoison Accuracy: 3989/4000 (100%)
___Test : epoch: 2045: Average loss: 0.0319, Accuracy: 39701/40000.0 (99.2525%)
benign test loss (after fedavg) 0.03188942892104387
benign test acc (after fedavg) 99.2525
Test set:local_Trigger0Poison Accuracy: 2342/4000 (59%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1622/4000 (41%)
Test set:local_Trigger3Poison Accuracy: 58/4000 (1%)
Test set:Main Accuracy: 39701/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3931/4000 (98%)
Done in 26.920948028564453 sec.
select client [782, 224, 928, 881, 86, 13, 665, 201, 408, 575]
l2 norm of benign user before server clipping 0.01019111811183393
l2 norm of benign user after server clipping 0.01019111811183393
___Test : epoch: 2046: Average loss: 0.0338, Accuracy: 39684/40000.0 (99.2100%)
benign test loss (after fedavg) 0.03378355612158775
benign test acc (after fedavg) 99.21
Test set:local_Trigger0Poison Accuracy: 2985/4000 (75%)
Test set:local_Trigger1Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 2366/4000 (59%)
Test set:local_Trigger3Poison Accuracy: 93/4000 (2%)
Test set:Main Accuracy: 39684/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3970/4000 (99%)
Done in 13.286527633666992 sec.
select client [592, 711, 910, 902, 449, 926, 735, 123, 124, 848]
l2 norm of benign user before server clipping 0.007919849385507405
l2 norm of benign user after server clipping 0.007919849385507405
___Test : epoch: 2047: Average loss: 0.0316, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.031620875395089384
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 2582/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1774/4000 (44%)
Test set:local_Trigger3Poison Accuracy: 67/4000 (2%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3950/4000 (99%)
Done in 13.22798490524292 sec.
select client [185, 265, 109, 332, 14, 493, 171, 441, 683, 345]
l2 norm of benign user before server clipping 0.0077336189104244115
l2 norm of benign user after server clipping 0.0077336189104244115
___Test : epoch: 2048: Average loss: 0.0302, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.030179950245469808
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 2231/4000 (56%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1302/4000 (33%)
Test set:local_Trigger3Poison Accuracy: 47/4000 (1%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3946/4000 (99%)
Done in 13.44668960571289 sec.
select client [468, 16, 101, 331, 50, 666, 242, 937, 968, 226]
l2 norm of benign user before server clipping 0.006544486642815173
l2 norm of benign user after server clipping 0.006544486642815173
___Test : epoch: 2049: Average loss: 0.0317, Accuracy: 39699/40000.0 (99.2475%)
benign test loss (after fedavg) 0.031677408193051815
benign test acc (after fedavg) 99.2475
Test set:local_Trigger0Poison Accuracy: 2377/4000 (59%)
Test set:local_Trigger1Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1467/4000 (37%)
Test set:local_Trigger3Poison Accuracy: 57/4000 (1%)
Test set:Main Accuracy: 39699/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3941/4000 (99%)
Done in 13.190787315368652 sec.
select client [832, 541, 820, 644, 122, 151, 942, 390, 742]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007874932101306817
l2 norm of benign user after server clipping 0.007874932101306817
Poison Train Epoch: 0 	Loss: 0.027408
Poison Train Epoch: 1 	Loss: 0.028531
Poison Train Epoch: 2 	Loss: 0.011293
Poison Train Epoch: 3 	Loss: 0.016286
Poison Train Epoch: 4 	Loss: 0.009773
Poison Train Epoch: 5 	Loss: 0.017877
Poison Train Epoch: 6 	Loss: 0.062841
Poison Train Epoch: 7 	Loss: 0.033627
Poison Train Epoch: 8 	Loss: 0.045466
Poison Train Epoch: 9 	Loss: 0.044986
Poison Train Epoch: 10 	Loss: 0.010517
Poison Train Epoch: 11 	Loss: 0.018361
Poison Train Epoch: 12 	Loss: 0.012442
Poison Train Epoch: 13 	Loss: 0.012891
Poison Train Epoch: 14 	Loss: 0.043337
Poison Train Epoch: 15 	Loss: 0.020319
Poison Train Epoch: 16 	Loss: 0.169901
Poison Train Epoch: 17 	Loss: 0.012042
Poison Train Epoch: 18 	Loss: 0.015026
Poison Train Epoch: 19 	Loss: 0.035422
Test set:local_Trigger0_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 2050: Average loss: 0.0328, Accuracy: 39686/40000.0 (99.2150%)
benign test loss (after fedavg) 0.03280257006436586
benign test acc (after fedavg) 99.215
Test set:local_Trigger0Poison Accuracy: 3259/4000 (81%)
Test set:local_Trigger1Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 2114/4000 (53%)
Test set:local_Trigger3Poison Accuracy: 77/4000 (2%)
Test set:Main Accuracy: 39686/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3975/4000 (99%)
Done in 25.56852102279663 sec.
select client [499, 74, 263, 249, 390, 886, 101, 477, 226, 769]
l2 norm of benign user before server clipping 0.007938987400848418
l2 norm of benign user after server clipping 0.007938987400848418
___Test : epoch: 2051: Average loss: 0.0320, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.03195984914302826
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 3356/4000 (84%)
Test set:local_Trigger1Poison Accuracy: 31/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 2144/4000 (54%)
Test set:local_Trigger3Poison Accuracy: 77/4000 (2%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3975/4000 (99%)
Done in 13.334245204925537 sec.
select client [317, 619, 812, 873, 36, 697, 585, 385, 999, 524]
l2 norm of benign user before server clipping 0.008705936861224473
l2 norm of benign user after server clipping 0.008705936861224473
___Test : epoch: 2052: Average loss: 0.0317, Accuracy: 39687/40000.0 (99.2175%)
benign test loss (after fedavg) 0.03171071961075068
benign test acc (after fedavg) 99.2175
Test set:local_Trigger0Poison Accuracy: 2510/4000 (63%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1079/4000 (27%)
Test set:local_Trigger3Poison Accuracy: 41/4000 (1%)
Test set:Main Accuracy: 39687/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3935/4000 (98%)
Done in 13.69956374168396 sec.
select client [33, 618, 729, 502, 403, 350, 660, 833, 83, 646]
l2 norm of benign user before server clipping 0.007271401397883892
l2 norm of benign user after server clipping 0.007271401397883892
___Test : epoch: 2053: Average loss: 0.0301, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.0300719473592937
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 2132/4000 (53%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 755/4000 (19%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3932/4000 (98%)
Done in 13.06764030456543 sec.
select client [696, 631, 136, 878, 35, 839, 963, 584, 671, 433]
l2 norm of benign user before server clipping 0.010309927049092948
l2 norm of benign user after server clipping 0.010309927049092948
___Test : epoch: 2054: Average loss: 0.0322, Accuracy: 39682/40000.0 (99.2050%)
benign test loss (after fedavg) 0.03224775484278798
benign test acc (after fedavg) 99.205
Test set:local_Trigger0Poison Accuracy: 2592/4000 (65%)
Test set:local_Trigger1Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1201/4000 (30%)
Test set:local_Trigger3Poison Accuracy: 46/4000 (1%)
Test set:Main Accuracy: 39682/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3940/4000 (98%)
Done in 13.329622268676758 sec.
select client [685, 83, 127, 786, 712, 143, 239, 547, 313, 729]
l2 norm of benign user before server clipping 0.005810206010937691
l2 norm of benign user after server clipping 0.005810206010937691
___Test : epoch: 2055: Average loss: 0.0289, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.02889571050927043
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 1314/4000 (33%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 360/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3920/4000 (98%)
Done in 13.10901927947998 sec.
select client [780, 75, 664, 280, 692, 770, 583, 630, 799, 485]
l2 norm of benign user before server clipping 0.009476934373378754
l2 norm of benign user after server clipping 0.009476934373378754
___Test : epoch: 2056: Average loss: 0.0286, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.028638295711576937
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 1755/4000 (44%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 563/4000 (14%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3949/4000 (99%)
Done in 13.571173429489136 sec.
select client [719, 305, 42, 201, 99, 422, 474, 793, 728, 471]
l2 norm of benign user before server clipping 0.005186315160244703
l2 norm of benign user after server clipping 0.005186315160244703
___Test : epoch: 2057: Average loss: 0.0294, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.02943424442782998
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 1910/4000 (48%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 600/4000 (15%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3958/4000 (99%)
Done in 13.148736238479614 sec.
select client [294, 587, 905, 781, 836, 734, 866, 251, 175, 860]
l2 norm of benign user before server clipping 0.00717253282200545
l2 norm of benign user after server clipping 0.00717253282200545
___Test : epoch: 2058: Average loss: 0.0289, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.028889217281341553
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 1407/4000 (35%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 473/4000 (12%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3919/4000 (98%)
Done in 13.165897369384766 sec.
select client [901, 816, 924, 871, 422, 710, 191, 114, 604, 172]
l2 norm of benign user before server clipping 0.004135507298633457
l2 norm of benign user after server clipping 0.004135507298633457
___Test : epoch: 2059: Average loss: 0.0287, Accuracy: 39691/40000.0 (99.2275%)
benign test loss (after fedavg) 0.02865912653580308
benign test acc (after fedavg) 99.2275
Test set:local_Trigger0Poison Accuracy: 854/4000 (21%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 234/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39691/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3872/4000 (97%)
Done in 12.896659851074219 sec.
select client [357, 819, 94, 756, 190, 844, 954, 596, 682, 561]
l2 norm of benign user before server clipping 0.007566012069582939
l2 norm of benign user after server clipping 0.007566012069582939
___Test : epoch: 2060: Average loss: 0.0287, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.028733195455372333
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 1942/4000 (49%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 634/4000 (16%)
Test set:local_Trigger3Poison Accuracy: 23/4000 (1%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3946/4000 (99%)
Done in 13.26304292678833 sec.
select client [645, 443, 691, 518, 840, 937, 221, 49, 613, 361]
l2 norm of benign user before server clipping 0.005662620638031512
l2 norm of benign user after server clipping 0.005662620638031512
___Test : epoch: 2061: Average loss: 0.0292, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.029200586241483688
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 1438/4000 (36%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 454/4000 (11%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3923/4000 (98%)
Done in 13.262075901031494 sec.
select client [69, 958, 531, 458, 687, 700, 360, 107, 797, 762]
l2 norm of benign user before server clipping 0.009398911776952446
l2 norm of benign user after server clipping 0.009398911776952446
___Test : epoch: 2062: Average loss: 0.0278, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.027838640995323658
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 1170/4000 (29%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 358/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3920/4000 (98%)
Done in 13.377872705459595 sec.
select client [439, 610, 426, 854, 473, 618, 193, 310, 889, 184]
l2 norm of benign user before server clipping 0.006812778767198324
l2 norm of benign user after server clipping 0.006812778767198324
___Test : epoch: 2063: Average loss: 0.0276, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.02761703266724944
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 854/4000 (21%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 292/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3900/4000 (98%)
Done in 13.234902620315552 sec.
select client [798, 687, 697, 95, 608, 936, 578, 472, 164, 338]
l2 norm of benign user before server clipping 0.01001733609009534
l2 norm of benign user after server clipping 0.01001733609009534
___Test : epoch: 2064: Average loss: 0.0273, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.027293775787204506
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 1291/4000 (32%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 379/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3913/4000 (98%)
Done in 13.129865884780884 sec.
select client [340, 756, 514, 659, 958, 130, 480, 603, 488, 680]
l2 norm of benign user before server clipping 0.005763681326061487
l2 norm of benign user after server clipping 0.005763681326061487
___Test : epoch: 2065: Average loss: 0.0279, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.02791213668137789
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 1888/4000 (47%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 597/4000 (15%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3955/4000 (99%)
Done in 13.23249626159668 sec.
select client [97, 68, 963, 971, 370, 47, 765, 656, 935, 131]
l2 norm of benign user before server clipping 0.006586157262790948
l2 norm of benign user after server clipping 0.006586157262790948
___Test : epoch: 2066: Average loss: 0.0282, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.02820069231465459
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 882/4000 (22%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 272/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3910/4000 (98%)
Done in 13.279303073883057 sec.
select client [984, 51, 699, 885, 178, 280, 219, 903, 369, 154]
l2 norm of benign user before server clipping 0.007412229711189866
l2 norm of benign user after server clipping 0.007412229711189866
___Test : epoch: 2067: Average loss: 0.0284, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.028419422113150357
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 427/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 146/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3785/4000 (95%)
Done in 13.555016040802002 sec.
select client [108, 724, 278, 501, 946, 654, 825, 371, 954, 220]
l2 norm of benign user before server clipping 0.005025333724915981
l2 norm of benign user after server clipping 0.005025333724915981
___Test : epoch: 2068: Average loss: 0.0285, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.028535946372151375
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 1167/4000 (29%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 313/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3924/4000 (98%)
Done in 13.365981817245483 sec.
select client [738, 131, 487, 157, 649, 671, 557, 642, 304, 443]
l2 norm of benign user before server clipping 0.0065184107283130285
l2 norm of benign user after server clipping 0.0065184107283130285
___Test : epoch: 2069: Average loss: 0.0280, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.027973901487141847
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 1344/4000 (34%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 373/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3913/4000 (98%)
Done in 13.346667766571045 sec.
select client [404, 827, 811, 932, 408, 65, 120, 316, 617, 855]
l2 norm of benign user before server clipping 0.00832519520772621
l2 norm of benign user after server clipping 0.00832519520772621
___Test : epoch: 2070: Average loss: 0.0268, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026838662575185298
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 1124/4000 (28%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 357/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3925/4000 (98%)
Done in 13.264283895492554 sec.
select client [983, 695, 402, 419, 858, 991, 867, 220, 936, 918]
l2 norm of benign user before server clipping 0.00454355418914929
l2 norm of benign user after server clipping 0.00454355418914929
___Test : epoch: 2071: Average loss: 0.0276, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.02763033627346158
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 367/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 109/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3752/4000 (94%)
Done in 12.93432092666626 sec.
select client [859, 487, 303, 483, 586, 840, 817, 739, 225, 999]
l2 norm of benign user before server clipping 0.0063591313548386095
l2 norm of benign user after server clipping 0.0063591313548386095
___Test : epoch: 2072: Average loss: 0.0273, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.027310572718083858
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 809/4000 (20%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 261/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3888/4000 (97%)
Done in 13.302859783172607 sec.
select client [679, 77, 716, 129, 410, 982, 935, 246, 771, 662]
l2 norm of benign user before server clipping 0.005618622153997421
l2 norm of benign user after server clipping 0.005618622153997421
___Test : epoch: 2073: Average loss: 0.0278, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.027782806025445462
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 1094/4000 (27%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 373/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3917/4000 (98%)
Done in 13.224194049835205 sec.
select client [620, 19, 389, 306, 54, 79, 993, 425, 155, 727]
l2 norm of benign user before server clipping 0.007282640272751451
l2 norm of benign user after server clipping 0.007282640272751451
___Test : epoch: 2074: Average loss: 0.0270, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.02698058648481965
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 553/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 177/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3827/4000 (96%)
Done in 13.449167251586914 sec.
select client [794, 995, 637, 858, 360, 137, 415, 430, 944, 73]
l2 norm of benign user before server clipping 0.007701490889303386
l2 norm of benign user after server clipping 0.007701490889303386
___Test : epoch: 2075: Average loss: 0.0281, Accuracy: 39702/40000.0 (99.2550%)
benign test loss (after fedavg) 0.028071982494741677
benign test acc (after fedavg) 99.25500000000001
Test set:local_Trigger0Poison Accuracy: 387/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 151/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39702/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3800/4000 (95%)
Done in 13.211866617202759 sec.
select client [914, 487, 154, 994, 649, 996, 819, 103, 570, 602]
l2 norm of benign user before server clipping 0.006377344019711018
l2 norm of benign user after server clipping 0.006377344019711018
___Test : epoch: 2076: Average loss: 0.0274, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.027409983014315367
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 766/4000 (19%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 243/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3887/4000 (97%)
Done in 13.35425877571106 sec.
select client [624, 566, 370, 832, 295, 436, 442, 366, 359, 97]
l2 norm of benign user before server clipping 0.004641892341896892
l2 norm of benign user after server clipping 0.004641892341896892
___Test : epoch: 2077: Average loss: 0.0267, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.0266919571056962
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 577/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 179/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3844/4000 (96%)
Done in 13.313172817230225 sec.
select client [780, 615, 434, 730, 873, 477, 647, 363, 130, 894]
l2 norm of benign user before server clipping 0.005395993846468628
l2 norm of benign user after server clipping 0.005395993846468628
___Test : epoch: 2078: Average loss: 0.0273, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.027296122258901597
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 1283/4000 (32%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 395/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3930/4000 (98%)
Done in 13.227577686309814 sec.
select client [734, 153, 957, 793, 974, 446, 846, 389, 32, 529]
l2 norm of benign user before server clipping 0.005813066544942558
l2 norm of benign user after server clipping 0.005813066544942558
___Test : epoch: 2079: Average loss: 0.0261, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.026128996411338447
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 612/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 210/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3852/4000 (96%)
Done in 13.062544345855713 sec.
select client [636, 973, 589, 981, 721, 418, 500, 65, 846, 151]
l2 norm of benign user before server clipping 0.005651974101783708
l2 norm of benign user after server clipping 0.005651974101783708
___Test : epoch: 2080: Average loss: 0.0273, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.02727942293211818
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 771/4000 (19%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 255/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3880/4000 (97%)
Done in 13.09631609916687 sec.
select client [474, 886, 528, 777, 140, 736, 400, 857, 104, 919]
l2 norm of benign user before server clipping 0.007963847904466092
l2 norm of benign user after server clipping 0.007963847904466092
___Test : epoch: 2081: Average loss: 0.0291, Accuracy: 39685/40000.0 (99.2125%)
benign test loss (after fedavg) 0.029073262450098992
benign test acc (after fedavg) 99.2125
Test set:local_Trigger0Poison Accuracy: 1063/4000 (27%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 335/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39685/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3935/4000 (98%)
Done in 13.257760524749756 sec.
select client [761, 913, 987, 863, 175, 23, 872, 607, 391, 56]
l2 norm of benign user before server clipping 0.007492119539529085
l2 norm of benign user after server clipping 0.007492119539529085
___Test : epoch: 2082: Average loss: 0.0264, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.02636772727370262
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 948/4000 (24%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 307/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3922/4000 (98%)
Done in 13.190789937973022 sec.
select client [726, 561, 424, 122, 454, 698, 883, 798, 396, 179]
l2 norm of benign user before server clipping 0.008140047220513225
l2 norm of benign user after server clipping 0.008140047220513225
___Test : epoch: 2083: Average loss: 0.0272, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.027245891162753104
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 799/4000 (20%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 276/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3895/4000 (97%)
Done in 13.272881746292114 sec.
select client [754, 89, 48, 717, 13, 324, 398, 326, 676, 264]
l2 norm of benign user before server clipping 0.007178777176886797
l2 norm of benign user after server clipping 0.007178777176886797
___Test : epoch: 2084: Average loss: 0.0287, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.02866637326106429
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 935/4000 (23%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 279/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3883/4000 (97%)
Done in 13.283020496368408 sec.
select client [489, 852, 342, 647, 529, 579, 205, 536, 816, 935]
l2 norm of benign user before server clipping 0.006727445940487087
l2 norm of benign user after server clipping 0.006727445940487087
___Test : epoch: 2085: Average loss: 0.0279, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.027877523358166217
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 907/4000 (23%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 284/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3894/4000 (97%)
Done in 13.40766978263855 sec.
select client [129, 196, 149, 468, 949, 530, 121, 941, 502, 344]
l2 norm of benign user before server clipping 0.005864305573049932
l2 norm of benign user after server clipping 0.005864305573049932
___Test : epoch: 2086: Average loss: 0.0272, Accuracy: 39719/40000.0 (99.2975%)
benign test loss (after fedavg) 0.027165983165055512
benign test acc (after fedavg) 99.2975
Test set:local_Trigger0Poison Accuracy: 522/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 171/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39719/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3819/4000 (95%)
Done in 13.242941617965698 sec.
select client [59, 107, 652, 35, 240, 492, 68, 929, 413, 274]
l2 norm of benign user before server clipping 0.005945292999967933
l2 norm of benign user after server clipping 0.005945292999967933
___Test : epoch: 2087: Average loss: 0.0271, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.02709654854312539
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 259/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 84/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3561/4000 (89%)
Done in 13.244120359420776 sec.
select client [585, 534, 722, 469, 81, 783, 927, 488, 68, 754]
l2 norm of benign user before server clipping 0.004318828356917948
l2 norm of benign user after server clipping 0.004318828356917948
___Test : epoch: 2088: Average loss: 0.0267, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.02669746883958578
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 432/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 170/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3810/4000 (95%)
Done in 13.080432176589966 sec.
select client [68, 207, 955, 590, 654, 922, 219, 20, 591, 834]
l2 norm of benign user before server clipping 0.005465950886718929
l2 norm of benign user after server clipping 0.005465950886718929
___Test : epoch: 2089: Average loss: 0.0266, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026621143186092378
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 308/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 115/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3687/4000 (92%)
Done in 13.216223955154419 sec.
select client [38, 695, 840, 626, 133, 627, 21, 941, 939, 344]
l2 norm of benign user before server clipping 0.0047222528839483855
l2 norm of benign user after server clipping 0.0047222528839483855
___Test : epoch: 2090: Average loss: 0.0262, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.026200313304364682
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 317/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 115/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3693/4000 (92%)
Done in 13.111173391342163 sec.
select client [34, 920, 526, 658, 553, 185, 104, 219, 532, 842]
l2 norm of benign user before server clipping 0.007397306314669549
l2 norm of benign user after server clipping 0.007397306314669549
___Test : epoch: 2091: Average loss: 0.0275, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.027549725245684387
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 453/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 149/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3770/4000 (94%)
Done in 13.208564758300781 sec.
select client [333, 869, 467, 12, 528, 421, 751, 505, 299, 792]
l2 norm of benign user before server clipping 0.008080933371093123
l2 norm of benign user after server clipping 0.008080933371093123
___Test : epoch: 2092: Average loss: 0.0263, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02631273787021637
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 523/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3832/4000 (96%)
Done in 13.269919872283936 sec.
select client [497, 201, 955, 678, 877, 411, 970, 496, 923, 863]
l2 norm of benign user before server clipping 0.006512374198064208
l2 norm of benign user after server clipping 0.006512374198064208
___Test : epoch: 2093: Average loss: 0.0268, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026825007425248622
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 869/4000 (22%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 295/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3912/4000 (98%)
Done in 13.191141605377197 sec.
select client [146, 196, 817, 820, 823, 700, 494, 114, 576, 246]
l2 norm of benign user before server clipping 0.005870306305587292
l2 norm of benign user after server clipping 0.005870306305587292
___Test : epoch: 2094: Average loss: 0.0263, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026284579663723707
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 535/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3851/4000 (96%)
Done in 13.195398092269897 sec.
select client [670, 413, 405, 431, 706, 507, 314, 337, 419, 443]
l2 norm of benign user before server clipping 0.005042053305078298
l2 norm of benign user after server clipping 0.005042053305078298
___Test : epoch: 2095: Average loss: 0.0267, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.026708828846365214
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 496/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 166/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3821/4000 (96%)
Done in 13.110124349594116 sec.
select client [802, 188, 607, 601, 526, 584, 550, 241, 555, 903]
l2 norm of benign user before server clipping 0.006527667632326484
l2 norm of benign user after server clipping 0.006527667632326484
___Test : epoch: 2096: Average loss: 0.0272, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.027151377007365227
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 539/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3835/4000 (96%)
Done in 13.155940294265747 sec.
select client [582, 200, 429, 32, 138, 570, 235, 260, 113, 180]
l2 norm of benign user before server clipping 0.004866651666816324
l2 norm of benign user after server clipping 0.004866651666816324
___Test : epoch: 2097: Average loss: 0.0266, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.02661267349421978
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 335/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 112/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3723/4000 (93%)
Done in 13.031411170959473 sec.
select client [456, 134, 788, 335, 881, 983, 519, 925, 969, 243]
l2 norm of benign user before server clipping 0.00648780232295394
l2 norm of benign user after server clipping 0.00648780232295394
___Test : epoch: 2098: Average loss: 0.0274, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.02737748675048351
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 758/4000 (19%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 289/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3879/4000 (97%)
Done in 13.261718273162842 sec.
select client [660, 320, 231, 774, 867, 291, 267, 809, 310, 77]
l2 norm of benign user before server clipping 0.007350870408117771
l2 norm of benign user after server clipping 0.007350870408117771
___Test : epoch: 2099: Average loss: 0.0263, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02631928861103952
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 360/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 120/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3705/4000 (93%)
Done in 13.37735891342163 sec.
select client [594, 778, 29, 947, 666, 142, 535, 541, 650, 730]
l2 norm of benign user before server clipping 0.007820855104364454
l2 norm of benign user after server clipping 0.007820855104364454
___Test : epoch: 2100: Average loss: 0.0265, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.026458032248169183
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 547/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 206/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3812/4000 (95%)
Done in 13.38676643371582 sec.
select client [583, 55, 560, 419, 314, 164, 496, 15, 185, 646]
l2 norm of benign user before server clipping 0.005784168350510299
l2 norm of benign user after server clipping 0.005784168350510299
___Test : epoch: 2101: Average loss: 0.0284, Accuracy: 39701/40000.0 (99.2525%)
benign test loss (after fedavg) 0.028350305193662644
benign test acc (after fedavg) 99.2525
Test set:local_Trigger0Poison Accuracy: 633/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 240/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39701/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3864/4000 (97%)
Done in 13.28058123588562 sec.
select client [445, 672, 477, 207, 222, 290, 401, 794, 892, 945]
l2 norm of benign user before server clipping 0.005366887780837715
l2 norm of benign user after server clipping 0.005366887780837715
___Test : epoch: 2102: Average loss: 0.0268, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.026782746720314027
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 494/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 180/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3788/4000 (95%)
Done in 13.121301174163818 sec.
select client [859, 97, 168, 451, 722, 467, 382, 195, 429, 833]
l2 norm of benign user before server clipping 0.006799912103451789
l2 norm of benign user after server clipping 0.006799912103451789
___Test : epoch: 2103: Average loss: 0.0277, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.02768406505435705
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 300/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 119/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3684/4000 (92%)
Done in 13.28627347946167 sec.
select client [464, 782, 222, 849, 936, 615, 243, 284, 411, 335]
l2 norm of benign user before server clipping 0.005365267768502236
l2 norm of benign user after server clipping 0.005365267768502236
___Test : epoch: 2104: Average loss: 0.0263, Accuracy: 39741/40000.0 (99.3525%)
benign test loss (after fedavg) 0.026268741122633218
benign test acc (after fedavg) 99.35249999999999
Test set:local_Trigger0Poison Accuracy: 788/4000 (20%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 237/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39741/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3873/4000 (97%)
Done in 13.030669689178467 sec.
select client [857, 878, 807, 457, 671, 899, 858, 869, 513, 214]
l2 norm of benign user before server clipping 0.006241827050689608
l2 norm of benign user after server clipping 0.006241827050689608
___Test : epoch: 2105: Average loss: 0.0275, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.02751224123388529
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 1172/4000 (29%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 386/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3936/4000 (98%)
Done in 13.08397364616394 sec.
select client [507, 955, 445, 212, 345, 855, 932, 222, 205, 54]
l2 norm of benign user before server clipping 0.007478095241822302
l2 norm of benign user after server clipping 0.007478095241822302
___Test : epoch: 2106: Average loss: 0.0262, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.026247559721022846
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 385/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 132/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3706/4000 (93%)
Done in 13.173398494720459 sec.
select client [272, 792, 70, 80, 461, 916, 54, 976, 614, 580]
l2 norm of benign user before server clipping 0.00739397011930123
l2 norm of benign user after server clipping 0.00739397011930123
___Test : epoch: 2107: Average loss: 0.0261, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02605966700166464
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 193/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 65/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3428/4000 (86%)
Done in 13.135459661483765 sec.
select client [11, 188, 641, 762, 693, 501, 732, 627, 909, 474]
l2 norm of benign user before server clipping 0.0052547129336744545
l2 norm of benign user after server clipping 0.0052547129336744545
___Test : epoch: 2108: Average loss: 0.0255, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.02551135678291321
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 525/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 202/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3836/4000 (96%)
Done in 13.025745630264282 sec.
select client [68, 427, 754, 984, 537, 228, 626, 546, 410, 362]
l2 norm of benign user before server clipping 0.004376873443834484
l2 norm of benign user after server clipping 0.004376873443834484
___Test : epoch: 2109: Average loss: 0.0261, Accuracy: 39739/40000.0 (99.3475%)
benign test loss (after fedavg) 0.026063048896193503
benign test acc (after fedavg) 99.3475
Test set:local_Trigger0Poison Accuracy: 286/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 113/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39739/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3630/4000 (91%)
Done in 12.963910341262817 sec.
select client [475, 109, 867, 638, 157, 960, 338, 935, 652, 492]
l2 norm of benign user before server clipping 0.006801384937716648
l2 norm of benign user after server clipping 0.006801384937716648
___Test : epoch: 2110: Average loss: 0.0258, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.0258130550570786
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 375/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 139/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3723/4000 (93%)
Done in 13.254562377929688 sec.
select client [971, 881, 932, 610, 39, 80, 205, 43, 663, 30]
l2 norm of benign user before server clipping 0.006104162684641779
l2 norm of benign user after server clipping 0.006104162684641779
___Test : epoch: 2111: Average loss: 0.0254, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025418090464174748
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 293/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 112/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3656/4000 (91%)
Done in 13.119283437728882 sec.
select client [723, 377, 682, 357, 80, 286, 940, 663, 696, 946]
l2 norm of benign user before server clipping 0.004017113521695137
l2 norm of benign user after server clipping 0.004017113521695137
___Test : epoch: 2112: Average loss: 0.0259, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.02585539962090552
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 505/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 187/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3839/4000 (96%)
Done in 13.554327249526978 sec.
select client [334, 709, 829, 767, 304, 804, 506, 928, 95, 17]
l2 norm of benign user before server clipping 0.0076248126570135355
l2 norm of benign user after server clipping 0.0076248126570135355
___Test : epoch: 2113: Average loss: 0.0267, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02666580828949809
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 719/4000 (18%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 262/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3874/4000 (97%)
Done in 13.370850563049316 sec.
select client [916, 799, 528, 356, 208, 966, 368, 995, 613, 682]
l2 norm of benign user before server clipping 0.006859450601041317
l2 norm of benign user after server clipping 0.006859450601041317
___Test : epoch: 2114: Average loss: 0.0253, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.025349223701283334
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 307/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 115/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3670/4000 (92%)
Done in 13.110890865325928 sec.
select client [746, 122, 642, 527, 734, 245, 101, 762, 74, 722]
l2 norm of benign user before server clipping 0.006024635559879243
l2 norm of benign user after server clipping 0.006024635559879243
___Test : epoch: 2115: Average loss: 0.0262, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.026229884166270496
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 422/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 155/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3806/4000 (95%)
Done in 13.132752895355225 sec.
select client [595, 991, 311, 805, 975, 269, 771, 745, 674, 974]
l2 norm of benign user before server clipping 0.007952370960265399
l2 norm of benign user after server clipping 0.007952370960265399
___Test : epoch: 2116: Average loss: 0.0266, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026588015361130236
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 360/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 123/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3694/4000 (92%)
Done in 13.190444469451904 sec.
select client [151, 627, 656, 577, 178, 738, 750, 957, 135, 677]
l2 norm of benign user before server clipping 0.006410621776012704
l2 norm of benign user after server clipping 0.006410621776012704
___Test : epoch: 2117: Average loss: 0.0271, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.027051143754273654
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 479/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 176/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3790/4000 (95%)
Done in 13.381777048110962 sec.
select client [583, 298, 970, 978, 567, 893, 97, 846, 260, 387]
l2 norm of benign user before server clipping 0.005092217761557549
l2 norm of benign user after server clipping 0.005092217761557549
___Test : epoch: 2118: Average loss: 0.0264, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.026435764767229558
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 419/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 129/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3728/4000 (93%)
Done in 13.144858121871948 sec.
select client [162, 578, 922, 184, 504, 427, 99, 567, 353, 903]
l2 norm of benign user before server clipping 0.005102036474272609
l2 norm of benign user after server clipping 0.005102036474272609
___Test : epoch: 2119: Average loss: 0.0260, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025973344504833223
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 429/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 158/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3759/4000 (94%)
Done in 13.271720170974731 sec.
select client [260, 794, 625, 491, 133, 288, 585, 672, 178, 594]
l2 norm of benign user before server clipping 0.0049748985446058215
l2 norm of benign user after server clipping 0.0049748985446058215
___Test : epoch: 2120: Average loss: 0.0260, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025996901717036964
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 387/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 149/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3756/4000 (94%)
Done in 13.323498487472534 sec.
select client [873, 790, 38, 964, 951, 805, 433, 167, 15, 480]
l2 norm of benign user before server clipping 0.0067102151922881605
l2 norm of benign user after server clipping 0.0067102151922881605
___Test : epoch: 2121: Average loss: 0.0258, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.025805163498222827
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 398/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 150/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3771/4000 (94%)
Done in 13.372232675552368 sec.
select client [869, 771, 379, 704, 783, 241, 308, 803, 972, 355]
l2 norm of benign user before server clipping 0.00643152161501348
l2 norm of benign user after server clipping 0.00643152161501348
___Test : epoch: 2122: Average loss: 0.0262, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026214777017012237
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 565/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 196/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3844/4000 (96%)
Done in 13.245442390441895 sec.
select client [836, 912, 865, 19, 72, 251, 138, 209, 147, 267]
l2 norm of benign user before server clipping 0.005359321844298393
l2 norm of benign user after server clipping 0.005359321844298393
___Test : epoch: 2123: Average loss: 0.0273, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.02734016966149211
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 431/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 168/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3798/4000 (95%)
Done in 13.165570735931396 sec.
select client [60, 469, 285, 611, 672, 600, 811, 920, 529, 780]
l2 norm of benign user before server clipping 0.006787572544999421
l2 norm of benign user after server clipping 0.006787572544999421
___Test : epoch: 2124: Average loss: 0.0269, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026924425680190326
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 340/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 115/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3616/4000 (90%)
Done in 13.433964490890503 sec.
select client [360, 119, 904, 32, 819, 491, 739, 662, 929, 928]
l2 norm of benign user before server clipping 0.0066909560235217215
l2 norm of benign user after server clipping 0.0066909560235217215
___Test : epoch: 2125: Average loss: 0.0258, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.02580147551894188
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 409/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 168/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3772/4000 (94%)
Done in 13.274004697799683 sec.
select client [458, 542, 616, 97, 25, 621, 402, 79, 578, 178]
l2 norm of benign user before server clipping 0.006521289923693985
l2 norm of benign user after server clipping 0.006521289923693985
___Test : epoch: 2126: Average loss: 0.0258, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.02578744024708867
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 492/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 182/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3813/4000 (95%)
Done in 13.139036417007446 sec.
select client [287, 275, 222, 173, 659, 82, 541, 756, 470, 911]
l2 norm of benign user before server clipping 0.005229128024075181
l2 norm of benign user after server clipping 0.005229128024075181
___Test : epoch: 2127: Average loss: 0.0262, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02619805267304182
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 334/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 126/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3665/4000 (92%)
Done in 13.096219062805176 sec.
select client [984, 568, 399, 570, 237, 392, 732, 683, 354, 503]
l2 norm of benign user before server clipping 0.007602457562461496
l2 norm of benign user after server clipping 0.007602457562461496
___Test : epoch: 2128: Average loss: 0.0268, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.02675495539009571
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 408/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 143/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3757/4000 (94%)
Done in 13.186187028884888 sec.
select client [23, 64, 370, 488, 489, 761, 479, 538, 409, 922]
l2 norm of benign user before server clipping 0.005219672503881156
l2 norm of benign user after server clipping 0.005219672503881156
___Test : epoch: 2129: Average loss: 0.0253, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025276006297394633
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 418/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 153/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3782/4000 (95%)
Done in 13.091784238815308 sec.
select client [78, 909, 284, 423, 914, 419, 109, 382, 599, 890]
l2 norm of benign user before server clipping 0.005728982714936137
l2 norm of benign user after server clipping 0.005728982714936137
___Test : epoch: 2130: Average loss: 0.0267, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.02665894686803222
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 135/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 54/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3113/4000 (78%)
Done in 13.02393102645874 sec.
select client [382, 555, 190, 439, 399, 353, 516, 81, 12, 762]
l2 norm of benign user before server clipping 0.006556221330538392
l2 norm of benign user after server clipping 0.006556221330538392
___Test : epoch: 2131: Average loss: 0.0265, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.026508979132026433
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 333/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 141/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3714/4000 (93%)
Done in 13.246824979782104 sec.
select client [605, 597, 962, 85, 843, 583, 943, 993, 397, 958]
l2 norm of benign user before server clipping 0.007535993331111967
l2 norm of benign user after server clipping 0.007535993331111967
___Test : epoch: 2132: Average loss: 0.0259, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.025879532901197672
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 302/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 114/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3586/4000 (90%)
Done in 13.372522354125977 sec.
select client [92, 52, 421, 643, 372, 936, 606, 94, 966, 254]
l2 norm of benign user before server clipping 0.008150770980864763
l2 norm of benign user after server clipping 0.008150770980864763
___Test : epoch: 2133: Average loss: 0.0258, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.02575283157080412
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 348/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 139/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3680/4000 (92%)
Done in 13.412590026855469 sec.
select client [60, 161, 525, 920, 186, 462, 437, 562, 633, 815]
l2 norm of benign user before server clipping 0.007043076027184725
l2 norm of benign user after server clipping 0.007043076027184725
___Test : epoch: 2134: Average loss: 0.0269, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.02694462852627039
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 398/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 165/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3703/4000 (93%)
Done in 13.357426404953003 sec.
select client [641, 325, 194, 898, 439, 897, 894, 362, 387, 865]
l2 norm of benign user before server clipping 0.0050334661500528455
l2 norm of benign user after server clipping 0.0050334661500528455
___Test : epoch: 2135: Average loss: 0.0255, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02545743702054024
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 255/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 92/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3545/4000 (89%)
Done in 13.03451132774353 sec.
select client [551, 431, 179, 239, 105, 369, 964, 604, 206, 639]
l2 norm of benign user before server clipping 0.005264361179433763
l2 norm of benign user after server clipping 0.005264361179433763
___Test : epoch: 2136: Average loss: 0.0258, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025787043761461972
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 213/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 86/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3462/4000 (87%)
Done in 13.221826791763306 sec.
select client [503, 347, 540, 574, 489, 232, 616, 111, 598, 215]
l2 norm of benign user before server clipping 0.006574972590897232
l2 norm of benign user after server clipping 0.006574972590897232
___Test : epoch: 2137: Average loss: 0.0265, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.026473649805784226
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 309/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 129/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3679/4000 (92%)
Done in 13.46150541305542 sec.
select client [536, 357, 269, 424, 74, 196, 511, 908, 793, 151]
l2 norm of benign user before server clipping 0.0044565656193299216
l2 norm of benign user after server clipping 0.0044565656193299216
___Test : epoch: 2138: Average loss: 0.0266, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026596634186059235
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 586/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 238/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3853/4000 (96%)
Done in 12.875366687774658 sec.
select client [933, 270, 29, 715, 61, 437, 223, 438, 55, 763]
l2 norm of benign user before server clipping 0.009020957676693798
l2 norm of benign user after server clipping 0.009020957676693798
___Test : epoch: 2139: Average loss: 0.0259, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025897217716276646
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 262/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 98/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3592/4000 (90%)
Done in 13.418054342269897 sec.
select client [735, 291, 214, 261, 404, 137, 537, 383, 915, 381]
l2 norm of benign user before server clipping 0.007756382599473
l2 norm of benign user after server clipping 0.007756382599473
___Test : epoch: 2140: Average loss: 0.0257, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.025660911723971367
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 233/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3559/4000 (89%)
Done in 13.177849292755127 sec.
select client [405, 316, 338, 637, 736, 514, 859, 878, 427, 153]
l2 norm of benign user before server clipping 0.009692349052056671
l2 norm of benign user after server clipping 0.009692349052056671
___Test : epoch: 2141: Average loss: 0.0255, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.025517578026279807
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 195/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 85/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3453/4000 (86%)
Done in 13.524226188659668 sec.
select client [179, 455, 224, 867, 682, 724, 425, 789, 968, 60]
l2 norm of benign user before server clipping 0.010084911924786865
l2 norm of benign user after server clipping 0.010084911924786865
___Test : epoch: 2142: Average loss: 0.0251, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.02508230705857277
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 234/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 89/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3483/4000 (87%)
Done in 13.147396087646484 sec.
select client [629, 727, 997, 24, 120, 628, 953, 32, 877, 337]
l2 norm of benign user before server clipping 0.00571401787456125
l2 norm of benign user after server clipping 0.00571401787456125
___Test : epoch: 2143: Average loss: 0.0255, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.025497063659504056
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 217/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 81/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3458/4000 (86%)
Done in 13.10486912727356 sec.
select client [318, 528, 425, 346, 112, 208, 998, 95, 758, 987]
l2 norm of benign user before server clipping 0.005518009304068983
l2 norm of benign user after server clipping 0.005518009304068983
___Test : epoch: 2144: Average loss: 0.0257, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.02571583335921168
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 279/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 98/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3549/4000 (89%)
Done in 13.173911809921265 sec.
select client [18, 493, 188, 591, 70, 896, 419, 996, 745, 134]
l2 norm of benign user before server clipping 0.0076997933443635706
l2 norm of benign user after server clipping 0.0076997933443635706
___Test : epoch: 2145: Average loss: 0.0254, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.02538105801306665
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 246/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 96/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3587/4000 (90%)
Done in 13.1225106716156 sec.
select client [973, 884, 248, 470, 684, 284, 313, 672, 189, 829]
l2 norm of benign user before server clipping 0.00786803865339607
l2 norm of benign user after server clipping 0.00786803865339607
___Test : epoch: 2146: Average loss: 0.0261, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.02606244123801589
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 252/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 89/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3411/4000 (85%)
Done in 13.555583715438843 sec.
select client [609, 435, 779, 78, 717, 591, 174, 634, 841, 611]
l2 norm of benign user before server clipping 0.005656337947584689
l2 norm of benign user after server clipping 0.005656337947584689
___Test : epoch: 2147: Average loss: 0.0258, Accuracy: 39720/40000.0 (99.3000%)
benign test loss (after fedavg) 0.02577068964280188
benign test acc (after fedavg) 99.3
Test set:local_Trigger0Poison Accuracy: 311/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 119/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39720/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3674/4000 (92%)
Done in 13.159933090209961 sec.
select client [682, 113, 700, 219, 223, 796, 731, 378, 118, 730]
l2 norm of benign user before server clipping 0.008340541692450642
l2 norm of benign user after server clipping 0.008340541692450642
___Test : epoch: 2148: Average loss: 0.0259, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.025864107824116946
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 182/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 73/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3260/4000 (82%)
Done in 13.218258380889893 sec.
select client [420, 480, 595, 636, 747, 251, 360, 336, 509, 973]
l2 norm of benign user before server clipping 0.0064758352469652895
l2 norm of benign user after server clipping 0.0064758352469652895
___Test : epoch: 2149: Average loss: 0.0265, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.026511320447176696
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 75/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3309/4000 (83%)
Done in 13.331761360168457 sec.
select client [784, 687, 682, 739, 823, 66, 319, 56, 160, 114]
l2 norm of benign user before server clipping 0.006904802459757775
l2 norm of benign user after server clipping 0.006904802459757775
___Test : epoch: 2150: Average loss: 0.0256, Accuracy: 39723/40000.0 (99.3075%)
benign test loss (after fedavg) 0.025624272882938386
benign test acc (after fedavg) 99.3075
Test set:local_Trigger0Poison Accuracy: 338/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 148/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39723/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3743/4000 (94%)
Done in 13.21520733833313 sec.
select client [696, 539, 452, 873, 788, 622, 275, 402, 489, 575]
l2 norm of benign user before server clipping 0.004955838667228818
l2 norm of benign user after server clipping 0.004955838667228818
___Test : epoch: 2151: Average loss: 0.0259, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.025857106835395098
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 281/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3560/4000 (89%)
Done in 13.223178625106812 sec.
select client [603, 947, 385, 254, 855, 218, 644, 74, 743, 147]
l2 norm of benign user before server clipping 0.006550962990149856
l2 norm of benign user after server clipping 0.006550962990149856
___Test : epoch: 2152: Average loss: 0.0262, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02623223636224866
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 572/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 243/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3861/4000 (97%)
Done in 13.106316328048706 sec.
select client [50, 668, 108, 378, 68, 749, 873, 549, 712, 245]
l2 norm of benign user before server clipping 0.006278983922675252
l2 norm of benign user after server clipping 0.006278983922675252
___Test : epoch: 2153: Average loss: 0.0256, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025566029490157963
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 118/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3689/4000 (92%)
Done in 13.181478500366211 sec.
select client [441, 380, 440, 433, 806, 115, 365, 432, 595, 454]
l2 norm of benign user before server clipping 0.008001520624384284
l2 norm of benign user after server clipping 0.008001520624384284
___Test : epoch: 2154: Average loss: 0.0257, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.025732081354781985
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 212/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3432/4000 (86%)
Done in 13.417728185653687 sec.
select client [746, 304, 662, 669, 352, 47, 579, 757, 672, 502]
l2 norm of benign user before server clipping 0.005037202523089946
l2 norm of benign user after server clipping 0.005037202523089946
___Test : epoch: 2155: Average loss: 0.0252, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.025175376591086387
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 193/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3416/4000 (85%)
Done in 13.53341817855835 sec.
select client [149, 773, 315, 934, 191, 839, 964, 361, 736, 293]
l2 norm of benign user before server clipping 0.00572945544263348
l2 norm of benign user after server clipping 0.00572945544263348
___Test : epoch: 2156: Average loss: 0.0267, Accuracy: 39702/40000.0 (99.2550%)
benign test loss (after fedavg) 0.02666073237583041
benign test acc (after fedavg) 99.25500000000001
Test set:local_Trigger0Poison Accuracy: 405/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 171/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39702/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3766/4000 (94%)
Done in 13.400062322616577 sec.
select client [620, 354, 443, 178, 457, 771, 533, 47, 548, 251]
l2 norm of benign user before server clipping 0.008494839794002474
l2 norm of benign user after server clipping 0.008494839794002474
___Test : epoch: 2157: Average loss: 0.0273, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.02729377042502165
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 432/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3718/4000 (93%)
Done in 13.520490646362305 sec.
select client [111, 440, 775, 905, 870, 59, 570, 760, 116, 76]
l2 norm of benign user before server clipping 0.007463975786231458
l2 norm of benign user after server clipping 0.007463975786231458
___Test : epoch: 2158: Average loss: 0.0253, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.025322590593993662
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 168/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 66/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3302/4000 (83%)
Done in 13.24467134475708 sec.
select client [136, 489, 45, 180, 181, 646, 250, 508, 249, 654]
l2 norm of benign user before server clipping 0.00724844119977206
l2 norm of benign user after server clipping 0.00724844119977206
___Test : epoch: 2159: Average loss: 0.0258, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.025777563150972127
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 330/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 145/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3680/4000 (92%)
Done in 13.418447017669678 sec.
select client [851, 685, 166, 181, 241, 41, 598, 594, 437, 199]
l2 norm of benign user before server clipping 0.00493960859021172
l2 norm of benign user after server clipping 0.00493960859021172
___Test : epoch: 2160: Average loss: 0.0258, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.025797724916040897
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 217/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3514/4000 (88%)
Done in 13.144339799880981 sec.
select client [827, 194, 730, 832, 352, 525, 642, 131, 932, 785]
l2 norm of benign user before server clipping 0.009713972033932806
l2 norm of benign user after server clipping 0.009713972033932806
___Test : epoch: 2161: Average loss: 0.0250, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.024981799643859267
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 238/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 95/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3532/4000 (88%)
Done in 13.327087163925171 sec.
select client [548, 251, 59, 571, 570, 728, 484, 444, 471, 616]
l2 norm of benign user before server clipping 0.00748132118023932
l2 norm of benign user after server clipping 0.00748132118023932
___Test : epoch: 2162: Average loss: 0.0258, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025811462768539788
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 205/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 84/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3459/4000 (86%)
Done in 13.496281147003174 sec.
select client [129, 212, 911, 202, 448, 864, 319, 14, 892, 443]
l2 norm of benign user before server clipping 0.0066405994351953265
l2 norm of benign user after server clipping 0.0066405994351953265
___Test : epoch: 2163: Average loss: 0.0271, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.02705694079771638
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 337/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 135/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3633/4000 (91%)
Done in 13.340109825134277 sec.
select client [246, 38, 187, 550, 745, 825, 918, 801, 898, 500]
l2 norm of benign user before server clipping 0.005233155458699912
l2 norm of benign user after server clipping 0.005233155458699912
___Test : epoch: 2164: Average loss: 0.0252, Accuracy: 39743/40000.0 (99.3575%)
benign test loss (after fedavg) 0.025150892250984908
benign test acc (after fedavg) 99.3575
Test set:local_Trigger0Poison Accuracy: 215/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 85/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39743/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3459/4000 (86%)
Done in 13.189529418945312 sec.
select client [921, 449, 467, 742, 708, 764, 583, 342, 554, 471]
l2 norm of benign user before server clipping 0.00786716619040817
l2 norm of benign user after server clipping 0.00786716619040817
___Test : epoch: 2165: Average loss: 0.0258, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.025804380635917185
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 274/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 133/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3648/4000 (91%)
Done in 13.213133573532104 sec.
select client [101, 714, 468, 90, 462, 533, 966, 705, 599, 698]
l2 norm of benign user before server clipping 0.007236252259463072
l2 norm of benign user after server clipping 0.007236252259463072
___Test : epoch: 2166: Average loss: 0.0254, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025413260935992003
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 337/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 134/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3684/4000 (92%)
Done in 13.229379177093506 sec.
select client [488, 201, 361, 855, 249, 643, 941, 94, 45, 276]
l2 norm of benign user before server clipping 0.005223002820275724
l2 norm of benign user after server clipping 0.005223002820275724
___Test : epoch: 2167: Average loss: 0.0256, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.025610606889426707
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 232/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 85/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3572/4000 (89%)
Done in 13.071599006652832 sec.
select client [697, 322, 110, 247, 279, 772, 466, 308, 632, 565]
l2 norm of benign user before server clipping 0.004148016474209726
l2 norm of benign user after server clipping 0.004148016474209726
___Test : epoch: 2168: Average loss: 0.0256, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025612451984360813
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 257/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 94/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3573/4000 (89%)
Done in 13.02446699142456 sec.
select client [502, 473, 71, 615, 157, 735, 382, 908, 354, 789]
l2 norm of benign user before server clipping 0.00548535039415583
l2 norm of benign user after server clipping 0.00548535039415583
___Test : epoch: 2169: Average loss: 0.0251, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.025093930489569902
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 181/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 75/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3366/4000 (84%)
Done in 13.078680753707886 sec.
select client [151, 856, 132, 704, 62, 571, 745, 782, 859, 397]
l2 norm of benign user before server clipping 0.005306376150110736
l2 norm of benign user after server clipping 0.005306376150110736
___Test : epoch: 2170: Average loss: 0.0254, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.025351652297377587
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 249/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 99/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3541/4000 (89%)
Done in 13.051554918289185 sec.
select client [653, 603, 348, 862, 728, 107, 819, 901, 436, 15]
l2 norm of benign user before server clipping 0.005319139605853706
l2 norm of benign user after server clipping 0.005319139605853706
___Test : epoch: 2171: Average loss: 0.0250, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.024996009301766754
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 242/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 100/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3542/4000 (89%)
Done in 13.079745292663574 sec.
select client [997, 243, 654, 432, 613, 53, 83, 268, 307, 273]
l2 norm of benign user before server clipping 0.0054793308023363355
l2 norm of benign user after server clipping 0.0054793308023363355
___Test : epoch: 2172: Average loss: 0.0256, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.02557637502104044
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 232/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 93/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3498/4000 (87%)
Done in 13.157360315322876 sec.
select client [157, 670, 211, 885, 828, 823, 918, 962, 795, 136]
l2 norm of benign user before server clipping 0.005270589620340616
l2 norm of benign user after server clipping 0.005270589620340616
___Test : epoch: 2173: Average loss: 0.0267, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.026661764059588314
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 148/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3757/4000 (94%)
Done in 13.188992977142334 sec.
select client [141, 976, 303, 543, 762, 707, 85, 117, 71, 894]
l2 norm of benign user before server clipping 0.00509722160641104
l2 norm of benign user after server clipping 0.00509722160641104
___Test : epoch: 2174: Average loss: 0.0251, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.02505005827322602
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 266/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 105/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3647/4000 (91%)
Done in 13.344734191894531 sec.
select client [14, 896, 412, 509, 721, 609, 712, 658, 113, 380]
l2 norm of benign user before server clipping 0.005059928761329502
l2 norm of benign user after server clipping 0.005059928761329502
___Test : epoch: 2175: Average loss: 0.0254, Accuracy: 39739/40000.0 (99.3475%)
benign test loss (after fedavg) 0.025435775710642337
benign test acc (after fedavg) 99.3475
Test set:local_Trigger0Poison Accuracy: 241/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 97/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39739/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3539/4000 (88%)
Done in 12.923510789871216 sec.
select client [242, 295, 28, 428, 57, 803, 409, 201, 319, 668]
l2 norm of benign user before server clipping 0.006415859144181013
l2 norm of benign user after server clipping 0.006415859144181013
___Test : epoch: 2176: Average loss: 0.0260, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025983049934729933
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 313/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 120/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3709/4000 (93%)
Done in 13.381078720092773 sec.
select client [268, 141, 336, 761, 557, 737, 498, 170, 178, 715]
l2 norm of benign user before server clipping 0.00879687611013651
l2 norm of benign user after server clipping 0.00879687611013651
___Test : epoch: 2177: Average loss: 0.0248, Accuracy: 39742/40000.0 (99.3550%)
benign test loss (after fedavg) 0.02484294563792646
benign test acc (after fedavg) 99.355
Test set:local_Trigger0Poison Accuracy: 301/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 108/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39742/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3660/4000 (92%)
Done in 13.378177165985107 sec.
select client [74, 597, 731, 901, 269, 161, 993, 97, 884, 202]
l2 norm of benign user before server clipping 0.005312566761858761
l2 norm of benign user after server clipping 0.005312566761858761
___Test : epoch: 2178: Average loss: 0.0254, Accuracy: 39742/40000.0 (99.3550%)
benign test loss (after fedavg) 0.025351522894203664
benign test acc (after fedavg) 99.355
Test set:local_Trigger0Poison Accuracy: 208/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39742/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3431/4000 (86%)
Done in 12.928560256958008 sec.
select client [246, 522, 806, 115, 627, 702, 426, 54, 464, 712]
l2 norm of benign user before server clipping 0.008323802193626762
l2 norm of benign user after server clipping 0.008323802193626762
___Test : epoch: 2179: Average loss: 0.0266, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.02656470302604139
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 180/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 65/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3262/4000 (82%)
Done in 13.07243037223816 sec.
select client [492, 523, 66, 208, 172, 502, 596, 489, 152, 102]
l2 norm of benign user before server clipping 0.007762932043988258
l2 norm of benign user after server clipping 0.007762932043988258
___Test : epoch: 2180: Average loss: 0.0264, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.02635397203080356
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 334/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 118/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3603/4000 (90%)
Done in 13.155434131622314 sec.
select client [812, 524, 821, 572, 901, 187, 368, 150, 10, 215]
l2 norm of benign user before server clipping 0.0060421854723244905
l2 norm of benign user after server clipping 0.0060421854723244905
___Test : epoch: 2181: Average loss: 0.0257, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.025651443061232567
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 146/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 63/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3213/4000 (80%)
Done in 13.274884462356567 sec.
select client [579, 646, 600, 981, 332, 539, 262, 301, 971, 821]
l2 norm of benign user before server clipping 0.007384349382482469
l2 norm of benign user after server clipping 0.007384349382482469
___Test : epoch: 2182: Average loss: 0.0267, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.026679152850806714
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 287/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 102/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3525/4000 (88%)
Done in 13.382927894592285 sec.
select client [81, 91, 679, 817, 151, 658, 74, 680, 276, 964]
l2 norm of benign user before server clipping 0.0033338744193315505
l2 norm of benign user after server clipping 0.0033338744193315505
___Test : epoch: 2183: Average loss: 0.0254, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025350631197541953
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 412/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 164/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3778/4000 (94%)
Done in 12.990947484970093 sec.
select client [157, 217, 73, 448, 653, 784, 986, 760, 204, 736]
l2 norm of benign user before server clipping 0.006758209504187107
l2 norm of benign user after server clipping 0.006758209504187107
___Test : epoch: 2184: Average loss: 0.0262, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.026191713482886552
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 244/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 99/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3484/4000 (87%)
Done in 13.264517307281494 sec.
select client [898, 202, 448, 250, 645, 68, 432, 799, 565, 492]
l2 norm of benign user before server clipping 0.006668328028172255
l2 norm of benign user after server clipping 0.006668328028172255
___Test : epoch: 2185: Average loss: 0.0276, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.027614922580868007
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 161/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 65/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3045/4000 (76%)
Done in 12.961503028869629 sec.
select client [714, 251, 766, 141, 468, 240, 170, 144, 172, 319]
l2 norm of benign user before server clipping 0.006995889835525304
l2 norm of benign user after server clipping 0.006995889835525304
___Test : epoch: 2186: Average loss: 0.0261, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.026114141526073217
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 308/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 141/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3687/4000 (92%)
Done in 13.187474727630615 sec.
select client [472, 902, 68, 92, 415, 845, 496, 878, 930, 17]
l2 norm of benign user before server clipping 0.006219896406400948
l2 norm of benign user after server clipping 0.006219896406400948
___Test : epoch: 2187: Average loss: 0.0253, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.02526144484654069
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 193/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3395/4000 (85%)
Done in 13.144456624984741 sec.
select client [429, 923, 181, 148, 736, 95, 566, 486, 620, 25]
l2 norm of benign user before server clipping 0.008048588526435196
l2 norm of benign user after server clipping 0.008048588526435196
___Test : epoch: 2188: Average loss: 0.0260, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02601854281909764
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 224/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 93/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3461/4000 (87%)
Done in 13.221550941467285 sec.
select client [925, 349, 912, 933, 246, 18, 416, 589, 835, 547]
l2 norm of benign user before server clipping 0.005495237768627703
l2 norm of benign user after server clipping 0.005495237768627703
___Test : epoch: 2189: Average loss: 0.0260, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.025955300350487234
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 478/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 220/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3850/4000 (96%)
Done in 13.122844457626343 sec.
select client [93, 952, 86, 736, 910, 875, 759, 340, 425, 969]
l2 norm of benign user before server clipping 0.004642939381301403
l2 norm of benign user after server clipping 0.004642939381301403
___Test : epoch: 2190: Average loss: 0.0264, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.02641447940096259
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 343/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 163/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3756/4000 (94%)
Done in 12.9379563331604 sec.
select client [918, 206, 369, 104, 752, 715, 689, 643, 570, 960]
l2 norm of benign user before server clipping 0.008759460097644478
l2 norm of benign user after server clipping 0.008759460097644478
___Test : epoch: 2191: Average loss: 0.0248, Accuracy: 39737/40000.0 (99.3425%)
benign test loss (after fedavg) 0.02475822887159884
benign test acc (after fedavg) 99.3425
Test set:local_Trigger0Poison Accuracy: 194/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39737/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3429/4000 (86%)
Done in 13.279919147491455 sec.
select client [422, 83, 715, 583, 369, 710, 255, 994, 132, 40]
l2 norm of benign user before server clipping 0.011145733762532473
l2 norm of benign user after server clipping 0.011145733762532473
___Test : epoch: 2192: Average loss: 0.0251, Accuracy: 39738/40000.0 (99.3450%)
benign test loss (after fedavg) 0.02505509790405631
benign test acc (after fedavg) 99.345
Test set:local_Trigger0Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 78/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39738/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3355/4000 (84%)
Done in 13.351329565048218 sec.
select client [712, 447, 125, 840, 172, 650, 654, 493, 213, 931]
l2 norm of benign user before server clipping 0.004831198463216424
l2 norm of benign user after server clipping 0.004831198463216424
___Test : epoch: 2193: Average loss: 0.0251, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.025092674747109415
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 159/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 71/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3209/4000 (80%)
Done in 12.908973455429077 sec.
select client [910, 475, 39, 78, 401, 256, 344, 170, 319, 310]
l2 norm of benign user before server clipping 0.0069685254478827115
l2 norm of benign user after server clipping 0.0069685254478827115
___Test : epoch: 2194: Average loss: 0.0255, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.025511880852654576
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 265/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 106/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3543/4000 (89%)
Done in 13.420124292373657 sec.
select client [380, 227, 703, 479, 226, 413, 507, 927, 836, 231]
l2 norm of benign user before server clipping 0.0068292682990431786
l2 norm of benign user after server clipping 0.0068292682990431786
___Test : epoch: 2195: Average loss: 0.0258, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.02578682773858309
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 106/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 46/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2892/4000 (72%)
Done in 13.189173698425293 sec.
select client [270, 226, 19, 180, 717, 62, 201, 293, 317, 83]
l2 norm of benign user before server clipping 0.006959744181949645
l2 norm of benign user after server clipping 0.006959744181949645
___Test : epoch: 2196: Average loss: 0.0256, Accuracy: 39717/40000.0 (99.2925%)
benign test loss (after fedavg) 0.025577642424032092
benign test acc (after fedavg) 99.29249999999999
Test set:local_Trigger0Poison Accuracy: 167/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 72/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39717/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3379/4000 (84%)
Done in 12.943071126937866 sec.
select client [442, 124, 414, 610, 570, 948, 771, 221, 35, 556]
l2 norm of benign user before server clipping 0.008536923094652593
l2 norm of benign user after server clipping 0.008536923094652593
___Test : epoch: 2197: Average loss: 0.0253, Accuracy: 39729/40000.0 (99.3225%)
benign test loss (after fedavg) 0.025269474253803492
benign test acc (after fedavg) 99.3225
Test set:local_Trigger0Poison Accuracy: 174/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 71/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39729/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3172/4000 (79%)
Done in 13.519935369491577 sec.
select client [722, 57, 74, 908, 122, 931, 383, 834, 648, 82]
l2 norm of benign user before server clipping 0.006293826526962221
l2 norm of benign user after server clipping 0.006293826526962221
___Test : epoch: 2198: Average loss: 0.0253, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.025270479429513215
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 194/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 81/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3442/4000 (86%)
Done in 13.01470422744751 sec.
select client [599, 94, 799, 857, 568, 624, 367, 455, 355, 980]
l2 norm of benign user before server clipping 0.00542862688889727
l2 norm of benign user after server clipping 0.00542862688889727
___Test : epoch: 2199: Average loss: 0.0255, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02545122433975339
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 88/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3507/4000 (88%)
Done in 13.306933641433716 sec.
select client [470, 974, 499, 455, 788, 862, 824, 77, 443, 534]
l2 norm of benign user before server clipping 0.006483242870308459
l2 norm of benign user after server clipping 0.006483242870308459
___Test : epoch: 2200: Average loss: 0.0249, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.024949154171347618
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 279/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 124/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3632/4000 (91%)
Done in 13.109731674194336 sec.
select client [333, 575, 109, 696, 881, 893, 371, 611, 219, 447]
l2 norm of benign user before server clipping 0.005232932744547725
l2 norm of benign user after server clipping 0.005232932744547725
___Test : epoch: 2201: Average loss: 0.0255, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.025502834210172295
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 257/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 104/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3617/4000 (90%)
Done in 13.117928743362427 sec.
select client [460, 851, 629, 837, 146, 916, 761, 22, 756, 236]
l2 norm of benign user before server clipping 0.00527731409529224
l2 norm of benign user after server clipping 0.00527731409529224
___Test : epoch: 2202: Average loss: 0.0270, Accuracy: 39693/40000.0 (99.2325%)
benign test loss (after fedavg) 0.026979317524284126
benign test acc (after fedavg) 99.2325
Test set:local_Trigger0Poison Accuracy: 142/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39693/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3211/4000 (80%)
Done in 13.041940927505493 sec.
select client [224, 750, 719, 474, 168, 505, 216, 383, 238, 193]
l2 norm of benign user before server clipping 0.009305646014399826
l2 norm of benign user after server clipping 0.009305646014399826
___Test : epoch: 2203: Average loss: 0.0248, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.024844699677824975
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 201/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 88/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3397/4000 (85%)
Done in 13.514244318008423 sec.
select client [50, 148, 869, 466, 900, 832, 559, 390, 178, 37]
l2 norm of benign user before server clipping 0.007316074811387807
l2 norm of benign user after server clipping 0.007316074811387807
___Test : epoch: 2204: Average loss: 0.0253, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.02526862016580999
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 274/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 107/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3636/4000 (91%)
Done in 13.541434526443481 sec.
select client [209, 199, 828, 439, 766, 527, 755, 318, 732, 830]
l2 norm of benign user before server clipping 0.0061502349330112335
l2 norm of benign user after server clipping 0.0061502349330112335
___Test : epoch: 2205: Average loss: 0.0252, Accuracy: 39738/40000.0 (99.3450%)
benign test loss (after fedavg) 0.025171835386008024
benign test acc (after fedavg) 99.345
Test set:local_Trigger0Poison Accuracy: 260/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 108/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39738/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3598/4000 (90%)
Done in 13.322126388549805 sec.
select client [316, 992, 569, 227, 866, 419, 209, 454, 99, 228]
l2 norm of benign user before server clipping 0.007747332006692887
l2 norm of benign user after server clipping 0.007747332006692887
___Test : epoch: 2206: Average loss: 0.0248, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.02477107311412692
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 220/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3476/4000 (87%)
Done in 13.608613967895508 sec.
select client [881, 98, 502, 774, 754, 411, 476, 93, 422, 161]
l2 norm of benign user before server clipping 0.004552641254849732
l2 norm of benign user after server clipping 0.004552641254849732
___Test : epoch: 2207: Average loss: 0.0253, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025278273214399814
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 370/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 159/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3758/4000 (94%)
Done in 13.143417119979858 sec.
select client [539, 275, 599, 413, 633, 196, 686, 331, 899, 793]
l2 norm of benign user before server clipping 0.004287776246201247
l2 norm of benign user after server clipping 0.004287776246201247
___Test : epoch: 2208: Average loss: 0.0252, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.025213298027217387
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 269/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 99/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3569/4000 (89%)
Done in 13.260424613952637 sec.
select client [454, 121, 345, 307, 713, 757, 988, 855, 623, 151]
l2 norm of benign user before server clipping 0.005610349512426183
l2 norm of benign user after server clipping 0.005610349512426183
___Test : epoch: 2209: Average loss: 0.0258, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.025821915183961392
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 257/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 108/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3641/4000 (91%)
Done in 13.212114095687866 sec.
select client [671, 962, 856, 157, 645, 258, 484, 49, 309, 690]
l2 norm of benign user before server clipping 0.00708142570219934
l2 norm of benign user after server clipping 0.00708142570219934
___Test : epoch: 2210: Average loss: 0.0247, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.024667280042544006
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 292/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 112/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3655/4000 (91%)
Done in 13.01067328453064 sec.
select client [18, 350, 457, 222, 859, 130, 53, 976, 512, 430]
l2 norm of benign user before server clipping 0.006958339479751885
l2 norm of benign user after server clipping 0.006958339479751885
___Test : epoch: 2211: Average loss: 0.0250, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.02496335228011012
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 259/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 93/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3571/4000 (89%)
Done in 13.254820346832275 sec.
select client [724, 783, 174, 608, 56, 951, 341, 640, 690, 410]
l2 norm of benign user before server clipping 0.007108561904169619
l2 norm of benign user after server clipping 0.007108561904169619
___Test : epoch: 2212: Average loss: 0.0266, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.02660935479030013
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 263/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 124/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3543/4000 (89%)
Done in 13.098571538925171 sec.
select client [594, 173, 155, 688, 485, 560, 953, 729, 134, 334]
l2 norm of benign user before server clipping 0.005701396055519581
l2 norm of benign user after server clipping 0.005701396055519581
___Test : epoch: 2213: Average loss: 0.0253, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.02525423794016242
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 199/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3425/4000 (86%)
Done in 13.109740257263184 sec.
select client [169, 495, 206, 34, 910, 580, 878, 187, 638, 998]
l2 norm of benign user before server clipping 0.00766759910620749
l2 norm of benign user after server clipping 0.00766759910620749
___Test : epoch: 2214: Average loss: 0.0250, Accuracy: 39745/40000.0 (99.3625%)
benign test loss (after fedavg) 0.024983845552429558
benign test acc (after fedavg) 99.3625
Test set:local_Trigger0Poison Accuracy: 138/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 57/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39745/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3219/4000 (80%)
Done in 13.52968692779541 sec.
select client [867, 999, 782, 976, 28, 512, 280, 647, 621, 519]
l2 norm of benign user before server clipping 0.008298054337501526
l2 norm of benign user after server clipping 0.008298054337501526
___Test : epoch: 2215: Average loss: 0.0254, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.025403189393877982
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 162/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 70/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3223/4000 (81%)
Done in 13.49556279182434 sec.
select client [727, 333, 856, 869, 572, 789, 994, 719, 841, 366]
l2 norm of benign user before server clipping 0.00694823837839067
l2 norm of benign user after server clipping 0.00694823837839067
___Test : epoch: 2216: Average loss: 0.0255, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.025527347499877215
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 257/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 106/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3552/4000 (89%)
Done in 13.068196058273315 sec.
select client [13, 75, 207, 821, 312, 467, 746, 288, 973, 135]
l2 norm of benign user before server clipping 0.008670391677878798
l2 norm of benign user after server clipping 0.008670391677878798
___Test : epoch: 2217: Average loss: 0.0253, Accuracy: 39740/40000.0 (99.3500%)
benign test loss (after fedavg) 0.025328903533518313
benign test acc (after fedavg) 99.35000000000001
Test set:local_Trigger0Poison Accuracy: 232/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 93/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39740/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3444/4000 (86%)
Done in 13.537585258483887 sec.
select client [432, 939, 345, 908, 935, 351, 407, 453, 555, 42]
l2 norm of benign user before server clipping 0.005780948209576309
l2 norm of benign user after server clipping 0.005780948209576309
___Test : epoch: 2218: Average loss: 0.0254, Accuracy: 39736/40000.0 (99.3400%)
benign test loss (after fedavg) 0.025429646312445403
benign test acc (after fedavg) 99.33999999999999
Test set:local_Trigger0Poison Accuracy: 271/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 109/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39736/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3603/4000 (90%)
Done in 13.219114303588867 sec.
select client [409, 151, 240, 846, 832, 923, 703, 470, 488, 499]
l2 norm of benign user before server clipping 0.005576534994179383
l2 norm of benign user after server clipping 0.005576534994179383
___Test : epoch: 2219: Average loss: 0.0254, Accuracy: 39724/40000.0 (99.3100%)
benign test loss (after fedavg) 0.02538710239380598
benign test acc (after fedavg) 99.31
Test set:local_Trigger0Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 65/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39724/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3198/4000 (80%)
Done in 13.031335830688477 sec.
select client [300, 107, 561, 643, 173, 502, 275, 659, 815, 241]
l2 norm of benign user before server clipping 0.00574567299336195
l2 norm of benign user after server clipping 0.00574567299336195
___Test : epoch: 2220: Average loss: 0.0251, Accuracy: 39732/40000.0 (99.3300%)
benign test loss (after fedavg) 0.02508521859496832
benign test acc (after fedavg) 99.33
Test set:local_Trigger0Poison Accuracy: 300/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 119/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39732/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3640/4000 (91%)
Done in 13.257752180099487 sec.
select client [259, 802, 342, 53, 834, 178, 489, 129, 327, 762]
l2 norm of benign user before server clipping 0.005109772877767682
l2 norm of benign user after server clipping 0.005109772877767682
___Test : epoch: 2221: Average loss: 0.0267, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026740579304099083
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 417/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 184/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3765/4000 (94%)
Done in 13.134471893310547 sec.
select client [997, 673, 982, 636, 550, 540, 719, 253, 717, 874]
l2 norm of benign user before server clipping 0.007707603089511394
l2 norm of benign user after server clipping 0.007707603089511394
___Test : epoch: 2222: Average loss: 0.0253, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025288356134295465
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 143/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 60/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3271/4000 (82%)
Done in 13.292705535888672 sec.
select client [960, 180, 413, 371, 285, 445, 608, 567, 773, 642]
l2 norm of benign user before server clipping 0.007232340914197266
l2 norm of benign user after server clipping 0.007232340914197266
___Test : epoch: 2223: Average loss: 0.0250, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.024954147297516466
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 168/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 62/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3294/4000 (82%)
Done in 13.209916353225708 sec.
select client [605, 338, 183, 41, 264, 534, 997, 712, 82, 81]
l2 norm of benign user before server clipping 0.005617036658804864
l2 norm of benign user after server clipping 0.005617036658804864
___Test : epoch: 2224: Average loss: 0.0249, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.024863833570480345
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 158/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 64/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3142/4000 (79%)
Done in 13.283127784729004 sec.
select client [993, 774, 805, 256, 27, 126, 475, 938, 612, 950]
l2 norm of benign user before server clipping 0.007172647560946643
l2 norm of benign user after server clipping 0.007172647560946643
___Test : epoch: 2225: Average loss: 0.0259, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.02593081082254648
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 210/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 90/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3491/4000 (87%)
Done in 13.290357112884521 sec.
select client [348, 130, 440, 637, 389, 972, 951, 565, 352, 836]
l2 norm of benign user before server clipping 0.005566173268016427
l2 norm of benign user after server clipping 0.005566173268016427
___Test : epoch: 2226: Average loss: 0.0258, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02577593263462186
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 132/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 60/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3187/4000 (80%)
Done in 13.017531394958496 sec.
select client [655, 739, 59, 787, 304, 305, 737, 885, 75, 601]
l2 norm of benign user before server clipping 0.005694526550360024
l2 norm of benign user after server clipping 0.005694526550360024
___Test : epoch: 2227: Average loss: 0.0252, Accuracy: 39731/40000.0 (99.3275%)
benign test loss (after fedavg) 0.025158542505651714
benign test acc (after fedavg) 99.3275
Test set:local_Trigger0Poison Accuracy: 196/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39731/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3379/4000 (84%)
Done in 13.449802160263062 sec.
select client [295, 54, 354, 936, 603, 567, 682, 436, 77, 958]
l2 norm of benign user before server clipping 0.006612235179636628
l2 norm of benign user after server clipping 0.006612235179636628
___Test : epoch: 2228: Average loss: 0.0251, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.025052857556939125
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 199/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 79/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3428/4000 (86%)
Done in 13.124738693237305 sec.
select client [133, 42, 125, 478, 398, 13, 28, 511, 248, 120]
l2 norm of benign user before server clipping 0.006024774847901426
l2 norm of benign user after server clipping 0.006024774847901426
___Test : epoch: 2229: Average loss: 0.0262, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.026234184129536153
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 252/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 104/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3467/4000 (87%)
Done in 13.364346265792847 sec.
select client [520, 160, 240, 465, 38, 21, 825, 514, 667, 774]
l2 norm of benign user before server clipping 0.006326955882832408
l2 norm of benign user after server clipping 0.006326955882832408
___Test : epoch: 2230: Average loss: 0.0262, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.026176398549973966
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 233/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 97/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3411/4000 (85%)
Done in 13.57169485092163 sec.
select client [770, 258, 41, 287, 783, 655, 185, 699, 15, 381]
l2 norm of benign user before server clipping 0.005005967384204268
l2 norm of benign user after server clipping 0.005005967384204268
___Test : epoch: 2231: Average loss: 0.0258, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.025807425919920204
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 133/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 49/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3141/4000 (79%)
Done in 13.24161410331726 sec.
select client [770, 300, 564, 756, 678, 740, 386, 960, 283, 624]
l2 norm of benign user before server clipping 0.005574759445153177
l2 norm of benign user after server clipping 0.005574759445153177
___Test : epoch: 2232: Average loss: 0.0253, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.02525190998762846
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 266/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 101/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3606/4000 (90%)
Done in 13.16848111152649 sec.
select client [323, 144, 389, 605, 612, 257, 841, 264, 723, 125]
l2 norm of benign user before server clipping 0.007064516353420913
l2 norm of benign user after server clipping 0.007064516353420913
___Test : epoch: 2233: Average loss: 0.0259, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.025867014319077133
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 216/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3491/4000 (87%)
Done in 13.142758131027222 sec.
select client [42, 137, 406, 590, 877, 783, 483, 672, 764, 800]
l2 norm of benign user before server clipping 0.005040531815029681
l2 norm of benign user after server clipping 0.005040531815029681
___Test : epoch: 2234: Average loss: 0.0249, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.02487182621024549
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 69/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3328/4000 (83%)
Done in 13.149945974349976 sec.
select client [649, 343, 528, 49, 923, 171, 935, 88, 145, 431]
l2 norm of benign user before server clipping 0.00476802927441895
l2 norm of benign user after server clipping 0.00476802927441895
___Test : epoch: 2235: Average loss: 0.0251, Accuracy: 39733/40000.0 (99.3325%)
benign test loss (after fedavg) 0.02512113099992275
benign test acc (after fedavg) 99.3325
Test set:local_Trigger0Poison Accuracy: 212/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 86/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39733/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3416/4000 (85%)
Done in 13.223601818084717 sec.
select client [129, 649, 948, 883, 693, 215, 27, 489, 212, 119]
l2 norm of benign user before server clipping 0.007297795789781958
l2 norm of benign user after server clipping 0.007297795789781958
___Test : epoch: 2236: Average loss: 0.0256, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.025646869084984064
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 174/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 76/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3228/4000 (81%)
Done in 13.187167406082153 sec.
select client [155, 132, 595, 930, 363, 605, 399, 584, 747, 476]
l2 norm of benign user before server clipping 0.005033312109299004
l2 norm of benign user after server clipping 0.005033312109299004
___Test : epoch: 2237: Average loss: 0.0252, Accuracy: 39738/40000.0 (99.3450%)
benign test loss (after fedavg) 0.025201743507385254
benign test acc (after fedavg) 99.345
Test set:local_Trigger0Poison Accuracy: 175/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 68/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39738/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3280/4000 (82%)
Done in 13.387586116790771 sec.
select client [723, 685, 644, 333, 201, 866, 293, 488, 445, 392]
l2 norm of benign user before server clipping 0.005937863560393453
l2 norm of benign user after server clipping 0.005937863560393453
___Test : epoch: 2238: Average loss: 0.0254, Accuracy: 39725/40000.0 (99.3125%)
benign test loss (after fedavg) 0.025421256502717732
benign test acc (after fedavg) 99.3125
Test set:local_Trigger0Poison Accuracy: 270/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 109/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39725/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3621/4000 (91%)
Done in 13.199612617492676 sec.
select client [863, 303, 154, 862, 944, 582, 400, 614, 542, 724]
l2 norm of benign user before server clipping 0.005045832798350603
l2 norm of benign user after server clipping 0.005045832798350603
___Test : epoch: 2239: Average loss: 0.0250, Accuracy: 39735/40000.0 (99.3375%)
benign test loss (after fedavg) 0.02500283658131957
benign test acc (after fedavg) 99.3375
Test set:local_Trigger0Poison Accuracy: 195/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39735/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3379/4000 (84%)
Done in 13.232956409454346 sec.
select client [177, 946, 348, 515, 335, 802, 153, 133, 561, 422]
l2 norm of benign user before server clipping 0.005880776431877166
l2 norm of benign user after server clipping 0.005880776431877166
___Test : epoch: 2240: Average loss: 0.0249, Accuracy: 39728/40000.0 (99.3200%)
benign test loss (after fedavg) 0.024915448589995504
benign test acc (after fedavg) 99.32
Test set:local_Trigger0Poison Accuracy: 144/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 58/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39728/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3150/4000 (79%)
Done in 12.950492143630981 sec.
select client [175, 973, 141, 281, 520, 603, 118, 35, 810, 825]
l2 norm of benign user before server clipping 0.008260681829415261
l2 norm of benign user after server clipping 0.008260681829415261
___Test : epoch: 2241: Average loss: 0.0258, Accuracy: 39734/40000.0 (99.3350%)
benign test loss (after fedavg) 0.02579579871147871
benign test acc (after fedavg) 99.335
Test set:local_Trigger0Poison Accuracy: 257/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 111/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39734/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3537/4000 (88%)
Done in 13.538218975067139 sec.
select client [761, 91, 325, 893, 773, 531, 482, 826, 240, 674]
l2 norm of benign user before server clipping 0.0060160714318044485
l2 norm of benign user after server clipping 0.0060160714318044485
___Test : epoch: 2242: Average loss: 0.0250, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.025013640712574125
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 267/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 116/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3589/4000 (90%)
Done in 13.242641687393188 sec.
select client [367, 271, 577, 678, 848, 68, 169, 934, 139, 831]
l2 norm of benign user before server clipping 0.006166131910867989
l2 norm of benign user after server clipping 0.006166131910867989
___Test : epoch: 2243: Average loss: 0.0250, Accuracy: 39738/40000.0 (99.3450%)
benign test loss (after fedavg) 0.024994056535512208
benign test acc (after fedavg) 99.345
Test set:local_Trigger0Poison Accuracy: 135/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 64/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39738/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3203/4000 (80%)
Done in 13.476022243499756 sec.
select client [331, 966, 194, 12, 818, 581, 908, 927, 539, 113]
l2 norm of benign user before server clipping 0.005200601438991726
l2 norm of benign user after server clipping 0.005200601438991726
___Test : epoch: 2244: Average loss: 0.0262, Accuracy: 39727/40000.0 (99.3175%)
benign test loss (after fedavg) 0.026175893534719944
benign test acc (after fedavg) 99.31750000000001
Test set:local_Trigger0Poison Accuracy: 397/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 178/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39727/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3752/4000 (94%)
Done in 13.005482912063599 sec.
select client [183, 370, 632, 481, 368, 395, 983, 108, 648, 957]
l2 norm of benign user before server clipping 0.008098399708978831
l2 norm of benign user after server clipping 0.008098399708978831
___Test : epoch: 2245: Average loss: 0.0250, Accuracy: 39739/40000.0 (99.3475%)
benign test loss (after fedavg) 0.024962359685078265
benign test acc (after fedavg) 99.3475
Test set:local_Trigger0Poison Accuracy: 124/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 45/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39739/40000 (99%)
Test set:Global Trigger Poison Accuracy: 2975/4000 (74%)
Done in 13.29467487335205 sec.
select client [585, 587, 29, 987, 204, 342, 211, 199, 982, 772]
l2 norm of benign user before server clipping 0.005677511310204863
l2 norm of benign user after server clipping 0.005677511310204863
___Test : epoch: 2246: Average loss: 0.0256, Accuracy: 39730/40000.0 (99.3250%)
benign test loss (after fedavg) 0.02564741315469146
benign test acc (after fedavg) 99.325
Test set:local_Trigger0Poison Accuracy: 137/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39730/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3052/4000 (76%)
Done in 13.227130651473999 sec.
select client [133, 369, 10, 386, 118, 904, 641, 747, 211, 202]
l2 norm of benign user before server clipping 0.00708033440168947
l2 norm of benign user after server clipping 0.00708033440168947
___Test : epoch: 2247: Average loss: 0.0246, Accuracy: 39749/40000.0 (99.3725%)
benign test loss (after fedavg) 0.02462953815497458
benign test acc (after fedavg) 99.3725
Test set:local_Trigger0Poison Accuracy: 144/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 59/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39749/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3080/4000 (77%)
Done in 13.479909181594849 sec.
select client [627, 750, 814, 338, 379, 632, 827, 769, 702, 572]
l2 norm of benign user before server clipping 0.00913389513734728
l2 norm of benign user after server clipping 0.00913389513734728
___Test : epoch: 2248: Average loss: 0.0244, Accuracy: 39749/40000.0 (99.3725%)
benign test loss (after fedavg) 0.024411899296939373
benign test acc (after fedavg) 99.3725
Test set:local_Trigger0Poison Accuracy: 227/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 97/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39749/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3484/4000 (87%)
Done in 13.531455039978027 sec.
select client [374, 116, 686, 207, 896, 771, 493, 769, 877, 592]
l2 norm of benign user before server clipping 0.006181073398329318
l2 norm of benign user after server clipping 0.006181073398329318
___Test : epoch: 2249: Average loss: 0.0249, Accuracy: 39742/40000.0 (99.3550%)
benign test loss (after fedavg) 0.02491751351952553
benign test acc (after fedavg) 99.355
Test set:local_Trigger0Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 76/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39742/40000 (99%)
Test set:Global Trigger Poison Accuracy: 3185/4000 (80%)
Done in 13.413891792297363 sec.
