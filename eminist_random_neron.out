/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0570, Accuracy: 39299/40000.0 (98.2475%)
Origin Pretrained Model: benign test loss (after fedavg) 0.05704424796551466
Origin Pretrained Model: benign test acc (after fedavg) 98.2475
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.35936537235975263
l2 norm of benign user after server clipping 0.3298554584383965
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.1491, Accuracy: 38146/40000.0 (95.3650%)
benign test loss (after fedavg) 0.14907171865105628
benign test acc (after fedavg) 95.365
Done in 2.680816411972046 sec.
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.2476455897092819
l2 norm of benign user after server clipping 0.2476455897092819
___Test : epoch: 1951: Average loss: 0.0800, Accuracy: 39015/40000.0 (97.5375%)
benign test loss (after fedavg) 0.08000705589652062
benign test acc (after fedavg) 97.5375
Done in 2.6761038303375244 sec.
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.1646109327673912
l2 norm of benign user after server clipping 0.1646109327673912
___Test : epoch: 1952: Average loss: 0.0743, Accuracy: 39057/40000.0 (97.6425%)
benign test loss (after fedavg) 0.07431874342560768
benign test acc (after fedavg) 97.6425
Done in 2.3640530109405518 sec.
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.20620565488934517
l2 norm of benign user after server clipping 0.20620565488934517
___Test : epoch: 1953: Average loss: 0.0727, Accuracy: 39082/40000.0 (97.7050%)
benign test loss (after fedavg) 0.07266452785432338
benign test acc (after fedavg) 97.705
Done in 2.4354403018951416 sec.
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.17789120376110076
l2 norm of benign user after server clipping 0.17789120376110076
___Test : epoch: 1954: Average loss: 0.0702, Accuracy: 39167/40000.0 (97.9175%)
benign test loss (after fedavg) 0.07019793701171875
benign test acc (after fedavg) 97.9175
Done in 2.600308895111084 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.26448556780815125
l2 norm of benign user after server clipping 0.23597644766171774
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger0 loss tensor(29.2916, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(19.7773, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(9.7446, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(4.3822, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(1.8398, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.166664
Poison Train Epoch: 1 	Loss: 0.144698
Poison Train Epoch: 2 	Loss: 0.101803
Poison Train Epoch: 3 	Loss: 0.056311
Poison Train Epoch: 4 	Loss: 0.073801
Poison Train Epoch: 5 	Loss: 0.038244
Poison Train Epoch: 6 	Loss: 0.010277
Poison Train Epoch: 7 	Loss: 0.033626
Poison Train Epoch: 8 	Loss: 0.091996
Poison Train Epoch: 9 	Loss: 0.001790
Poison Train Epoch: 10 	Loss: 0.020285
Poison Train Epoch: 11 	Loss: 0.047439
Poison Train Epoch: 12 	Loss: 0.025564
Poison Train Epoch: 13 	Loss: 0.155736
Poison Train Epoch: 14 	Loss: 0.076146
Poison Train Epoch: 15 	Loss: 0.016201
Poison Train Epoch: 16 	Loss: 0.079958
Poison Train Epoch: 17 	Loss: 0.039658
Poison Train Epoch: 18 	Loss: 0.121869
Poison Train Epoch: 19 	Loss: 0.097326
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1955: Average loss: 0.1381, Accuracy: 38222/40000.0 (95.5550%)
benign test loss (after fedavg) 0.138117871761322
benign test acc (after fedavg) 95.555
Done in 14.481109142303467 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.20201456546783447
l2 norm of benign user after server clipping 0.20201456546783447
___Test : epoch: 1956: Average loss: 0.0723, Accuracy: 39149/40000.0 (97.8725%)
benign test loss (after fedavg) 0.07234901377111673
benign test acc (after fedavg) 97.8725
Done in 2.424409866333008 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.1584892675280571
l2 norm of benign user after server clipping 0.1584892675280571
___Test : epoch: 1957: Average loss: 0.0712, Accuracy: 39139/40000.0 (97.8475%)
benign test loss (after fedavg) 0.071161977763474
benign test acc (after fedavg) 97.8475
Done in 2.4964442253112793 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.18324166014790536
l2 norm of benign user after server clipping 0.18324166014790536
___Test : epoch: 1958: Average loss: 0.0725, Accuracy: 39108/40000.0 (97.7700%)
benign test loss (after fedavg) 0.07253981428146362
benign test acc (after fedavg) 97.77
Done in 2.666088342666626 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.14293425530195236
l2 norm of benign user after server clipping 0.14293425530195236
___Test : epoch: 1959: Average loss: 0.0638, Accuracy: 39226/40000.0 (98.0650%)
benign test loss (after fedavg) 0.06382486170381307
benign test acc (after fedavg) 98.065
Done in 2.307828187942505 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.17518678141964805
l2 norm of benign user after server clipping 0.17518678141964805
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger1 loss tensor(35.7489, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(35.6204, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(35.3609, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(35.1760, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(35.0616, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.222920
Poison Train Epoch: 1 	Loss: 0.370999
Poison Train Epoch: 2 	Loss: 0.069812
Poison Train Epoch: 3 	Loss: 0.130809
Poison Train Epoch: 4 	Loss: 0.072440
Poison Train Epoch: 5 	Loss: 0.020909
Poison Train Epoch: 6 	Loss: 0.027157
Poison Train Epoch: 7 	Loss: 0.101839
Poison Train Epoch: 8 	Loss: 0.038220
Poison Train Epoch: 9 	Loss: 0.353797
Poison Train Epoch: 10 	Loss: 0.088940
Poison Train Epoch: 11 	Loss: 0.097923
Poison Train Epoch: 12 	Loss: 0.097702
Poison Train Epoch: 13 	Loss: 0.181793
Poison Train Epoch: 14 	Loss: 0.199480
Poison Train Epoch: 15 	Loss: 0.140031
Poison Train Epoch: 16 	Loss: 0.025158
Poison Train Epoch: 17 	Loss: 0.028927
Poison Train Epoch: 18 	Loss: 0.060385
Poison Train Epoch: 19 	Loss: 0.168818
Test set:local_Trigger1_localPoison Accuracy: 3927/4000 (98%)
___Test : epoch: 1960: Average loss: 0.0680, Accuracy: 39199/40000.0 (97.9975%)
benign test loss (after fedavg) 0.06800596734285355
benign test acc (after fedavg) 97.9975
Done in 14.583261966705322 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.12333292812108994
l2 norm of benign user after server clipping 0.12333292812108994
___Test : epoch: 1961: Average loss: 0.0615, Accuracy: 39256/40000.0 (98.1400%)
benign test loss (after fedavg) 0.06146677599996328
benign test acc (after fedavg) 98.14
Done in 2.2666354179382324 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.1315340057015419
l2 norm of benign user after server clipping 0.1315340057015419
___Test : epoch: 1962: Average loss: 0.0575, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.05751624959409237
benign test acc (after fedavg) 98.27749999999999
Done in 2.4273529052734375 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.11269366070628166
l2 norm of benign user after server clipping 0.11269366070628166
___Test : epoch: 1963: Average loss: 0.0669, Accuracy: 39194/40000.0 (97.9850%)
benign test loss (after fedavg) 0.06688009010106326
benign test acc (after fedavg) 97.985
Done in 2.3736486434936523 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.12476426288485527
l2 norm of benign user after server clipping 0.12476426288485527
___Test : epoch: 1964: Average loss: 0.0688, Accuracy: 39137/40000.0 (97.8425%)
benign test loss (after fedavg) 0.06876542011350394
benign test acc (after fedavg) 97.8425
Done in 2.455705165863037 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.1606142893433571
l2 norm of benign user after server clipping 0.1606142893433571
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger2 loss tensor(34.7544, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(32.3131, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(28.7872, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(25.8130, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(23.1417, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.049722
Poison Train Epoch: 1 	Loss: 0.314741
Poison Train Epoch: 2 	Loss: 0.075234
Poison Train Epoch: 3 	Loss: 0.282875
Poison Train Epoch: 4 	Loss: 0.106809
Poison Train Epoch: 5 	Loss: 0.045406
Poison Train Epoch: 6 	Loss: 0.051959
Poison Train Epoch: 7 	Loss: 0.023243
Poison Train Epoch: 8 	Loss: 0.288920
Poison Train Epoch: 9 	Loss: 0.004481
Poison Train Epoch: 10 	Loss: 0.076383
Poison Train Epoch: 11 	Loss: 0.038312
Poison Train Epoch: 12 	Loss: 0.027115
Poison Train Epoch: 13 	Loss: 0.010738
Poison Train Epoch: 14 	Loss: 0.053887
Poison Train Epoch: 15 	Loss: 0.083607
Poison Train Epoch: 16 	Loss: 0.090870
Poison Train Epoch: 17 	Loss: 0.018165
Poison Train Epoch: 18 	Loss: 0.031637
Poison Train Epoch: 19 	Loss: 0.015888
Test set:local_Trigger2_localPoison Accuracy: 3994/4000 (100%)
___Test : epoch: 1965: Average loss: 0.0658, Accuracy: 39203/40000.0 (98.0075%)
benign test loss (after fedavg) 0.06583963310271501
benign test acc (after fedavg) 98.00750000000001
Done in 14.474106311798096 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.13702607303857803
l2 norm of benign user after server clipping 0.13702607303857803
___Test : epoch: 1966: Average loss: 0.0670, Accuracy: 39198/40000.0 (97.9950%)
benign test loss (after fedavg) 0.06696709280461073
benign test acc (after fedavg) 97.995
Done in 2.4363248348236084 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.11525403000414372
l2 norm of benign user after server clipping 0.11525403000414372
___Test : epoch: 1967: Average loss: 0.0611, Accuracy: 39231/40000.0 (98.0775%)
benign test loss (after fedavg) 0.06106097145974636
benign test acc (after fedavg) 98.0775
Done in 2.363723039627075 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.12182745225727558
l2 norm of benign user after server clipping 0.12182745225727558
___Test : epoch: 1968: Average loss: 0.0629, Accuracy: 39253/40000.0 (98.1325%)
benign test loss (after fedavg) 0.06294235309660434
benign test acc (after fedavg) 98.1325
Done in 2.4109959602355957 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.13242134749889373
l2 norm of benign user after server clipping 0.13242134749889373
___Test : epoch: 1969: Average loss: 0.0678, Accuracy: 39178/40000.0 (97.9450%)
benign test loss (after fedavg) 0.06784567963480949
benign test acc (after fedavg) 97.94500000000001
Done in 2.438929557800293 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.1288304684890641
l2 norm of benign user after server clipping 0.1288304684890641
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger3 loss tensor(37.4755, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(37.3824, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(37.3792, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(37.3705, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(37.3688, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.066423
Poison Train Epoch: 1 	Loss: 0.109145
Poison Train Epoch: 2 	Loss: 0.147056
Poison Train Epoch: 3 	Loss: 0.059007
Poison Train Epoch: 4 	Loss: 0.126132
Poison Train Epoch: 5 	Loss: 0.097751
Poison Train Epoch: 6 	Loss: 0.205930
Poison Train Epoch: 7 	Loss: 0.034448
Poison Train Epoch: 8 	Loss: 0.027381
Poison Train Epoch: 9 	Loss: 0.137113
Poison Train Epoch: 10 	Loss: 0.122284
Poison Train Epoch: 11 	Loss: 0.065624
Poison Train Epoch: 12 	Loss: 0.037337
Poison Train Epoch: 13 	Loss: 0.082309
Poison Train Epoch: 14 	Loss: 0.184291
Poison Train Epoch: 15 	Loss: 0.174556
Poison Train Epoch: 16 	Loss: 0.023343
Poison Train Epoch: 17 	Loss: 0.188969
Poison Train Epoch: 18 	Loss: 0.050309
Poison Train Epoch: 19 	Loss: 0.006736
Test set:local_Trigger3_localPoison Accuracy: 3917/4000 (98%)
___Test : epoch: 1970: Average loss: 0.0585, Accuracy: 39292/40000.0 (98.2300%)
benign test loss (after fedavg) 0.05850017801821232
benign test acc (after fedavg) 98.22999999999999
Done in 14.583916664123535 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.11491611376404762
l2 norm of benign user after server clipping 0.11491611376404762
___Test : epoch: 1971: Average loss: 0.0582, Accuracy: 39308/40000.0 (98.2700%)
benign test loss (after fedavg) 0.05815584509670734
benign test acc (after fedavg) 98.27
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 38/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39308/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.658977270126343 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.11464773267507553
l2 norm of benign user after server clipping 0.11464773267507553
___Test : epoch: 1972: Average loss: 0.0592, Accuracy: 39270/40000.0 (98.1750%)
benign test loss (after fedavg) 0.05924904864281416
benign test acc (after fedavg) 98.175
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39270/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.64756727218628 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.10798176899552345
l2 norm of benign user after server clipping 0.10798176899552345
___Test : epoch: 1973: Average loss: 0.0597, Accuracy: 39272/40000.0 (98.1800%)
benign test loss (after fedavg) 0.05974415177926421
benign test acc (after fedavg) 98.18
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39272/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.713354110717773 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.09943161308765411
l2 norm of benign user after server clipping 0.09943161308765411
___Test : epoch: 1974: Average loss: 0.0549, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.054859968236088755
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.547869205474854 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.09066928674777348
l2 norm of benign user after server clipping 0.09066928674777348
Poison Train Epoch: 0 	Loss: 0.012945
Poison Train Epoch: 1 	Loss: 0.021462
Poison Train Epoch: 2 	Loss: 0.029001
Poison Train Epoch: 3 	Loss: 0.063947
Poison Train Epoch: 4 	Loss: 0.166019
Poison Train Epoch: 5 	Loss: 0.057432
Poison Train Epoch: 6 	Loss: 0.025552
Poison Train Epoch: 7 	Loss: 0.058075
Poison Train Epoch: 8 	Loss: 0.193248
Poison Train Epoch: 9 	Loss: 0.067643
Poison Train Epoch: 10 	Loss: 0.031070
Poison Train Epoch: 11 	Loss: 0.049750
Poison Train Epoch: 12 	Loss: 0.066917
Poison Train Epoch: 13 	Loss: 0.015273
Poison Train Epoch: 14 	Loss: 0.025910
Poison Train Epoch: 15 	Loss: 0.113476
Poison Train Epoch: 16 	Loss: 0.176120
Poison Train Epoch: 17 	Loss: 0.041256
Poison Train Epoch: 18 	Loss: 0.116102
Poison Train Epoch: 19 	Loss: 0.033558
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 1975: Average loss: 0.0543, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05426332241743803
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 25/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 21.022961378097534 sec.
select client [469, 900, 957, 46, 717, 616, 357, 837, 662, 422]
l2 norm of benign user before server clipping 0.08707078509032726
l2 norm of benign user after server clipping 0.08707078509032726
___Test : epoch: 1976: Average loss: 0.0570, Accuracy: 39323/40000.0 (98.3075%)
benign test loss (after fedavg) 0.057005153594911095
benign test acc (after fedavg) 98.3075
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39323/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.657421588897705 sec.
select client [713, 519, 68, 971, 277, 147, 891, 721, 547, 729]
l2 norm of benign user before server clipping 0.10229115188121796
l2 norm of benign user after server clipping 0.10229115188121796
___Test : epoch: 1977: Average loss: 0.0569, Accuracy: 39309/40000.0 (98.2725%)
benign test loss (after fedavg) 0.056933022210001946
benign test acc (after fedavg) 98.2725
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39309/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.57723879814148 sec.
select client [897, 638, 411, 424, 310, 164, 246, 512, 509, 841]
l2 norm of benign user before server clipping 0.0920206256210804
l2 norm of benign user after server clipping 0.0920206256210804
___Test : epoch: 1978: Average loss: 0.0559, Accuracy: 39306/40000.0 (98.2650%)
benign test loss (after fedavg) 0.05594743684008718
benign test acc (after fedavg) 98.265
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39306/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.608439922332764 sec.
select client [190, 767, 803, 862, 585, 646, 73, 684, 536, 936]
l2 norm of benign user before server clipping 0.10833856649696827
l2 norm of benign user after server clipping 0.10833856649696827
___Test : epoch: 1979: Average loss: 0.0554, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05540740398317576
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.71260952949524 sec.
select client [214, 489, 93, 716, 518, 651, 85, 202, 721]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07718122046854761
l2 norm of benign user after server clipping 0.07718122046854761
Poison Train Epoch: 0 	Loss: 0.118868
Poison Train Epoch: 1 	Loss: 0.183062
Poison Train Epoch: 2 	Loss: 0.009527
Poison Train Epoch: 3 	Loss: 0.225590
Poison Train Epoch: 4 	Loss: 0.345282
Poison Train Epoch: 5 	Loss: 0.083989
Poison Train Epoch: 6 	Loss: 0.038707
Poison Train Epoch: 7 	Loss: 0.065718
Poison Train Epoch: 8 	Loss: 0.173183
Poison Train Epoch: 9 	Loss: 0.091621
Poison Train Epoch: 10 	Loss: 0.073656
Poison Train Epoch: 11 	Loss: 0.037010
Poison Train Epoch: 12 	Loss: 0.310324
Poison Train Epoch: 13 	Loss: 0.051540
Poison Train Epoch: 14 	Loss: 0.056499
Poison Train Epoch: 15 	Loss: 0.111035
Poison Train Epoch: 16 	Loss: 0.078312
Poison Train Epoch: 17 	Loss: 0.080385
Poison Train Epoch: 18 	Loss: 0.039282
Poison Train Epoch: 19 	Loss: 0.115054
Test set:local_Trigger1_localPoison Accuracy: 3910/4000 (98%)
___Test : epoch: 1980: Average loss: 0.0541, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.054100588505715135
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 21.057421684265137 sec.
select client [717, 764, 980, 755, 884, 324, 494, 433, 627, 858]
l2 norm of benign user before server clipping 0.07993852198123932
l2 norm of benign user after server clipping 0.07993852198123932
___Test : epoch: 1981: Average loss: 0.0539, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05393623060286045
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.558969974517822 sec.
select client [479, 77, 865, 317, 384, 892, 937, 583, 32, 427]
l2 norm of benign user before server clipping 0.1113850511610508
l2 norm of benign user after server clipping 0.1113850511610508
___Test : epoch: 1982: Average loss: 0.1175, Accuracy: 38336/40000.0 (95.8400%)
benign test loss (after fedavg) 0.11754064973294735
benign test acc (after fedavg) 95.84
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 38336/40000 (96%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.477850914001465 sec.
select client [332, 540, 256, 980, 246, 453, 63, 951, 512, 287]
l2 norm of benign user before server clipping 0.10828546807169914
l2 norm of benign user after server clipping 0.10828546807169914
___Test : epoch: 1983: Average loss: 0.0584, Accuracy: 39288/40000.0 (98.2200%)
benign test loss (after fedavg) 0.058433277732133866
benign test acc (after fedavg) 98.22
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39288/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.591495990753174 sec.
select client [129, 26, 676, 554, 456, 564, 107, 434, 334, 573]
l2 norm of benign user before server clipping 0.07370338067412377
l2 norm of benign user after server clipping 0.07370338067412377
___Test : epoch: 1984: Average loss: 0.0535, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05347407530099153
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.584078073501587 sec.
select client [787, 97, 862, 997, 32, 356, 728, 803, 418]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.06833275283376376
l2 norm of benign user after server clipping 0.06833275283376376
Poison Train Epoch: 0 	Loss: 0.156228
Poison Train Epoch: 1 	Loss: 0.080188
Poison Train Epoch: 2 	Loss: 0.151783
Poison Train Epoch: 3 	Loss: 0.118963
Poison Train Epoch: 4 	Loss: 0.012416
Poison Train Epoch: 5 	Loss: 0.081428
Poison Train Epoch: 6 	Loss: 0.125324
Poison Train Epoch: 7 	Loss: 0.042798
Poison Train Epoch: 8 	Loss: 0.033127
Poison Train Epoch: 9 	Loss: 0.011994
Poison Train Epoch: 10 	Loss: 0.056122
Poison Train Epoch: 11 	Loss: 0.026593
Poison Train Epoch: 12 	Loss: 0.010137
Poison Train Epoch: 13 	Loss: 0.007413
Poison Train Epoch: 14 	Loss: 0.006438
Poison Train Epoch: 15 	Loss: 0.048684
Poison Train Epoch: 16 	Loss: 0.081082
Poison Train Epoch: 17 	Loss: 0.005040
Poison Train Epoch: 18 	Loss: 0.036668
Poison Train Epoch: 19 	Loss: 0.023564
Test set:local_Trigger2_localPoison Accuracy: 3995/4000 (100%)
___Test : epoch: 1985: Average loss: 0.0567, Accuracy: 39317/40000.0 (98.2925%)
benign test loss (after fedavg) 0.05666712676435709
benign test acc (after fedavg) 98.2925
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 141/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 26/4000 (1%)
Test set:Main Accuracy: 39317/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 20.91594648361206 sec.
select client [510, 975, 711, 824, 37, 422, 550, 694, 504, 89]
l2 norm of benign user before server clipping 0.06293348446488381
l2 norm of benign user after server clipping 0.06293348446488381
___Test : epoch: 1986: Average loss: 0.0528, Accuracy: 39385/40000.0 (98.4625%)
benign test loss (after fedavg) 0.05278967637568712
benign test acc (after fedavg) 98.46249999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 65/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39385/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.547930479049683 sec.
select client [736, 742, 677, 959, 656, 546, 136, 882, 815, 850]
l2 norm of benign user before server clipping 0.06314650587737561
l2 norm of benign user after server clipping 0.06314650587737561
___Test : epoch: 1987: Average loss: 0.0553, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05529945397377014
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 38/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.550947666168213 sec.
select client [24, 214, 494, 972, 976, 153, 869, 844, 433, 885]
l2 norm of benign user before server clipping 0.06525962352752686
l2 norm of benign user after server clipping 0.06525962352752686
___Test : epoch: 1988: Average loss: 0.0583, Accuracy: 39294/40000.0 (98.2350%)
benign test loss (after fedavg) 0.058271840258687736
benign test acc (after fedavg) 98.235
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 52/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39294/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.501434087753296 sec.
select client [309, 712, 962, 254, 304, 34, 801, 632, 716, 520]
l2 norm of benign user before server clipping 0.05474953800439834
l2 norm of benign user after server clipping 0.05474953800439834
___Test : epoch: 1989: Average loss: 0.0533, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05326443850547075
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.53023099899292 sec.
select client [222, 938, 819, 634, 20, 500, 46, 922, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.04552167612645361
l2 norm of benign user after server clipping 0.04552167612645361
Poison Train Epoch: 0 	Loss: 0.070457
Poison Train Epoch: 1 	Loss: 0.152982
Poison Train Epoch: 2 	Loss: 0.072324
Poison Train Epoch: 3 	Loss: 0.053883
Poison Train Epoch: 4 	Loss: 0.123620
Poison Train Epoch: 5 	Loss: 0.093754
Poison Train Epoch: 6 	Loss: 0.115677
Poison Train Epoch: 7 	Loss: 0.051483
Poison Train Epoch: 8 	Loss: 0.079340
Poison Train Epoch: 9 	Loss: 0.116492
Poison Train Epoch: 10 	Loss: 0.005221
Poison Train Epoch: 11 	Loss: 0.022422
Poison Train Epoch: 12 	Loss: 0.064760
Poison Train Epoch: 13 	Loss: 0.148452
Poison Train Epoch: 14 	Loss: 0.091901
Poison Train Epoch: 15 	Loss: 0.031052
Poison Train Epoch: 16 	Loss: 0.032854
Poison Train Epoch: 17 	Loss: 0.033745
Poison Train Epoch: 18 	Loss: 0.017334
Poison Train Epoch: 19 	Loss: 0.045649
Test set:local_Trigger3_localPoison Accuracy: 3917/4000 (98%)
___Test : epoch: 1990: Average loss: 0.0552, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.055157983005046846
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 117/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 20.734804153442383 sec.
select client [416, 463, 310, 709, 174, 644, 757, 91, 287, 746]
l2 norm of benign user before server clipping 0.047997531853616236
l2 norm of benign user after server clipping 0.047997531853616236
___Test : epoch: 1991: Average loss: 0.0527, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.052739047916978594
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 46/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.735718488693237 sec.
select client [875, 611, 364, 144, 239, 924, 762, 180, 870, 914]
l2 norm of benign user before server clipping 0.0397772379219532
l2 norm of benign user after server clipping 0.0397772379219532
___Test : epoch: 1992: Average loss: 0.0549, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05486380579397082
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 52/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.5796959400177 sec.
select client [11, 846, 436, 197, 212, 879, 718, 626, 342, 86]
l2 norm of benign user before server clipping 0.03900324497371912
l2 norm of benign user after server clipping 0.03900324497371912
___Test : epoch: 1993: Average loss: 0.0550, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05498002764135599
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 8/4000 (0%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.537589311599731 sec.
select client [451, 188, 562, 289, 757, 472, 471, 84, 446, 854]
l2 norm of benign user before server clipping 0.04261240810155868
l2 norm of benign user after server clipping 0.04261240810155868
___Test : epoch: 1994: Average loss: 0.0546, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.054633236131072044
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 31/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.711050987243652 sec.
select client [184, 513, 802, 343, 101, 599, 188, 821, 58]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.031708374722964235
l2 norm of benign user after server clipping 0.031708374722964235
Poison Train Epoch: 0 	Loss: 0.029377
Poison Train Epoch: 1 	Loss: 0.039655
Poison Train Epoch: 2 	Loss: 0.027275
Poison Train Epoch: 3 	Loss: 0.013016
Poison Train Epoch: 4 	Loss: 0.102984
Poison Train Epoch: 5 	Loss: 0.037008
Poison Train Epoch: 6 	Loss: 0.007575
Poison Train Epoch: 7 	Loss: 0.126009
Poison Train Epoch: 8 	Loss: 0.076003
Poison Train Epoch: 9 	Loss: 0.018674
Poison Train Epoch: 10 	Loss: 0.050408
Poison Train Epoch: 11 	Loss: 0.029338
Poison Train Epoch: 12 	Loss: 0.022718
Poison Train Epoch: 13 	Loss: 0.043880
Poison Train Epoch: 14 	Loss: 0.011515
Poison Train Epoch: 15 	Loss: 0.039610
Poison Train Epoch: 16 	Loss: 0.135916
Poison Train Epoch: 17 	Loss: 0.054374
Poison Train Epoch: 18 	Loss: 0.103050
Poison Train Epoch: 19 	Loss: 0.075399
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 1995: Average loss: 0.0547, Accuracy: 39315/40000.0 (98.2875%)
benign test loss (after fedavg) 0.05466608929634094
benign test acc (after fedavg) 98.28750000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 34/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39315/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 21.02738881111145 sec.
select client [145, 292, 383, 212, 548, 367, 131, 101, 541, 652]
l2 norm of benign user before server clipping 0.03469544369727373
l2 norm of benign user after server clipping 0.03469544369727373
___Test : epoch: 1996: Average loss: 0.0548, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.05484389621168375
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 41/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 5/4000 (0%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.766054391860962 sec.
select client [278, 693, 855, 981, 25, 996, 561, 119, 962, 223]
l2 norm of benign user before server clipping 0.021589712891727685
l2 norm of benign user after server clipping 0.021589712891727685
___Test : epoch: 1997: Average loss: 0.0541, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.054122859960794446
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.575933456420898 sec.
select client [29, 99, 74, 387, 849, 703, 168, 802, 228, 679]
l2 norm of benign user before server clipping 0.011502023320645094
l2 norm of benign user after server clipping 0.011502023320645094
___Test : epoch: 1998: Average loss: 0.0534, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05336529102623463
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.620196342468262 sec.
select client [103, 570, 967, 408, 907, 726, 960, 759, 836, 70]
l2 norm of benign user before server clipping 0.006677769729867578
l2 norm of benign user after server clipping 0.006677769729867578
___Test : epoch: 1999: Average loss: 0.0529, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.05291305026710033
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.541724920272827 sec.
select client [321, 827, 91, 516, 262, 283, 132, 557, 862]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007190956837601132
l2 norm of benign user after server clipping 0.007190956837601132
Poison Train Epoch: 0 	Loss: 0.092267
Poison Train Epoch: 1 	Loss: 0.124214
Poison Train Epoch: 2 	Loss: 0.061217
Poison Train Epoch: 3 	Loss: 0.052397
Poison Train Epoch: 4 	Loss: 0.033840
Poison Train Epoch: 5 	Loss: 0.030850
Poison Train Epoch: 6 	Loss: 0.031662
Poison Train Epoch: 7 	Loss: 0.022651
Poison Train Epoch: 8 	Loss: 0.112648
Poison Train Epoch: 9 	Loss: 0.091698
Poison Train Epoch: 10 	Loss: 0.236312
Poison Train Epoch: 11 	Loss: 0.125151
Poison Train Epoch: 12 	Loss: 0.055509
Poison Train Epoch: 13 	Loss: 0.013938
Poison Train Epoch: 14 	Loss: 0.043585
Poison Train Epoch: 15 	Loss: 0.087484
Poison Train Epoch: 16 	Loss: 0.014832
Poison Train Epoch: 17 	Loss: 0.057138
Poison Train Epoch: 18 	Loss: 0.009625
Poison Train Epoch: 19 	Loss: 0.121682
Test set:local_Trigger1_localPoison Accuracy: 3892/4000 (97%)
___Test : epoch: 2000: Average loss: 0.0548, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.05483882287740707
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 106/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 21.36725091934204 sec.
select client [243, 897, 881, 585, 937, 800, 823, 218, 321, 219]
l2 norm of benign user before server clipping 0.005639353999868035
l2 norm of benign user after server clipping 0.005639353999868035
___Test : epoch: 2001: Average loss: 0.0544, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.054398317652195695
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 108/4000 (3%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.694032907485962 sec.
select client [936, 503, 895, 738, 995, 37, 934, 20, 699, 578]
l2 norm of benign user before server clipping 0.008369374671019614
l2 norm of benign user after server clipping 0.008369374671019614
___Test : epoch: 2002: Average loss: 0.0534, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.053438481000065804
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 84/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.631633520126343 sec.
select client [490, 823, 286, 837, 43, 89, 875, 285, 755, 315]
l2 norm of benign user before server clipping 0.005086214223410934
l2 norm of benign user after server clipping 0.005086214223410934
___Test : epoch: 2003: Average loss: 0.0533, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.053250809779018166
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 84/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.556367874145508 sec.
select client [512, 353, 104, 779, 231, 449, 352, 581, 76, 62]
l2 norm of benign user before server clipping 0.0063424472697079185
l2 norm of benign user after server clipping 0.0063424472697079185
___Test : epoch: 2004: Average loss: 0.0536, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05360324498414993
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 73/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.503407955169678 sec.
select client [22, 250, 584, 199, 108, 74, 719, 353, 275]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00457613542675972
l2 norm of benign user after server clipping 0.00457613542675972
Poison Train Epoch: 0 	Loss: 0.172412
Poison Train Epoch: 1 	Loss: 0.020250
Poison Train Epoch: 2 	Loss: 0.086127
Poison Train Epoch: 3 	Loss: 0.055010
Poison Train Epoch: 4 	Loss: 0.069419
Poison Train Epoch: 5 	Loss: 0.039127
Poison Train Epoch: 6 	Loss: 0.020880
Poison Train Epoch: 7 	Loss: 0.042112
Poison Train Epoch: 8 	Loss: 0.028630
Poison Train Epoch: 9 	Loss: 0.098336
Poison Train Epoch: 10 	Loss: 0.039025
Poison Train Epoch: 11 	Loss: 0.004139
Poison Train Epoch: 12 	Loss: 0.012701
Poison Train Epoch: 13 	Loss: 0.008491
Poison Train Epoch: 14 	Loss: 0.073624
Poison Train Epoch: 15 	Loss: 0.026192
Poison Train Epoch: 16 	Loss: 0.039315
Poison Train Epoch: 17 	Loss: 0.016654
Poison Train Epoch: 18 	Loss: 0.083942
Poison Train Epoch: 19 	Loss: 0.076754
Test set:local_Trigger2_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 2005: Average loss: 0.0543, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.05433995600789785
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 225/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 20.856066703796387 sec.
select client [152, 603, 293, 997, 105, 958, 871, 628, 330, 193]
l2 norm of benign user before server clipping 0.005738007021136582
l2 norm of benign user after server clipping 0.005738007021136582
___Test : epoch: 2006: Average loss: 0.0539, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05393408805206418
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 209/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 11.625144243240356 sec.
select client [65, 501, 709, 748, 625, 132, 504, 600, 952, 942]
l2 norm of benign user before server clipping 0.004927042382769286
l2 norm of benign user after server clipping 0.004927042382769286
___Test : epoch: 2007: Average loss: 0.0536, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.053584617295861246
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 181/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 11.479299545288086 sec.
select client [505, 205, 23, 901, 317, 728, 751, 602, 48, 576]
l2 norm of benign user before server clipping 0.004827059409581125
l2 norm of benign user after server clipping 0.004827059409581125
___Test : epoch: 2008: Average loss: 0.0537, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.053670073713362215
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 168/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.524101495742798 sec.
select client [108, 440, 184, 396, 66, 350, 579, 668, 753, 950]
l2 norm of benign user before server clipping 0.005651984130963683
l2 norm of benign user after server clipping 0.005651984130963683
___Test : epoch: 2009: Average loss: 0.0531, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05314694110006094
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 160/4000 (4%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.636794805526733 sec.
select client [299, 587, 187, 936, 86, 761, 264, 21, 653]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005572499707341194
l2 norm of benign user after server clipping 0.005572499707341194
Poison Train Epoch: 0 	Loss: 0.049364
Poison Train Epoch: 1 	Loss: 0.122579
Poison Train Epoch: 2 	Loss: 0.035495
Poison Train Epoch: 3 	Loss: 0.073428
Poison Train Epoch: 4 	Loss: 0.194187
Poison Train Epoch: 5 	Loss: 0.039975
Poison Train Epoch: 6 	Loss: 0.049503
Poison Train Epoch: 7 	Loss: 0.037886
Poison Train Epoch: 8 	Loss: 0.126340
Poison Train Epoch: 9 	Loss: 0.125511
Poison Train Epoch: 10 	Loss: 0.260226
Poison Train Epoch: 11 	Loss: 0.018253
Poison Train Epoch: 12 	Loss: 0.188859
Poison Train Epoch: 13 	Loss: 0.070122
Poison Train Epoch: 14 	Loss: 0.077759
Poison Train Epoch: 15 	Loss: 0.034191
Poison Train Epoch: 16 	Loss: 0.058123
Poison Train Epoch: 17 	Loss: 0.052505
Poison Train Epoch: 18 	Loss: 0.065578
Poison Train Epoch: 19 	Loss: 0.015975
Test set:local_Trigger3_localPoison Accuracy: 3938/4000 (98%)
___Test : epoch: 2010: Average loss: 0.0564, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.056362262426316735
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 456/4000 (11%)
Test set:local_Trigger3Poison Accuracy: 36/4000 (1%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 5/4000 (0%)
Done in 20.8675479888916 sec.
select client [365, 576, 490, 796, 790, 899, 954, 318, 376, 127]
l2 norm of benign user before server clipping 0.0036730557447299363
l2 norm of benign user after server clipping 0.0036730557447299363
___Test : epoch: 2011: Average loss: 0.0558, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05577183417081833
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 410/4000 (10%)
Test set:local_Trigger3Poison Accuracy: 32/4000 (1%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 4/4000 (0%)
Done in 11.4292893409729 sec.
select client [972, 686, 227, 582, 53, 965, 992, 465, 431, 415]
l2 norm of benign user before server clipping 0.0037350220722146333
l2 norm of benign user after server clipping 0.0037350220722146333
___Test : epoch: 2012: Average loss: 0.0554, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.05539958081766963
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 365/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 28/4000 (1%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3/4000 (0%)
Done in 11.520008563995361 sec.
select client [594, 192, 444, 579, 249, 52, 701, 940, 160, 519]
l2 norm of benign user before server clipping 0.007694603758864105
l2 norm of benign user after server clipping 0.007694603758864105
___Test : epoch: 2013: Average loss: 0.0546, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05458350340798497
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 301/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.704586267471313 sec.
select client [801, 640, 526, 699, 254, 111, 591, 855, 979, 126]
l2 norm of benign user before server clipping 0.0067512546200305225
l2 norm of benign user after server clipping 0.0067512546200305225
___Test : epoch: 2014: Average loss: 0.0541, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.054145171757787464
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 258/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.719526767730713 sec.
select client [21, 212, 604, 700, 449, 692, 492, 148, 261]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0072500322324534254
l2 norm of benign user after server clipping 0.0072500322324534254
Poison Train Epoch: 0 	Loss: 0.054890
Poison Train Epoch: 1 	Loss: 0.016906
Poison Train Epoch: 2 	Loss: 0.245258
Poison Train Epoch: 3 	Loss: 0.026497
Poison Train Epoch: 4 	Loss: 0.024034
Poison Train Epoch: 5 	Loss: 0.016607
Poison Train Epoch: 6 	Loss: 0.376212
Poison Train Epoch: 7 	Loss: 0.058966
Poison Train Epoch: 8 	Loss: 0.006323
Poison Train Epoch: 9 	Loss: 0.022761
Poison Train Epoch: 10 	Loss: 0.070500
Poison Train Epoch: 11 	Loss: 0.046388
Poison Train Epoch: 12 	Loss: 0.018197
Poison Train Epoch: 13 	Loss: 0.026384
Poison Train Epoch: 14 	Loss: 0.060070
Poison Train Epoch: 15 	Loss: 0.004108
Poison Train Epoch: 16 	Loss: 0.005157
Poison Train Epoch: 17 	Loss: 0.038028
Poison Train Epoch: 18 	Loss: 0.024851
Poison Train Epoch: 19 	Loss: 0.048986
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2015: Average loss: 0.0550, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.054967493879795076
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 124/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 322/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 28/4000 (1%)
Done in 21.09093141555786 sec.
select client [236, 386, 454, 124, 489, 35, 578, 268, 875, 606]
l2 norm of benign user before server clipping 0.008091405360028147
l2 norm of benign user after server clipping 0.008091405360028147
___Test : epoch: 2016: Average loss: 0.0541, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.054065796932578084
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 114/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 262/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 27/4000 (1%)
Done in 11.703891515731812 sec.
select client [328, 258, 795, 174, 238, 204, 44, 20, 473, 443]
l2 norm of benign user before server clipping 0.0038203283795155583
l2 norm of benign user after server clipping 0.0038203283795155583
___Test : epoch: 2017: Average loss: 0.0540, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05398185482174158
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 118/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 255/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 28/4000 (1%)
Done in 11.485695362091064 sec.
select client [349, 769, 62, 214, 134, 489, 513, 142, 316, 240]
l2 norm of benign user before server clipping 0.006148041039705276
l2 norm of benign user after server clipping 0.006148041039705276
___Test : epoch: 2018: Average loss: 0.0538, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.053831092903018
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 102/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 229/4000 (6%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 27/4000 (1%)
Done in 11.653056383132935 sec.
select client [354, 253, 871, 732, 718, 541, 948, 311, 375, 63]
l2 norm of benign user before server clipping 0.0046346467803232375
l2 norm of benign user after server clipping 0.0046346467803232375
___Test : epoch: 2019: Average loss: 0.0536, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.0536466800108552
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 100/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 210/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 27/4000 (1%)
Done in 11.535934686660767 sec.
select client [25, 194, 94, 874, 325, 349, 612, 837, 981]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004302216538538535
l2 norm of benign user after server clipping 0.004302216538538535
Poison Train Epoch: 0 	Loss: 0.061474
Poison Train Epoch: 1 	Loss: 0.036207
Poison Train Epoch: 2 	Loss: 0.050482
Poison Train Epoch: 3 	Loss: 0.017626
Poison Train Epoch: 4 	Loss: 0.009252
Poison Train Epoch: 5 	Loss: 0.031360
Poison Train Epoch: 6 	Loss: 0.062146
Poison Train Epoch: 7 	Loss: 0.210713
Poison Train Epoch: 8 	Loss: 0.089732
Poison Train Epoch: 9 	Loss: 0.046975
Poison Train Epoch: 10 	Loss: 0.115235
Poison Train Epoch: 11 	Loss: 0.044216
Poison Train Epoch: 12 	Loss: 0.239421
Poison Train Epoch: 13 	Loss: 0.087739
Poison Train Epoch: 14 	Loss: 0.146491
Poison Train Epoch: 15 	Loss: 0.028115
Poison Train Epoch: 16 	Loss: 0.051458
Poison Train Epoch: 17 	Loss: 0.026401
Poison Train Epoch: 18 	Loss: 0.045491
Poison Train Epoch: 19 	Loss: 0.058231
Test set:local_Trigger1_localPoison Accuracy: 3900/4000 (98%)
___Test : epoch: 2020: Average loss: 0.0580, Accuracy: 39305/40000.0 (98.2625%)
benign test loss (after fedavg) 0.057972003251314165
benign test acc (after fedavg) 98.2625
Test set:local_Trigger0Poison Accuracy: 221/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 608/4000 (15%)
Test set:local_Trigger3Poison Accuracy: 42/4000 (1%)
Test set:Main Accuracy: 39305/40000 (98%)
Test set:Global Trigger Poison Accuracy: 47/4000 (1%)
Done in 20.78135871887207 sec.
select client [779, 12, 323, 846, 425, 926, 35, 626, 391, 181]
l2 norm of benign user before server clipping 0.008590955124236643
l2 norm of benign user after server clipping 0.008590955124236643
___Test : epoch: 2021: Average loss: 0.0565, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.0564928320415318
benign test acc (after fedavg) 98.27749999999999
Test set:local_Trigger0Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 457/4000 (11%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39311/40000 (98%)
Test set:Global Trigger Poison Accuracy: 41/4000 (1%)
Done in 11.583088159561157 sec.
select client [311, 422, 452, 485, 460, 777, 509, 439, 568, 125]
l2 norm of benign user before server clipping 0.00651435109321028
l2 norm of benign user after server clipping 0.00651435109321028
___Test : epoch: 2022: Average loss: 0.0556, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.055556205503642556
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 160/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 355/4000 (9%)
Test set:local_Trigger3Poison Accuracy: 20/4000 (0%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 37/4000 (1%)
Done in 11.734276533126831 sec.
select client [780, 104, 565, 362, 237, 875, 295, 343, 71, 450]
l2 norm of benign user before server clipping 0.006594697199761868
l2 norm of benign user after server clipping 0.006594697199761868
___Test : epoch: 2023: Average loss: 0.0548, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.054848899807035924
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 139/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 315/4000 (8%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 28/4000 (1%)
Done in 11.525424242019653 sec.
select client [466, 354, 323, 571, 986, 686, 421, 676, 684, 851]
l2 norm of benign user before server clipping 0.005409995431546122
l2 norm of benign user after server clipping 0.005409995431546122
___Test : epoch: 2024: Average loss: 0.0547, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.054704036381095646
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 129/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 281/4000 (7%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 27/4000 (1%)
Done in 11.609891891479492 sec.
select client [880, 279, 283, 843, 468, 866, 53, 797, 435]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0075770455360826515
l2 norm of benign user after server clipping 0.0075770455360826515
Poison Train Epoch: 0 	Loss: 0.180169
Poison Train Epoch: 1 	Loss: 0.025958
Poison Train Epoch: 2 	Loss: 0.110967
Poison Train Epoch: 3 	Loss: 0.030182
Poison Train Epoch: 4 	Loss: 0.177859
Poison Train Epoch: 5 	Loss: 0.073511
Poison Train Epoch: 6 	Loss: 0.164428
Poison Train Epoch: 7 	Loss: 0.036270
Poison Train Epoch: 8 	Loss: 0.008344
Poison Train Epoch: 9 	Loss: 0.031556
Poison Train Epoch: 10 	Loss: 0.090098
Poison Train Epoch: 11 	Loss: 0.044692
Poison Train Epoch: 12 	Loss: 0.073519
Poison Train Epoch: 13 	Loss: 0.063283
Poison Train Epoch: 14 	Loss: 0.102903
Poison Train Epoch: 15 	Loss: 0.025041
Poison Train Epoch: 16 	Loss: 0.062123
Poison Train Epoch: 17 	Loss: 0.006935
Poison Train Epoch: 18 	Loss: 0.059841
Poison Train Epoch: 19 	Loss: 0.168417
Test set:local_Trigger2_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 2025: Average loss: 0.0563, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05625173200145364
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 151/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 765/4000 (19%)
Test set:local_Trigger3Poison Accuracy: 27/4000 (1%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 61/4000 (2%)
Done in 21.000553131103516 sec.
select client [860, 59, 781, 560, 691, 514, 980, 330, 106, 214]
l2 norm of benign user before server clipping 0.005311903194524348
l2 norm of benign user after server clipping 0.005311903194524348
___Test : epoch: 2026: Average loss: 0.0558, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05581905967667699
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 144/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 680/4000 (17%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 57/4000 (1%)
Done in 11.511044263839722 sec.
select client [970, 603, 765, 516, 701, 936, 375, 189, 828, 532]
l2 norm of benign user before server clipping 0.005797686846926808
l2 norm of benign user after server clipping 0.005797686846926808
___Test : epoch: 2027: Average loss: 0.0557, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.05569966778531671
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 147/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 629/4000 (16%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 59/4000 (1%)
Done in 11.698652744293213 sec.
select client [749, 99, 64, 284, 71, 262, 238, 592, 109, 365]
l2 norm of benign user before server clipping 0.005456342920660972
l2 norm of benign user after server clipping 0.005456342920660972
___Test : epoch: 2028: Average loss: 0.0553, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.05532757873758674
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 126/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 537/4000 (13%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 52/4000 (1%)
Done in 11.590255975723267 sec.
select client [558, 46, 811, 470, 362, 382, 456, 993, 125, 697]
l2 norm of benign user before server clipping 0.004862507153302431
l2 norm of benign user after server clipping 0.004862507153302431
___Test : epoch: 2029: Average loss: 0.0553, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.05531234729513526
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 134/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 55/4000 (1%)
Done in 11.522919654846191 sec.
select client [63, 874, 672, 738, 322, 554, 185, 646, 82]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0054114889094813
l2 norm of benign user after server clipping 0.0054114889094813
Poison Train Epoch: 0 	Loss: 0.098180
Poison Train Epoch: 1 	Loss: 0.169411
Poison Train Epoch: 2 	Loss: 0.125408
Poison Train Epoch: 3 	Loss: 0.038576
Poison Train Epoch: 4 	Loss: 0.032295
Poison Train Epoch: 5 	Loss: 0.027454
Poison Train Epoch: 6 	Loss: 0.039661
Poison Train Epoch: 7 	Loss: 0.017116
Poison Train Epoch: 8 	Loss: 0.137059
Poison Train Epoch: 9 	Loss: 0.050939
Poison Train Epoch: 10 	Loss: 0.063030
Poison Train Epoch: 11 	Loss: 0.017621
Poison Train Epoch: 12 	Loss: 0.019042
Poison Train Epoch: 13 	Loss: 0.118486
Poison Train Epoch: 14 	Loss: 0.082490
Poison Train Epoch: 15 	Loss: 0.095164
Poison Train Epoch: 16 	Loss: 0.166220
Poison Train Epoch: 17 	Loss: 0.011626
Poison Train Epoch: 18 	Loss: 0.022891
Poison Train Epoch: 19 	Loss: 0.068673
Test set:local_Trigger3_localPoison Accuracy: 3925/4000 (98%)
___Test : epoch: 2030: Average loss: 0.0606, Accuracy: 39271/40000.0 (98.1775%)
benign test loss (after fedavg) 0.0605901653572917
benign test acc (after fedavg) 98.1775
Test set:local_Trigger0Poison Accuracy: 297/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 49/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1367/4000 (34%)
Test set:local_Trigger3Poison Accuracy: 60/4000 (2%)
Test set:Main Accuracy: 39271/40000 (98%)
Test set:Global Trigger Poison Accuracy: 120/4000 (3%)
Done in 21.04455018043518 sec.
select client [56, 106, 764, 380, 18, 178, 915, 48, 386, 564]
l2 norm of benign user before server clipping 0.006307641288731247
l2 norm of benign user after server clipping 0.006307641288731247
___Test : epoch: 2031: Average loss: 0.0590, Accuracy: 39289/40000.0 (98.2225%)
benign test loss (after fedavg) 0.05903265985995531
benign test acc (after fedavg) 98.2225
Test set:local_Trigger0Poison Accuracy: 271/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1175/4000 (29%)
Test set:local_Trigger3Poison Accuracy: 44/4000 (1%)
Test set:Main Accuracy: 39289/40000 (98%)
Test set:Global Trigger Poison Accuracy: 107/4000 (3%)
Done in 11.602991342544556 sec.
select client [398, 824, 52, 571, 847, 454, 500, 964, 963, 692]
l2 norm of benign user before server clipping 0.007183950254693627
l2 norm of benign user after server clipping 0.007183950254693627
___Test : epoch: 2032: Average loss: 0.0575, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.057500721782445904
benign test acc (after fedavg) 98.27749999999999
Test set:local_Trigger0Poison Accuracy: 224/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1010/4000 (25%)
Test set:local_Trigger3Poison Accuracy: 32/4000 (1%)
Test set:Main Accuracy: 39311/40000 (98%)
Test set:Global Trigger Poison Accuracy: 76/4000 (2%)
Done in 11.525354146957397 sec.
select client [70, 404, 181, 697, 552, 561, 627, 483, 895, 355]
l2 norm of benign user before server clipping 0.0058932797983288765
l2 norm of benign user after server clipping 0.0058932797983288765
___Test : epoch: 2033: Average loss: 0.0567, Accuracy: 39323/40000.0 (98.3075%)
benign test loss (after fedavg) 0.05670650236904621
benign test acc (after fedavg) 98.3075
Test set:local_Trigger0Poison Accuracy: 191/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 905/4000 (23%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39323/40000 (98%)
Test set:Global Trigger Poison Accuracy: 66/4000 (2%)
Done in 11.605811357498169 sec.
select client [435, 774, 173, 747, 113, 985, 109, 783, 655, 580]
l2 norm of benign user before server clipping 0.005226179398596287
l2 norm of benign user after server clipping 0.005226179398596287
___Test : epoch: 2034: Average loss: 0.0560, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.055995232556015254
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 172/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 759/4000 (19%)
Test set:local_Trigger3Poison Accuracy: 25/4000 (1%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 63/4000 (2%)
Done in 11.408970832824707 sec.
select client [731, 813, 242, 987, 791, 998, 777, 628, 485]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005790401379474335
l2 norm of benign user after server clipping 0.005790401379474335
Poison Train Epoch: 0 	Loss: 0.070377
Poison Train Epoch: 1 	Loss: 0.059945
Poison Train Epoch: 2 	Loss: 0.006537
Poison Train Epoch: 3 	Loss: 0.028933
Poison Train Epoch: 4 	Loss: 0.011992
Poison Train Epoch: 5 	Loss: 0.098965
Poison Train Epoch: 6 	Loss: 0.018528
Poison Train Epoch: 7 	Loss: 0.047534
Poison Train Epoch: 8 	Loss: 0.017354
Poison Train Epoch: 9 	Loss: 0.023460
Poison Train Epoch: 10 	Loss: 0.014975
Poison Train Epoch: 11 	Loss: 0.195105
Poison Train Epoch: 12 	Loss: 0.029094
Poison Train Epoch: 13 	Loss: 0.048393
Poison Train Epoch: 14 	Loss: 0.042482
Poison Train Epoch: 15 	Loss: 0.040075
Poison Train Epoch: 16 	Loss: 0.007627
Poison Train Epoch: 17 	Loss: 0.075321
Poison Train Epoch: 18 	Loss: 0.015609
Poison Train Epoch: 19 	Loss: 0.032004
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2035: Average loss: 0.0572, Accuracy: 39317/40000.0 (98.2925%)
benign test loss (after fedavg) 0.05716096397489309
benign test acc (after fedavg) 98.2925
Test set:local_Trigger0Poison Accuracy: 632/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 808/4000 (20%)
Test set:local_Trigger3Poison Accuracy: 28/4000 (1%)
Test set:Main Accuracy: 39317/40000 (98%)
Test set:Global Trigger Poison Accuracy: 338/4000 (8%)
Done in 20.907657623291016 sec.
select client [587, 253, 396, 912, 53, 420, 889, 850, 905, 145]
l2 norm of benign user before server clipping 0.005418117984663695
l2 norm of benign user after server clipping 0.005418117984663695
___Test : epoch: 2036: Average loss: 0.0564, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.05641403032317758
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 606/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 776/4000 (19%)
Test set:local_Trigger3Poison Accuracy: 27/4000 (1%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 320/4000 (8%)
Done in 11.478336095809937 sec.
select client [541, 599, 789, 573, 179, 549, 516, 416, 844, 937]
l2 norm of benign user before server clipping 0.006166887353174388
l2 norm of benign user after server clipping 0.006166887353174388
___Test : epoch: 2037: Average loss: 0.0557, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.055735532953590156
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 579/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 693/4000 (17%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 307/4000 (8%)
Done in 11.5482816696167 sec.
select client [155, 307, 115, 736, 933, 166, 228, 487, 848, 353]
l2 norm of benign user before server clipping 0.005440916458610445
l2 norm of benign user after server clipping 0.005440916458610445
___Test : epoch: 2038: Average loss: 0.0549, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05488045974597335
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 546/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 633/4000 (16%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 283/4000 (7%)
Done in 11.525902032852173 sec.
select client [296, 520, 763, 482, 36, 576, 590, 370, 483, 593]
l2 norm of benign user before server clipping 0.005877339828293771
l2 norm of benign user after server clipping 0.005877339828293771
___Test : epoch: 2039: Average loss: 0.0545, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.054508245991170406
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 516/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 568/4000 (14%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 266/4000 (7%)
Done in 11.530330896377563 sec.
select client [21, 148, 412, 638, 341, 58, 987, 789, 170]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006803625056313144
l2 norm of benign user after server clipping 0.006803625056313144
Poison Train Epoch: 0 	Loss: 0.057916
Poison Train Epoch: 1 	Loss: 0.083418
Poison Train Epoch: 2 	Loss: 0.018111
Poison Train Epoch: 3 	Loss: 0.091186
Poison Train Epoch: 4 	Loss: 0.395812
Poison Train Epoch: 5 	Loss: 0.182912
Poison Train Epoch: 6 	Loss: 0.086874
Poison Train Epoch: 7 	Loss: 0.149470
Poison Train Epoch: 8 	Loss: 0.053280
Poison Train Epoch: 9 	Loss: 0.081203
Poison Train Epoch: 10 	Loss: 0.050114
Poison Train Epoch: 11 	Loss: 0.206331
Poison Train Epoch: 12 	Loss: 0.287036
Poison Train Epoch: 13 	Loss: 0.111995
Poison Train Epoch: 14 	Loss: 0.047118
Poison Train Epoch: 15 	Loss: 0.047048
Poison Train Epoch: 16 	Loss: 0.007119
Poison Train Epoch: 17 	Loss: 0.040894
Poison Train Epoch: 18 	Loss: 0.070655
Poison Train Epoch: 19 	Loss: 0.194431
Test set:local_Trigger1_localPoison Accuracy: 3925/4000 (98%)
___Test : epoch: 2040: Average loss: 0.0602, Accuracy: 39283/40000.0 (98.2075%)
benign test loss (after fedavg) 0.060243561896681785
benign test acc (after fedavg) 98.20750000000001
Test set:local_Trigger0Poison Accuracy: 783/4000 (20%)
Test set:local_Trigger1Poison Accuracy: 42/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1378/4000 (34%)
Test set:local_Trigger3Poison Accuracy: 53/4000 (1%)
Test set:Main Accuracy: 39283/40000 (98%)
Test set:Global Trigger Poison Accuracy: 419/4000 (10%)
Done in 21.063983917236328 sec.
select client [50, 430, 558, 872, 487, 997, 213, 399, 936, 524]
l2 norm of benign user before server clipping 0.00601959393825382
l2 norm of benign user after server clipping 0.00601959393825382
___Test : epoch: 2041: Average loss: 0.0584, Accuracy: 39313/40000.0 (98.2825%)
benign test loss (after fedavg) 0.058426921401917936
benign test acc (after fedavg) 98.2825
Test set:local_Trigger0Poison Accuracy: 747/4000 (19%)
Test set:local_Trigger1Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1160/4000 (29%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39313/40000 (98%)
Test set:Global Trigger Poison Accuracy: 406/4000 (10%)
Done in 11.59425973892212 sec.
select client [466, 383, 227, 208, 556, 117, 560, 597, 698, 679]
l2 norm of benign user before server clipping 0.006908369599841535
l2 norm of benign user after server clipping 0.006908369599841535
___Test : epoch: 2042: Average loss: 0.0571, Accuracy: 39323/40000.0 (98.3075%)
benign test loss (after fedavg) 0.05714966487586498
benign test acc (after fedavg) 98.3075
Test set:local_Trigger0Poison Accuracy: 718/4000 (18%)
Test set:local_Trigger1Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 992/4000 (25%)
Test set:local_Trigger3Poison Accuracy: 31/4000 (1%)
Test set:Main Accuracy: 39323/40000 (98%)
Test set:Global Trigger Poison Accuracy: 380/4000 (10%)
Done in 11.741811037063599 sec.
select client [523, 965, 503, 609, 338, 307, 558, 849, 856, 254]
l2 norm of benign user before server clipping 0.005487503344193101
l2 norm of benign user after server clipping 0.005487503344193101
___Test : epoch: 2043: Average loss: 0.0563, Accuracy: 39328/40000.0 (98.3200%)
benign test loss (after fedavg) 0.05630847079306841
benign test acc (after fedavg) 98.32
Test set:local_Trigger0Poison Accuracy: 683/4000 (17%)
Test set:local_Trigger1Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 850/4000 (21%)
Test set:local_Trigger3Poison Accuracy: 28/4000 (1%)
Test set:Main Accuracy: 39328/40000 (98%)
Test set:Global Trigger Poison Accuracy: 353/4000 (9%)
Done in 11.447478532791138 sec.
select client [570, 914, 819, 517, 706, 257, 29, 66, 705, 416]
l2 norm of benign user before server clipping 0.006018580566160381
l2 norm of benign user after server clipping 0.006018580566160381
___Test : epoch: 2044: Average loss: 0.0558, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05576971193104983
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 640/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 760/4000 (19%)
Test set:local_Trigger3Poison Accuracy: 24/4000 (1%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 325/4000 (8%)
Done in 11.651023626327515 sec.
select client [325, 978, 406, 924, 134, 507, 847, 394, 782]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005513819374351038
l2 norm of benign user after server clipping 0.005513819374351038
Poison Train Epoch: 0 	Loss: 0.010528
Poison Train Epoch: 1 	Loss: 0.062908
Poison Train Epoch: 2 	Loss: 0.025150
Poison Train Epoch: 3 	Loss: 0.090498
Poison Train Epoch: 4 	Loss: 0.013950
Poison Train Epoch: 5 	Loss: 0.036875
Poison Train Epoch: 6 	Loss: 0.071463
Poison Train Epoch: 7 	Loss: 0.075237
Poison Train Epoch: 8 	Loss: 0.035535
Poison Train Epoch: 9 	Loss: 0.018217
Poison Train Epoch: 10 	Loss: 0.039220
Poison Train Epoch: 11 	Loss: 0.072817
Poison Train Epoch: 12 	Loss: 0.053961
Poison Train Epoch: 13 	Loss: 0.054776
Poison Train Epoch: 14 	Loss: 0.089394
Poison Train Epoch: 15 	Loss: 0.027776
Poison Train Epoch: 16 	Loss: 0.031450
Poison Train Epoch: 17 	Loss: 0.064354
Poison Train Epoch: 18 	Loss: 0.086819
Poison Train Epoch: 19 	Loss: 0.018891
Test set:local_Trigger2_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 2045: Average loss: 0.0583, Accuracy: 39308/40000.0 (98.2700%)
benign test loss (after fedavg) 0.058305397067964074
benign test acc (after fedavg) 98.27
Test set:local_Trigger0Poison Accuracy: 718/4000 (18%)
Test set:local_Trigger1Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1606/4000 (40%)
Test set:local_Trigger3Poison Accuracy: 38/4000 (1%)
Test set:Main Accuracy: 39308/40000 (98%)
Test set:Global Trigger Poison Accuracy: 579/4000 (14%)
Done in 20.971205234527588 sec.
select client [224, 928, 881, 86, 13, 665, 201, 408, 575, 592]
l2 norm of benign user before server clipping 0.006651420216076076
l2 norm of benign user after server clipping 0.006651420216076076
___Test : epoch: 2046: Average loss: 0.0572, Accuracy: 39319/40000.0 (98.2975%)
benign test loss (after fedavg) 0.057211299607157706
benign test acc (after fedavg) 98.2975
Test set:local_Trigger0Poison Accuracy: 674/4000 (17%)
Test set:local_Trigger1Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1360/4000 (34%)
Test set:local_Trigger3Poison Accuracy: 29/4000 (1%)
Test set:Main Accuracy: 39319/40000 (98%)
Test set:Global Trigger Poison Accuracy: 537/4000 (13%)
Done in 11.58620834350586 sec.
select client [711, 910, 902, 449, 926, 735, 123, 124, 848, 185]
l2 norm of benign user before server clipping 0.005758690100628882
l2 norm of benign user after server clipping 0.005758690100628882
___Test : epoch: 2047: Average loss: 0.0566, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.05658425942063332
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 650/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1170/4000 (29%)
Test set:local_Trigger3Poison Accuracy: 25/4000 (1%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 508/4000 (13%)
Done in 11.543927431106567 sec.
select client [265, 109, 332, 14, 493, 171, 441, 683, 345, 468]
l2 norm of benign user before server clipping 0.006682329997420311
l2 norm of benign user after server clipping 0.006682329997420311
___Test : epoch: 2048: Average loss: 0.0565, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.056509193848073486
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 625/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1061/4000 (27%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 492/4000 (12%)
Done in 11.528899192810059 sec.
select client [16, 101, 331, 50, 666, 242, 937, 968, 226, 832]
l2 norm of benign user before server clipping 0.004967104597017169
l2 norm of benign user after server clipping 0.004967104597017169
___Test : epoch: 2049: Average loss: 0.0562, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.056168850795924666
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 600/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 936/4000 (23%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 461/4000 (12%)
Done in 11.542318344116211 sec.
select client [541, 820, 644, 122, 151, 942, 390, 742, 499]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006033473674000965
l2 norm of benign user after server clipping 0.006033473674000965
Poison Train Epoch: 0 	Loss: 0.044706
Poison Train Epoch: 1 	Loss: 0.083764
Poison Train Epoch: 2 	Loss: 0.006869
Poison Train Epoch: 3 	Loss: 0.155272
Poison Train Epoch: 4 	Loss: 0.046106
Poison Train Epoch: 5 	Loss: 0.030965
Poison Train Epoch: 6 	Loss: 0.205975
Poison Train Epoch: 7 	Loss: 0.014136
Poison Train Epoch: 8 	Loss: 0.106123
Poison Train Epoch: 9 	Loss: 0.111388
Poison Train Epoch: 10 	Loss: 0.033199
Poison Train Epoch: 11 	Loss: 0.017811
Poison Train Epoch: 12 	Loss: 0.022214
Poison Train Epoch: 13 	Loss: 0.178811
Poison Train Epoch: 14 	Loss: 0.011601
Poison Train Epoch: 15 	Loss: 0.078558
Poison Train Epoch: 16 	Loss: 0.014946
Poison Train Epoch: 17 	Loss: 0.215102
Poison Train Epoch: 18 	Loss: 0.045175
Poison Train Epoch: 19 	Loss: 0.061469
Test set:local_Trigger3_localPoison Accuracy: 3923/4000 (98%)
___Test : epoch: 2050: Average loss: 0.0614, Accuracy: 39270/40000.0 (98.1750%)
benign test loss (after fedavg) 0.0614038497582078
benign test acc (after fedavg) 98.175
Test set:local_Trigger0Poison Accuracy: 832/4000 (21%)
Test set:local_Trigger1Poison Accuracy: 54/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1973/4000 (49%)
Test set:local_Trigger3Poison Accuracy: 63/4000 (2%)
Test set:Main Accuracy: 39270/40000 (98%)
Test set:Global Trigger Poison Accuracy: 625/4000 (16%)
Done in 21.338207960128784 sec.
select client [74, 263, 249, 390, 886, 101, 477, 226, 769, 317]
l2 norm of benign user before server clipping 0.007184189301915467
l2 norm of benign user after server clipping 0.007184189301915467
___Test : epoch: 2051: Average loss: 0.0590, Accuracy: 39302/40000.0 (98.2550%)
benign test loss (after fedavg) 0.05898689269423485
benign test acc (after fedavg) 98.25500000000001
Test set:local_Trigger0Poison Accuracy: 729/4000 (18%)
Test set:local_Trigger1Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1702/4000 (43%)
Test set:local_Trigger3Poison Accuracy: 38/4000 (1%)
Test set:Main Accuracy: 39302/40000 (98%)
Test set:Global Trigger Poison Accuracy: 536/4000 (13%)
Done in 11.614959716796875 sec.
select client [619, 812, 873, 36, 697, 585, 385, 999, 524, 33]
l2 norm of benign user before server clipping 0.007551372842863202
l2 norm of benign user after server clipping 0.007551372842863202
___Test : epoch: 2052: Average loss: 0.0580, Accuracy: 39313/40000.0 (98.2825%)
benign test loss (after fedavg) 0.058004761104285714
benign test acc (after fedavg) 98.2825
Test set:local_Trigger0Poison Accuracy: 703/4000 (18%)
Test set:local_Trigger1Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 1449/4000 (36%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39313/40000 (98%)
Test set:Global Trigger Poison Accuracy: 504/4000 (13%)
Done in 11.66752290725708 sec.
select client [618, 729, 502, 403, 350, 660, 833, 83, 646, 696]
l2 norm of benign user before server clipping 0.006298886798322201
l2 norm of benign user after server clipping 0.006298886798322201
___Test : epoch: 2053: Average loss: 0.0564, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.05644248321354389
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 680/4000 (17%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1182/4000 (30%)
Test set:local_Trigger3Poison Accuracy: 23/4000 (1%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 503/4000 (13%)
Done in 11.444963693618774 sec.
select client [631, 136, 878, 35, 839, 963, 584, 671, 433, 685]
l2 norm of benign user before server clipping 0.006779196066781878
l2 norm of benign user after server clipping 0.006779196066781878
___Test : epoch: 2054: Average loss: 0.0557, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05568005022406578
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 628/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 919/4000 (23%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 458/4000 (11%)
Done in 11.63739538192749 sec.

-------------------------------------------------------------------------------------------------------------

/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0570, Accuracy: 39299/40000.0 (98.2475%)
Origin Pretrained Model: benign test loss (after fedavg) 0.05704424796551466
Origin Pretrained Model: benign test acc (after fedavg) 98.2475
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.35936533510684965
l2 norm of benign user after server clipping 0.3298554688692093
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.1491, Accuracy: 38146/40000.0 (95.3650%)
benign test loss (after fedavg) 0.14907165170311928
benign test acc (after fedavg) 95.365
Done in 2.6027841567993164 sec.
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.2476455345749855
l2 norm of benign user after server clipping 0.2476455345749855
___Test : epoch: 1951: Average loss: 0.0800, Accuracy: 39015/40000.0 (97.5375%)
benign test loss (after fedavg) 0.08000702436864376
benign test acc (after fedavg) 97.5375
Done in 2.6627042293548584 sec.
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.16461090594530106
l2 norm of benign user after server clipping 0.16461090594530106
___Test : epoch: 1952: Average loss: 0.0743, Accuracy: 39057/40000.0 (97.6425%)
benign test loss (after fedavg) 0.07431873207837343
benign test acc (after fedavg) 97.6425
Done in 2.3265788555145264 sec.
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.20620566755533218
l2 norm of benign user after server clipping 0.20620566755533218
___Test : epoch: 1953: Average loss: 0.0727, Accuracy: 39082/40000.0 (97.7050%)
benign test loss (after fedavg) 0.07266453208774329
benign test acc (after fedavg) 97.705
Done in 2.4469478130340576 sec.
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.17789121195673943
l2 norm of benign user after server clipping 0.17789121195673943
___Test : epoch: 1954: Average loss: 0.0702, Accuracy: 39167/40000.0 (97.9175%)
benign test loss (after fedavg) 0.07019793550670148
benign test acc (after fedavg) 97.9175
Done in 2.5491693019866943 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.2644854552216
l2 norm of benign user after server clipping 0.23597646090719435
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger0 loss tensor(29.2916, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(0.8652, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(0.0017, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(1.6954e-07, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.5527e-11, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.151770
Poison Train Epoch: 1 	Loss: 0.132338
Poison Train Epoch: 2 	Loss: 0.106519
Poison Train Epoch: 3 	Loss: 0.056153
Poison Train Epoch: 4 	Loss: 0.077635
Poison Train Epoch: 5 	Loss: 0.036670
Poison Train Epoch: 6 	Loss: 0.010700
Poison Train Epoch: 7 	Loss: 0.032617
Poison Train Epoch: 8 	Loss: 0.092636
Poison Train Epoch: 9 	Loss: 0.001743
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1955: Average loss: 0.1369, Accuracy: 38239/40000.0 (95.5975%)
benign test loss (after fedavg) 0.13690399519205093
benign test acc (after fedavg) 95.5975
Done in 10.605157136917114 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.22207462787628174
l2 norm of benign user after server clipping 0.22207462787628174
___Test : epoch: 1956: Average loss: 0.0750, Accuracy: 39082/40000.0 (97.7050%)
benign test loss (after fedavg) 0.07496314582228661
benign test acc (after fedavg) 97.705
Done in 2.4388163089752197 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.1550645112991333
l2 norm of benign user after server clipping 0.1550645112991333
___Test : epoch: 1957: Average loss: 0.0831, Accuracy: 38948/40000.0 (97.3700%)
benign test loss (after fedavg) 0.08308547409325838
benign test acc (after fedavg) 97.37
Done in 2.500431537628174 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.21588621959090232
l2 norm of benign user after server clipping 0.21588621959090232
___Test : epoch: 1958: Average loss: 0.0661, Accuracy: 39173/40000.0 (97.9325%)
benign test loss (after fedavg) 0.06607013719677925
benign test acc (after fedavg) 97.9325
Done in 2.6798644065856934 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.13949315547943114
l2 norm of benign user after server clipping 0.13949315547943114
___Test : epoch: 1959: Average loss: 0.0702, Accuracy: 39096/40000.0 (97.7400%)
benign test loss (after fedavg) 0.0702434897467494
benign test acc (after fedavg) 97.74000000000001
Done in 2.2811169624328613 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.16469021141529083
l2 norm of benign user after server clipping 0.16469021141529083
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger1 loss tensor(35.7893, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(35.1179, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(34.6420, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(34.4091, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(34.1712, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.146472
Poison Train Epoch: 1 	Loss: 0.096353
Poison Train Epoch: 2 	Loss: 0.030045
Poison Train Epoch: 3 	Loss: 0.115652
Poison Train Epoch: 4 	Loss: 0.207925
Poison Train Epoch: 5 	Loss: 0.053691
Poison Train Epoch: 6 	Loss: 0.076173
Poison Train Epoch: 7 	Loss: 0.161304
Poison Train Epoch: 8 	Loss: 0.028758
Poison Train Epoch: 9 	Loss: 0.114088
Test set:local_Trigger1_localPoison Accuracy: 3897/4000 (97%)
___Test : epoch: 1960: Average loss: 0.0661, Accuracy: 39184/40000.0 (97.9600%)
benign test loss (after fedavg) 0.0660804363489151
benign test acc (after fedavg) 97.96000000000001
Done in 10.484553575515747 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.11608343422412873
l2 norm of benign user after server clipping 0.11608343422412873
___Test : epoch: 1961: Average loss: 0.0586, Accuracy: 39308/40000.0 (98.2700%)
benign test loss (after fedavg) 0.058631404982507226
benign test acc (after fedavg) 98.27
Done in 2.254178285598755 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.12825470715761184
l2 norm of benign user after server clipping 0.12825470715761184
___Test : epoch: 1962: Average loss: 0.0608, Accuracy: 39241/40000.0 (98.1025%)
benign test loss (after fedavg) 0.06076770198345184
benign test acc (after fedavg) 98.1025
Done in 2.399223566055298 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.1188562385737896
l2 norm of benign user after server clipping 0.1188562385737896
___Test : epoch: 1963: Average loss: 0.0672, Accuracy: 39184/40000.0 (97.9600%)
benign test loss (after fedavg) 0.06719564716666937
benign test acc (after fedavg) 97.96000000000001
Done in 2.3115062713623047 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.12937240898609162
l2 norm of benign user after server clipping 0.12937240898609162
___Test : epoch: 1964: Average loss: 0.0683, Accuracy: 39140/40000.0 (97.8500%)
benign test loss (after fedavg) 0.06830327550917864
benign test acc (after fedavg) 97.85000000000001
Done in 2.4076387882232666 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14540530244509378
l2 norm of benign user after server clipping 0.14540530244509378
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger2 loss tensor(36.3571, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(36.2700, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(36.2729, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(36.2745, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(36.2728, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.033419
Poison Train Epoch: 1 	Loss: 0.149741
Poison Train Epoch: 2 	Loss: 0.055384
Poison Train Epoch: 3 	Loss: 0.028150
Poison Train Epoch: 4 	Loss: 0.036228
Poison Train Epoch: 5 	Loss: 0.093965
Poison Train Epoch: 6 	Loss: 0.083243
Poison Train Epoch: 7 	Loss: 0.075968
Poison Train Epoch: 8 	Loss: 0.269212
Poison Train Epoch: 9 	Loss: 0.135689
Test set:local_Trigger2_localPoison Accuracy: 3918/4000 (98%)
___Test : epoch: 1965: Average loss: 0.0601, Accuracy: 39273/40000.0 (98.1825%)
benign test loss (after fedavg) 0.06009983598440886
benign test acc (after fedavg) 98.18249999999999
Done in 10.428967714309692 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.1351072795689106
l2 norm of benign user after server clipping 0.1351072795689106
___Test : epoch: 1966: Average loss: 0.0611, Accuracy: 39283/40000.0 (98.2075%)
benign test loss (after fedavg) 0.061149502189457416
benign test acc (after fedavg) 98.20750000000001
Done in 2.3947556018829346 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.12617493346333503
l2 norm of benign user after server clipping 0.12617493346333503
___Test : epoch: 1967: Average loss: 0.0629, Accuracy: 39238/40000.0 (98.0950%)
benign test loss (after fedavg) 0.06288496658653021
benign test acc (after fedavg) 98.095
Done in 2.323214530944824 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.12656264379620552
l2 norm of benign user after server clipping 0.12656264379620552
___Test : epoch: 1968: Average loss: 0.0596, Accuracy: 39271/40000.0 (98.1775%)
benign test loss (after fedavg) 0.059648054908216
benign test acc (after fedavg) 98.1775
Done in 2.35629940032959 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.3953522391617298
l2 norm of benign user after server clipping 0.16284290030598642
___Test : epoch: 1969: Average loss: 0.1286, Accuracy: 38461/40000.0 (96.1525%)
benign test loss (after fedavg) 0.12858157364726067
benign test acc (after fedavg) 96.1525
Done in 2.403395175933838 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.20891892164945602
l2 norm of benign user after server clipping 0.20891892164945602
Total Count of Neuro 44426
Selected Count of Neuro 222
Gen Trigger3 loss tensor(31.8615, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(30.4871, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(29.2559, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(28.0949, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(27.2314, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.155138
Poison Train Epoch: 1 	Loss: 0.084510
Poison Train Epoch: 2 	Loss: 0.104265
Poison Train Epoch: 3 	Loss: 0.023292
Poison Train Epoch: 4 	Loss: 0.115525
Poison Train Epoch: 5 	Loss: 0.017438
Poison Train Epoch: 6 	Loss: 0.036310
Poison Train Epoch: 7 	Loss: 0.079821
Poison Train Epoch: 8 	Loss: 0.006067
Poison Train Epoch: 9 	Loss: 0.068408
Test set:local_Trigger3_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 1970: Average loss: 0.0808, Accuracy: 39051/40000.0 (97.6275%)
benign test loss (after fedavg) 0.08075853240787984
benign test acc (after fedavg) 97.6275
Done in 10.477012157440186 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.1231242649257183
l2 norm of benign user after server clipping 0.1231242649257183
___Test : epoch: 1971: Average loss: 0.0637, Accuracy: 39262/40000.0 (98.1550%)
benign test loss (after fedavg) 0.0636814918205142
benign test acc (after fedavg) 98.155
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 73/4000 (2%)
Test set:Main Accuracy: 39262/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.549095153808594 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.09978860169649124
l2 norm of benign user after server clipping 0.09978860169649124
___Test : epoch: 1972: Average loss: 0.0657, Accuracy: 39218/40000.0 (98.0450%)
benign test loss (after fedavg) 0.06574368657171727
benign test acc (after fedavg) 98.045
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 6/4000 (0%)
Test set:Main Accuracy: 39218/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.412380456924438 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.11189853399991989
l2 norm of benign user after server clipping 0.11189853399991989
___Test : epoch: 1973: Average loss: 0.0637, Accuracy: 39235/40000.0 (98.0875%)
benign test loss (after fedavg) 0.06372583333998919
benign test acc (after fedavg) 98.0875
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 70/4000 (2%)
Test set:Main Accuracy: 39235/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.528895378112793 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.10046471618115901
l2 norm of benign user after server clipping 0.10046471618115901
___Test : epoch: 1974: Average loss: 0.0658, Accuracy: 39214/40000.0 (98.0350%)
benign test loss (after fedavg) 0.06579860655367374
benign test acc (after fedavg) 98.03500000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39214/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.465724468231201 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.08742279849118656
l2 norm of benign user after server clipping 0.08742279849118656
Poison Train Epoch: 0 	Loss: 0.114249
Poison Train Epoch: 1 	Loss: 0.047192
Poison Train Epoch: 2 	Loss: 0.023146
Poison Train Epoch: 3 	Loss: 0.075407
Poison Train Epoch: 4 	Loss: 0.064100
Poison Train Epoch: 5 	Loss: 0.082741
Poison Train Epoch: 6 	Loss: 0.016551
Poison Train Epoch: 7 	Loss: 0.145438
Poison Train Epoch: 8 	Loss: 0.047123
Poison Train Epoch: 9 	Loss: 0.023314
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 1975: Average loss: 0.0592, Accuracy: 39312/40000.0 (98.2800%)
benign test loss (after fedavg) 0.05915406292527914
benign test acc (after fedavg) 98.28
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 74/4000 (2%)
Test set:Main Accuracy: 39312/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 16.653756141662598 sec.
select client [469, 900, 957, 46, 717, 616, 357, 837, 662, 422]
l2 norm of benign user before server clipping 0.08549543842673302
l2 norm of benign user after server clipping 0.08549543842673302
___Test : epoch: 1976: Average loss: 0.0602, Accuracy: 39286/40000.0 (98.2150%)
benign test loss (after fedavg) 0.06020452401041985
benign test acc (after fedavg) 98.215
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39286/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.442516565322876 sec.
select client [713, 519, 68, 971, 277, 147, 891, 721, 547, 729]
l2 norm of benign user before server clipping 0.0898766852915287
l2 norm of benign user after server clipping 0.0898766852915287
___Test : epoch: 1977: Average loss: 0.0604, Accuracy: 39274/40000.0 (98.1850%)
benign test loss (after fedavg) 0.060378384640812875
benign test acc (after fedavg) 98.185
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 26/4000 (1%)
Test set:Main Accuracy: 39274/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.41847038269043 sec.
select client [897, 638, 411, 424, 310, 164, 246, 512, 509, 841]
l2 norm of benign user before server clipping 0.09398528039455414
l2 norm of benign user after server clipping 0.09398528039455414
___Test : epoch: 1978: Average loss: 0.0613, Accuracy: 39254/40000.0 (98.1350%)
benign test loss (after fedavg) 0.061321558319032195
benign test acc (after fedavg) 98.13499999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39254/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.38516879081726 sec.
select client [190, 767, 803, 862, 585, 646, 73, 684, 536, 936]
l2 norm of benign user before server clipping 0.11011957563459873
l2 norm of benign user after server clipping 0.11011957563459873
___Test : epoch: 1979: Average loss: 0.0582, Accuracy: 39295/40000.0 (98.2375%)
benign test loss (after fedavg) 0.05824042039066553
benign test acc (after fedavg) 98.2375
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39295/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.47367000579834 sec.
select client [214, 489, 93, 716, 518, 651, 85, 202, 721]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07533587060040897
l2 norm of benign user after server clipping 0.07533587060040897
Poison Train Epoch: 0 	Loss: 0.552854
Poison Train Epoch: 1 	Loss: 0.092416
Poison Train Epoch: 2 	Loss: 0.108634
Poison Train Epoch: 3 	Loss: 0.247425
Poison Train Epoch: 4 	Loss: 0.159736
Poison Train Epoch: 5 	Loss: 0.214349
Poison Train Epoch: 6 	Loss: 0.331295
Poison Train Epoch: 7 	Loss: 0.163508
Poison Train Epoch: 8 	Loss: 0.027565
Poison Train Epoch: 9 	Loss: 0.066162
Test set:local_Trigger1_localPoison Accuracy: 3901/4000 (98%)
___Test : epoch: 1980: Average loss: 0.0585, Accuracy: 39289/40000.0 (98.2225%)
benign test loss (after fedavg) 0.05845768298208714
benign test acc (after fedavg) 98.2225
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 49/4000 (1%)
Test set:Main Accuracy: 39289/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 16.832879066467285 sec.
select client [717, 764, 980, 755, 884, 324, 494, 433, 627, 858]
l2 norm of benign user before server clipping 0.08164427950978279
l2 norm of benign user after server clipping 0.08164427950978279
___Test : epoch: 1981: Average loss: 0.0591, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.059107989870011805
benign test acc (after fedavg) 98.27749999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 21/4000 (1%)
Test set:Main Accuracy: 39311/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.391739845275879 sec.
select client [479, 77, 865, 317, 384, 892, 937, 583, 32, 427]
l2 norm of benign user before server clipping 0.06753369681537151
l2 norm of benign user after server clipping 0.06753369681537151
___Test : epoch: 1982: Average loss: 0.0625, Accuracy: 39218/40000.0 (98.0450%)
benign test loss (after fedavg) 0.06247085610181093
benign test acc (after fedavg) 98.045
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39218/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.369821786880493 sec.
select client [332, 540, 256, 980, 246, 453, 63, 951, 512, 287]
l2 norm of benign user before server clipping 0.07388104759156704
l2 norm of benign user after server clipping 0.07388104759156704
___Test : epoch: 1983: Average loss: 0.0570, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05702506927996874
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 35/4000 (1%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.387511253356934 sec.
select client [129, 26, 676, 554, 456, 564, 107, 434, 334, 573]
l2 norm of benign user before server clipping 0.0690128717571497
l2 norm of benign user after server clipping 0.0690128717571497
___Test : epoch: 1984: Average loss: 0.0570, Accuracy: 39292/40000.0 (98.2300%)
benign test loss (after fedavg) 0.057001451912522316
benign test acc (after fedavg) 98.22999999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 20/4000 (0%)
Test set:Main Accuracy: 39292/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.437748432159424 sec.
select client [787, 97, 862, 997, 32, 356, 728, 803, 418]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07125333862172233
l2 norm of benign user after server clipping 0.07125333862172233
Poison Train Epoch: 0 	Loss: 0.090037
Poison Train Epoch: 1 	Loss: 0.269907
Poison Train Epoch: 2 	Loss: 0.199505
Poison Train Epoch: 3 	Loss: 0.190093
Poison Train Epoch: 4 	Loss: 0.005861
Poison Train Epoch: 5 	Loss: 0.108408
Poison Train Epoch: 6 	Loss: 0.272442
Poison Train Epoch: 7 	Loss: 0.165577
Poison Train Epoch: 8 	Loss: 0.102549
Poison Train Epoch: 9 	Loss: 0.033388
Test set:local_Trigger2_localPoison Accuracy: 3881/4000 (97%)
___Test : epoch: 1985: Average loss: 0.0595, Accuracy: 39288/40000.0 (98.2200%)
benign test loss (after fedavg) 0.05953927473574877
benign test acc (after fedavg) 98.22
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 315/4000 (8%)
Test set:Main Accuracy: 39288/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 16.893516540527344 sec.
select client [510, 975, 711, 824, 37, 422, 550, 694, 504, 89]
l2 norm of benign user before server clipping 0.07051519136875868
l2 norm of benign user after server clipping 0.07051519136875868
___Test : epoch: 1986: Average loss: 0.0586, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05857896568030119
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 76/4000 (2%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.398109197616577 sec.
select client [736, 742, 677, 959, 656, 546, 136, 882, 815, 850]
l2 norm of benign user before server clipping 0.05719289090484381
l2 norm of benign user after server clipping 0.05719289090484381
___Test : epoch: 1987: Average loss: 0.0596, Accuracy: 39285/40000.0 (98.2125%)
benign test loss (after fedavg) 0.05955386753231287
benign test acc (after fedavg) 98.2125
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 28/4000 (1%)
Test set:Main Accuracy: 39285/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.460741758346558 sec.
select client [24, 214, 494, 972, 976, 153, 869, 844, 433, 885]
l2 norm of benign user before server clipping 0.09330050572752953
l2 norm of benign user after server clipping 0.09330050572752953
___Test : epoch: 1988: Average loss: 0.0699, Accuracy: 39158/40000.0 (97.8950%)
benign test loss (after fedavg) 0.06989598810374736
benign test acc (after fedavg) 97.895
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 47/4000 (1%)
Test set:Main Accuracy: 39158/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.422523498535156 sec.
select client [309, 712, 962, 254, 304, 34, 801, 632, 716, 520]
l2 norm of benign user before server clipping 0.06862389333546162
l2 norm of benign user after server clipping 0.06862389333546162
___Test : epoch: 1989: Average loss: 0.0588, Accuracy: 39276/40000.0 (98.1900%)
benign test loss (after fedavg) 0.05884410121738911
benign test acc (after fedavg) 98.19
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 45/4000 (1%)
Test set:Main Accuracy: 39276/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.484859704971313 sec.
select client [222, 938, 819, 634, 20, 500, 46, 922, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.04854737098018328
l2 norm of benign user after server clipping 0.04854737098018328
Poison Train Epoch: 0 	Loss: 0.025481
Poison Train Epoch: 1 	Loss: 0.023580
Poison Train Epoch: 2 	Loss: 0.125299
Poison Train Epoch: 3 	Loss: 0.080140
Poison Train Epoch: 4 	Loss: 0.088497
Poison Train Epoch: 5 	Loss: 0.096201
Poison Train Epoch: 6 	Loss: 0.115966
Poison Train Epoch: 7 	Loss: 0.069901
Poison Train Epoch: 8 	Loss: 0.025002
Poison Train Epoch: 9 	Loss: 0.014629
Test set:local_Trigger3_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1990: Average loss: 0.0561, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.056099977830052376
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 203/4000 (5%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 16.74924945831299 sec.
select client [416, 463, 310, 709, 174, 644, 757, 91, 287, 746]
l2 norm of benign user before server clipping 0.05125963436439633
l2 norm of benign user after server clipping 0.05125963436439633
___Test : epoch: 1991: Average loss: 0.0566, Accuracy: 39305/40000.0 (98.2625%)
benign test loss (after fedavg) 0.05659403002858162
benign test acc (after fedavg) 98.2625
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 212/4000 (5%)
Test set:Main Accuracy: 39305/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.521239280700684 sec.
select client [875, 611, 364, 144, 239, 924, 762, 180, 870, 914]
l2 norm of benign user before server clipping 0.040978412702679635
l2 norm of benign user after server clipping 0.040978412702679635
___Test : epoch: 1992: Average loss: 0.0568, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05677073649764061
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 146/4000 (4%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.47285532951355 sec.
select client [11, 846, 436, 197, 212, 879, 718, 626, 342, 86]
l2 norm of benign user before server clipping 0.03469225578010082
l2 norm of benign user after server clipping 0.03469225578010082
___Test : epoch: 1993: Average loss: 0.0564, Accuracy: 39303/40000.0 (98.2575%)
benign test loss (after fedavg) 0.056422371129691604
benign test acc (after fedavg) 98.2575
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 165/4000 (4%)
Test set:Main Accuracy: 39303/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.35826587677002 sec.
select client [451, 188, 562, 289, 757, 472, 471, 84, 446, 854]
l2 norm of benign user before server clipping 0.0442621948197484
l2 norm of benign user after server clipping 0.0442621948197484
___Test : epoch: 1994: Average loss: 0.0579, Accuracy: 39288/40000.0 (98.2200%)
benign test loss (after fedavg) 0.05788716059476137
benign test acc (after fedavg) 98.22
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 98/4000 (2%)
Test set:Main Accuracy: 39288/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.562485456466675 sec.
select client [184, 513, 802, 343, 101, 599, 188, 821, 58]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.028453195053670142
l2 norm of benign user after server clipping 0.028453195053670142
Poison Train Epoch: 0 	Loss: 0.073832
Poison Train Epoch: 1 	Loss: 0.063501
Poison Train Epoch: 2 	Loss: 0.067931
Poison Train Epoch: 3 	Loss: 0.061431
Poison Train Epoch: 4 	Loss: 0.100766
Poison Train Epoch: 5 	Loss: 0.069004
Poison Train Epoch: 6 	Loss: 0.003969
Poison Train Epoch: 7 	Loss: 0.020404
Poison Train Epoch: 8 	Loss: 0.056208
Poison Train Epoch: 9 	Loss: 0.061095
Test set:local_Trigger0_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 1995: Average loss: 0.0574, Accuracy: 39299/40000.0 (98.2475%)
benign test loss (after fedavg) 0.05742056573629379
benign test acc (after fedavg) 98.2475
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 105/4000 (3%)
Test set:Main Accuracy: 39299/40000 (98%)
Test set:Global Trigger Poison Accuracy: 11/4000 (0%)
Done in 16.767032384872437 sec.
select client [145, 292, 383, 212, 548, 367, 131, 101, 541, 652]
l2 norm of benign user before server clipping 0.033554662857204674
l2 norm of benign user after server clipping 0.033554662857204674
___Test : epoch: 1996: Average loss: 0.0569, Accuracy: 39301/40000.0 (98.2525%)
benign test loss (after fedavg) 0.05688745148181915
benign test acc (after fedavg) 98.2525
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 133/4000 (3%)
Test set:Main Accuracy: 39301/40000 (98%)
Test set:Global Trigger Poison Accuracy: 7/4000 (0%)
Done in 11.620045185089111 sec.
select client [278, 693, 855, 981, 25, 996, 561, 119, 962, 223]
l2 norm of benign user before server clipping 0.02054302701726556
l2 norm of benign user after server clipping 0.02054302701726556
___Test : epoch: 1997: Average loss: 0.0565, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.0565188845038414
benign test acc (after fedavg) 98.3175
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 88/4000 (2%)
Test set:Main Accuracy: 39327/40000 (98%)
Test set:Global Trigger Poison Accuracy: 4/4000 (0%)
Done in 11.47435474395752 sec.
select client [29, 99, 74, 387, 849, 703, 168, 802, 228, 679]
l2 norm of benign user before server clipping 0.011129329120740295
l2 norm of benign user after server clipping 0.011129329120740295
___Test : epoch: 1998: Average loss: 0.0555, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05549938727766275
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 110/4000 (3%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 5/4000 (0%)
Done in 11.28618335723877 sec.
select client [103, 570, 967, 408, 907, 726, 960, 759, 836, 70]
l2 norm of benign user before server clipping 0.006742265028879047
l2 norm of benign user after server clipping 0.006742265028879047
___Test : epoch: 1999: Average loss: 0.0551, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.05514931450486183
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 118/4000 (3%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 5/4000 (0%)
Done in 11.453735113143921 sec.
select client [321, 827, 91, 516, 262, 283, 132, 557, 862]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0062654902123742634
l2 norm of benign user after server clipping 0.0062654902123742634
Poison Train Epoch: 0 	Loss: 0.051641
Poison Train Epoch: 1 	Loss: 0.075254
Poison Train Epoch: 2 	Loss: 0.097272
Poison Train Epoch: 3 	Loss: 0.236573
Poison Train Epoch: 4 	Loss: 0.115650
Poison Train Epoch: 5 	Loss: 0.084296
Poison Train Epoch: 6 	Loss: 0.051258
Poison Train Epoch: 7 	Loss: 0.107824
Poison Train Epoch: 8 	Loss: 0.239719
Poison Train Epoch: 9 	Loss: 0.053453
Test set:local_Trigger1_localPoison Accuracy: 3922/4000 (98%)
___Test : epoch: 2000: Average loss: 0.0565, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05647961043342948
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 550/4000 (14%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 24/4000 (1%)
Done in 16.963284492492676 sec.
select client [243, 897, 881, 585, 937, 800, 823, 218, 321, 219]
l2 norm of benign user before server clipping 0.005325476406142116
l2 norm of benign user after server clipping 0.005325476406142116
___Test : epoch: 2001: Average loss: 0.0563, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.056285907036066056
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 510/4000 (13%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 22/4000 (1%)
Done in 11.453591585159302 sec.
select client [936, 503, 895, 738, 995, 37, 934, 20, 699, 578]
l2 norm of benign user before server clipping 0.007619670871645212
l2 norm of benign user after server clipping 0.007619670871645212
___Test : epoch: 2002: Average loss: 0.0558, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05577794328853488
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 386/4000 (10%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 22/4000 (1%)
Done in 11.512654781341553 sec.
select client [490, 823, 286, 837, 43, 89, 875, 285, 755, 315]
l2 norm of benign user before server clipping 0.004964469373226166
l2 norm of benign user after server clipping 0.004964469373226166
___Test : epoch: 2003: Average loss: 0.0556, Accuracy: 39341/40000.0 (98.3525%)
benign test loss (after fedavg) 0.05557427131384611
benign test acc (after fedavg) 98.35249999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 398/4000 (10%)
Test set:Main Accuracy: 39341/40000 (98%)
Test set:Global Trigger Poison Accuracy: 22/4000 (1%)
Done in 11.47807765007019 sec.
select client [512, 353, 104, 779, 231, 449, 352, 581, 76, 62]
l2 norm of benign user before server clipping 0.005970691423863172
l2 norm of benign user after server clipping 0.005970691423863172
___Test : epoch: 2004: Average loss: 0.0558, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.055781855617463585
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 327/4000 (8%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 21/4000 (1%)
Done in 11.353631496429443 sec.
select client [22, 250, 584, 199, 108, 74, 719, 353, 275]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004188878073667486
l2 norm of benign user after server clipping 0.004188878073667486
Poison Train Epoch: 0 	Loss: 0.094959
Poison Train Epoch: 1 	Loss: 0.178797
Poison Train Epoch: 2 	Loss: 0.209015
Poison Train Epoch: 3 	Loss: 0.050319
Poison Train Epoch: 4 	Loss: 0.040568
Poison Train Epoch: 5 	Loss: 0.090382
Poison Train Epoch: 6 	Loss: 0.033146
Poison Train Epoch: 7 	Loss: 0.041511
Poison Train Epoch: 8 	Loss: 0.041215
Poison Train Epoch: 9 	Loss: 0.019867
Test set:local_Trigger2_localPoison Accuracy: 3870/4000 (97%)
___Test : epoch: 2005: Average loss: 0.0581, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.058059459655731914
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 25/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1091/4000 (27%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 53/4000 (1%)
Done in 16.770809173583984 sec.
select client [152, 603, 293, 997, 105, 958, 871, 628, 330, 193]
l2 norm of benign user before server clipping 0.005975232692435384
l2 norm of benign user after server clipping 0.005975232692435384
___Test : epoch: 2006: Average loss: 0.0575, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.057505511938035485
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 990/4000 (25%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 47/4000 (1%)
Done in 11.563487768173218 sec.
select client [65, 501, 709, 748, 625, 132, 504, 600, 952, 942]
l2 norm of benign user before server clipping 0.005421313224360347
l2 norm of benign user after server clipping 0.005421313224360347
___Test : epoch: 2007: Average loss: 0.0569, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05689786503463984
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 870/4000 (22%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 43/4000 (1%)
Done in 11.32525086402893 sec.
select client [505, 205, 23, 901, 317, 728, 751, 602, 48, 576]
l2 norm of benign user before server clipping 0.004836920346133411
l2 norm of benign user after server clipping 0.004836920346133411
___Test : epoch: 2008: Average loss: 0.0568, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.05677939377129078
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 763/4000 (19%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 39/4000 (1%)
Done in 11.412847757339478 sec.
select client [108, 440, 184, 396, 66, 350, 579, 668, 753, 950]
l2 norm of benign user before server clipping 0.005784162669442594
l2 norm of benign user after server clipping 0.005784162669442594
___Test : epoch: 2009: Average loss: 0.0561, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.056109991267323495
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 680/4000 (17%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 41/4000 (1%)
Done in 11.615667343139648 sec.
select client [299, 587, 187, 936, 86, 761, 264, 21, 653]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006145479054086738
l2 norm of benign user after server clipping 0.006145479054086738
Poison Train Epoch: 0 	Loss: 0.147516
Poison Train Epoch: 1 	Loss: 0.060925
Poison Train Epoch: 2 	Loss: 0.042534
Poison Train Epoch: 3 	Loss: 0.108818
Poison Train Epoch: 4 	Loss: 0.018176
Poison Train Epoch: 5 	Loss: 0.064853
Poison Train Epoch: 6 	Loss: 0.050775
Poison Train Epoch: 7 	Loss: 0.047907
Poison Train Epoch: 8 	Loss: 0.029313
Poison Train Epoch: 9 	Loss: 0.051252
Test set:local_Trigger3_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 2010: Average loss: 0.0572, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.05715518791899085
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1465/4000 (37%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 72/4000 (2%)
Done in 16.876877307891846 sec.
select client [365, 576, 490, 796, 790, 899, 954, 318, 376, 127]
l2 norm of benign user before server clipping 0.0038241920876316724
l2 norm of benign user after server clipping 0.0038241920876316724
___Test : epoch: 2011: Average loss: 0.0568, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05681775543987751
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1431/4000 (36%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 71/4000 (2%)
Done in 11.268762588500977 sec.
select client [972, 686, 227, 582, 53, 965, 992, 465, 431, 415]
l2 norm of benign user before server clipping 0.003308134077815339
l2 norm of benign user after server clipping 0.003308134077815339
___Test : epoch: 2012: Average loss: 0.0567, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05669531114548445
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1377/4000 (34%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 67/4000 (2%)
Done in 11.449251413345337 sec.
select client [594, 192, 444, 579, 249, 52, 701, 940, 160, 519]
l2 norm of benign user before server clipping 0.006710218940861523
l2 norm of benign user after server clipping 0.006710218940861523
___Test : epoch: 2013: Average loss: 0.0563, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.056320868971943855
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1273/4000 (32%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 49/4000 (1%)
Done in 11.551124334335327 sec.
select client [801, 640, 526, 699, 254, 111, 591, 855, 979, 126]
l2 norm of benign user before server clipping 0.0057318694423884155
l2 norm of benign user after server clipping 0.0057318694423884155
___Test : epoch: 2014: Average loss: 0.0563, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.056267234826087954
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1166/4000 (29%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 48/4000 (1%)
Done in 11.63765835762024 sec.
select client [21, 212, 604, 700, 449, 692, 492, 148, 261]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006361862243567076
l2 norm of benign user after server clipping 0.006361862243567076
Poison Train Epoch: 0 	Loss: 0.100717
Poison Train Epoch: 1 	Loss: 0.015462
Poison Train Epoch: 2 	Loss: 0.049214
Poison Train Epoch: 3 	Loss: 0.099921
Poison Train Epoch: 4 	Loss: 0.021455
Poison Train Epoch: 5 	Loss: 0.062920
Poison Train Epoch: 6 	Loss: 0.032194
Poison Train Epoch: 7 	Loss: 0.045997
Poison Train Epoch: 8 	Loss: 0.064019
Poison Train Epoch: 9 	Loss: 0.078426
Test set:local_Trigger0_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2015: Average loss: 0.0564, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.0564249854952097
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1302/4000 (33%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 245/4000 (6%)
Done in 16.879460096359253 sec.
select client [236, 386, 454, 124, 489, 35, 578, 268, 875, 606]
l2 norm of benign user before server clipping 0.007017749547958374
l2 norm of benign user after server clipping 0.007017749547958374
___Test : epoch: 2016: Average loss: 0.0559, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.0559295760512352
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1158/4000 (29%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 238/4000 (6%)
Done in 11.544248819351196 sec.
select client [328, 258, 795, 174, 238, 204, 44, 20, 473, 443]
l2 norm of benign user before server clipping 0.004020356805995107
l2 norm of benign user after server clipping 0.004020356805995107
___Test : epoch: 2017: Average loss: 0.0558, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.05581008417904377
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1155/4000 (29%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 240/4000 (6%)
Done in 11.402909994125366 sec.
select client [349, 769, 62, 214, 134, 489, 513, 142, 316, 240]
l2 norm of benign user before server clipping 0.006487730843946338
l2 norm of benign user after server clipping 0.006487730843946338
___Test : epoch: 2018: Average loss: 0.0557, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.05568601724654436
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1116/4000 (28%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 233/4000 (6%)
Done in 11.514455080032349 sec.
select client [354, 253, 871, 732, 718, 541, 948, 311, 375, 63]
l2 norm of benign user before server clipping 0.004409960156772285
l2 norm of benign user after server clipping 0.004409960156772285
___Test : epoch: 2019: Average loss: 0.0555, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05554434068650007
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1061/4000 (27%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 226/4000 (6%)
Done in 11.482946157455444 sec.
select client [25, 194, 94, 874, 325, 349, 612, 837, 981]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004457034196497666
l2 norm of benign user after server clipping 0.004457034196497666
Poison Train Epoch: 0 	Loss: 0.229453
Poison Train Epoch: 1 	Loss: 0.079479
Poison Train Epoch: 2 	Loss: 0.046483
Poison Train Epoch: 3 	Loss: 0.070500
Poison Train Epoch: 4 	Loss: 0.049037
Poison Train Epoch: 5 	Loss: 0.018100
Poison Train Epoch: 6 	Loss: 0.059572
Poison Train Epoch: 7 	Loss: 0.033889
Poison Train Epoch: 8 	Loss: 0.083012
Poison Train Epoch: 9 	Loss: 0.083607
Test set:local_Trigger1_localPoison Accuracy: 3906/4000 (98%)
___Test : epoch: 2020: Average loss: 0.0585, Accuracy: 39320/40000.0 (98.3000%)
benign test loss (after fedavg) 0.05854917022883892
benign test acc (after fedavg) 98.3
Test set:local_Trigger0Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1966/4000 (49%)
Test set:Main Accuracy: 39320/40000 (98%)
Test set:Global Trigger Poison Accuracy: 328/4000 (8%)
Done in 16.753262758255005 sec.
select client [779, 12, 323, 846, 425, 926, 35, 626, 391, 181]
l2 norm of benign user before server clipping 0.006045456696301699
l2 norm of benign user after server clipping 0.006045456696301699
___Test : epoch: 2021: Average loss: 0.0576, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.05764392242431641
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1767/4000 (44%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 302/4000 (8%)
Done in 11.511857748031616 sec.
select client [311, 422, 452, 485, 460, 777, 509, 439, 568, 125]
l2 norm of benign user before server clipping 0.00611876961775124
l2 norm of benign user after server clipping 0.00611876961775124
___Test : epoch: 2022: Average loss: 0.0572, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05717410812228918
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1601/4000 (40%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 289/4000 (7%)
Done in 11.570861577987671 sec.
select client [780, 104, 565, 362, 237, 875, 295, 343, 71, 450]
l2 norm of benign user before server clipping 0.005102156184148043
l2 norm of benign user after server clipping 0.005102156184148043
___Test : epoch: 2023: Average loss: 0.0567, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05669949437230826
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1567/4000 (39%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 268/4000 (7%)
Done in 11.529378890991211 sec.
select client [466, 354, 323, 571, 986, 686, 421, 676, 684, 851]
l2 norm of benign user before server clipping 0.005056931369472295
l2 norm of benign user after server clipping 0.005056931369472295
___Test : epoch: 2024: Average loss: 0.0566, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05661538650393486
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1426/4000 (36%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 260/4000 (6%)
Done in 11.558767318725586 sec.
select client [880, 279, 283, 843, 468, 866, 53, 797, 435]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006643542062698139
l2 norm of benign user after server clipping 0.006643542062698139
Poison Train Epoch: 0 	Loss: 0.065466
Poison Train Epoch: 1 	Loss: 0.031522
Poison Train Epoch: 2 	Loss: 0.280311
Poison Train Epoch: 3 	Loss: 0.079637
Poison Train Epoch: 4 	Loss: 0.170750
Poison Train Epoch: 5 	Loss: 0.021347
Poison Train Epoch: 6 	Loss: 0.026026
Poison Train Epoch: 7 	Loss: 0.086156
Poison Train Epoch: 8 	Loss: 0.286234
Poison Train Epoch: 9 	Loss: 0.021877
Test set:local_Trigger2_localPoison Accuracy: 3889/4000 (97%)
___Test : epoch: 2025: Average loss: 0.0604, Accuracy: 39303/40000.0 (98.2575%)
benign test loss (after fedavg) 0.060445697309076785
benign test acc (after fedavg) 98.2575
Test set:local_Trigger0Poison Accuracy: 41/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 2231/4000 (56%)
Test set:Main Accuracy: 39303/40000 (98%)
Test set:Global Trigger Poison Accuracy: 381/4000 (10%)
Done in 16.902979612350464 sec.
select client [860, 59, 781, 560, 691, 514, 980, 330, 106, 214]
l2 norm of benign user before server clipping 0.005787521763704717
l2 norm of benign user after server clipping 0.005787521763704717
___Test : epoch: 2026: Average loss: 0.0594, Accuracy: 39318/40000.0 (98.2950%)
benign test loss (after fedavg) 0.05941142716407776
benign test acc (after fedavg) 98.295
Test set:local_Trigger0Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger2Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 2054/4000 (51%)
Test set:Main Accuracy: 39318/40000 (98%)
Test set:Global Trigger Poison Accuracy: 346/4000 (9%)
Done in 11.436760902404785 sec.
select client [970, 603, 765, 516, 701, 936, 375, 189, 828, 532]
l2 norm of benign user before server clipping 0.0058357794769108295
l2 norm of benign user after server clipping 0.0058357794769108295
___Test : epoch: 2027: Average loss: 0.0589, Accuracy: 39320/40000.0 (98.3000%)
benign test loss (after fedavg) 0.05889391193687916
benign test acc (after fedavg) 98.3
Test set:local_Trigger0Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1892/4000 (47%)
Test set:Main Accuracy: 39320/40000 (98%)
Test set:Global Trigger Poison Accuracy: 341/4000 (9%)
Done in 11.504826784133911 sec.
select client [749, 99, 64, 284, 71, 262, 238, 592, 109, 365]
l2 norm of benign user before server clipping 0.00549295237287879
l2 norm of benign user after server clipping 0.00549295237287879
___Test : epoch: 2028: Average loss: 0.0584, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05835901952832937
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1814/4000 (45%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 338/4000 (8%)
Done in 11.480780839920044 sec.
select client [558, 46, 811, 470, 362, 382, 456, 993, 125, 697]
l2 norm of benign user before server clipping 0.004781580832786858
l2 norm of benign user after server clipping 0.004781580832786858
___Test : epoch: 2029: Average loss: 0.0582, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05817136842161417
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1766/4000 (44%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 340/4000 (8%)
Done in 11.58127737045288 sec.
select client [63, 874, 672, 738, 322, 554, 185, 646, 82]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004952083626348112
l2 norm of benign user after server clipping 0.004952083626348112
Poison Train Epoch: 0 	Loss: 0.155054
Poison Train Epoch: 1 	Loss: 0.051178
Poison Train Epoch: 2 	Loss: 0.061197
Poison Train Epoch: 3 	Loss: 0.123567
Poison Train Epoch: 4 	Loss: 0.087122
Poison Train Epoch: 5 	Loss: 0.204609
Poison Train Epoch: 6 	Loss: 0.015664
Poison Train Epoch: 7 	Loss: 0.029421
Poison Train Epoch: 8 	Loss: 0.043073
Poison Train Epoch: 9 	Loss: 0.027326
Test set:local_Trigger3_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 2030: Average loss: 0.0591, Accuracy: 39323/40000.0 (98.3075%)
benign test loss (after fedavg) 0.0590582386687398
benign test acc (after fedavg) 98.3075
Test set:local_Trigger0Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 2491/4000 (62%)
Test set:Main Accuracy: 39323/40000 (98%)
Test set:Global Trigger Poison Accuracy: 533/4000 (13%)
Done in 16.901891231536865 sec.
# 10 
----------------------------------------------------------------------------------------------

/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0570, Accuracy: 39299/40000.0 (98.2475%)
Origin Pretrained Model: benign test loss (after fedavg) 0.05704424796551466
Origin Pretrained Model: benign test acc (after fedavg) 98.2475
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.35936530232429503
l2 norm of benign user after server clipping 0.32985545992851256
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.1491, Accuracy: 38146/40000.0 (95.3650%)
benign test loss (after fedavg) 0.14907162425518036
benign test acc (after fedavg) 95.365
Done in 2.673591136932373 sec.
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.24764549285173415
l2 norm of benign user after server clipping 0.24764549285173415
___Test : epoch: 1951: Average loss: 0.0800, Accuracy: 39015/40000.0 (97.5375%)
benign test loss (after fedavg) 0.08000701751708984
benign test acc (after fedavg) 97.5375
Done in 2.639394760131836 sec.
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.1646108902990818
l2 norm of benign user after server clipping 0.1646108902990818
___Test : epoch: 1952: Average loss: 0.0743, Accuracy: 39057/40000.0 (97.6425%)
benign test loss (after fedavg) 0.07431871402561664
benign test acc (after fedavg) 97.6425
Done in 2.3645942211151123 sec.
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.20620565935969354
l2 norm of benign user after server clipping 0.20620565935969354
___Test : epoch: 1953: Average loss: 0.0727, Accuracy: 39082/40000.0 (97.7050%)
benign test loss (after fedavg) 0.07266454303413629
benign test acc (after fedavg) 97.705
Done in 2.4736342430114746 sec.
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.17789122685790063
l2 norm of benign user after server clipping 0.17789122685790063
___Test : epoch: 1954: Average loss: 0.0702, Accuracy: 39167/40000.0 (97.9175%)
benign test loss (after fedavg) 0.07019794510304928
benign test acc (after fedavg) 97.9175
Done in 2.6519155502319336 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.2644855048921373
l2 norm of benign user after server clipping 0.23597648408677843
Generate_dependent_Trigger0_random_neurons loss tensor(23.4832, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3803, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3800, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3791, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3793, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3778, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3796, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3785, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3787, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger0_random_neurons loss tensor(23.3791, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.369366
Poison Train Epoch: 1 	Loss: 0.238637
Poison Train Epoch: 2 	Loss: 0.143201
Poison Train Epoch: 3 	Loss: 0.076924
Poison Train Epoch: 4 	Loss: 0.090456
Poison Train Epoch: 5 	Loss: 0.162090
Poison Train Epoch: 6 	Loss: 0.271881
Poison Train Epoch: 7 	Loss: 0.130884
Poison Train Epoch: 8 	Loss: 0.089208
Poison Train Epoch: 9 	Loss: 0.088349
Poison Train Epoch: 10 	Loss: 0.206938
Poison Train Epoch: 11 	Loss: 0.018869
Poison Train Epoch: 12 	Loss: 0.020800
Poison Train Epoch: 13 	Loss: 0.035532
Poison Train Epoch: 14 	Loss: 0.137076
Test set:local_Trigger0_localPoison Accuracy: 3904/4000 (98%)
___Test : epoch: 1955: Average loss: 0.1405, Accuracy: 38196/40000.0 (95.4900%)
benign test loss (after fedavg) 0.1405097480535507
benign test acc (after fedavg) 95.49
Done in 17.739699125289917 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.223305544257164
l2 norm of benign user after server clipping 0.223305544257164
___Test : epoch: 1956: Average loss: 0.0852, Accuracy: 38984/40000.0 (97.4600%)
benign test loss (after fedavg) 0.08515942702889442
benign test acc (after fedavg) 97.46000000000001
Done in 2.4714698791503906 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.16860917210578918
l2 norm of benign user after server clipping 0.16860917210578918
___Test : epoch: 1957: Average loss: 0.0707, Accuracy: 39124/40000.0 (97.8100%)
benign test loss (after fedavg) 0.07073196268379689
benign test acc (after fedavg) 97.81
Done in 2.552556276321411 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.17194362506270408
l2 norm of benign user after server clipping 0.17194362506270408
___Test : epoch: 1958: Average loss: 0.0684, Accuracy: 39192/40000.0 (97.9800%)
benign test loss (after fedavg) 0.06844959598332644
benign test acc (after fedavg) 97.98
Done in 2.69740629196167 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.1525251604616642
l2 norm of benign user after server clipping 0.1525251604616642
___Test : epoch: 1959: Average loss: 0.0658, Accuracy: 39185/40000.0 (97.9625%)
benign test loss (after fedavg) 0.06579945353418588
benign test acc (after fedavg) 97.96249999999999
Done in 2.3279104232788086 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.19888494784633318
l2 norm of benign user after server clipping 0.18951838256584275
Generate_dependent_Trigger1_random_neurons loss tensor(24.2602, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(14.4620, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(10.6021, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(8.6775, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(7.9730, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(7.7736, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(7.7102, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(7.6602, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(7.5927, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger1_random_neurons loss tensor(7.5230, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.171949
Poison Train Epoch: 1 	Loss: 0.006629
Poison Train Epoch: 2 	Loss: 0.163543
Poison Train Epoch: 3 	Loss: 0.209172
Poison Train Epoch: 4 	Loss: 0.037454
Poison Train Epoch: 5 	Loss: 0.060163
Poison Train Epoch: 6 	Loss: 0.101918
Poison Train Epoch: 7 	Loss: 0.151632
Poison Train Epoch: 8 	Loss: 0.018220
Poison Train Epoch: 9 	Loss: 0.032123
Poison Train Epoch: 10 	Loss: 0.169549
Poison Train Epoch: 11 	Loss: 0.059696
Poison Train Epoch: 12 	Loss: 0.099989
Poison Train Epoch: 13 	Loss: 0.150826
Poison Train Epoch: 14 	Loss: 0.068409
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1960: Average loss: 0.0710, Accuracy: 39137/40000.0 (97.8425%)
benign test loss (after fedavg) 0.07096747610569
benign test acc (after fedavg) 97.8425
Done in 17.369464635849 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.12964880615472793
l2 norm of benign user after server clipping 0.12964880615472793
___Test : epoch: 1961: Average loss: 0.0651, Accuracy: 39201/40000.0 (98.0025%)
benign test loss (after fedavg) 0.06514256873875857
benign test acc (after fedavg) 98.0025
Done in 2.288037061691284 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.1346942365169525
l2 norm of benign user after server clipping 0.1346942365169525
___Test : epoch: 1962: Average loss: 0.0613, Accuracy: 39256/40000.0 (98.1400%)
benign test loss (after fedavg) 0.06133344534635544
benign test acc (after fedavg) 98.14
Done in 2.4918813705444336 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.11341407299041747
l2 norm of benign user after server clipping 0.11341407299041747
___Test : epoch: 1963: Average loss: 0.0619, Accuracy: 39245/40000.0 (98.1125%)
benign test loss (after fedavg) 0.061922956255078314
benign test acc (after fedavg) 98.1125
Done in 2.4282445907592773 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.1256434865295887
l2 norm of benign user after server clipping 0.1256434865295887
___Test : epoch: 1964: Average loss: 0.0721, Accuracy: 39102/40000.0 (97.7550%)
benign test loss (after fedavg) 0.07205290402472019
benign test acc (after fedavg) 97.75500000000001
Done in 2.458184242248535 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.13634130772617128
l2 norm of benign user after server clipping 0.13634130772617128
Generate_dependent_Trigger2_random_neurons loss tensor(27.1524, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1054, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1097, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1115, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1051, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1038, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1038, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1053, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1057, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger2_random_neurons loss tensor(27.1097, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.078156
Poison Train Epoch: 1 	Loss: 0.091408
Poison Train Epoch: 2 	Loss: 0.106530
Poison Train Epoch: 3 	Loss: 0.249290
Poison Train Epoch: 4 	Loss: 0.070775
Poison Train Epoch: 5 	Loss: 0.041426
Poison Train Epoch: 6 	Loss: 0.211017
Poison Train Epoch: 7 	Loss: 0.219411
Poison Train Epoch: 8 	Loss: 0.020855
Poison Train Epoch: 9 	Loss: 0.066888
Poison Train Epoch: 10 	Loss: 0.280865
Poison Train Epoch: 11 	Loss: 0.039142
Poison Train Epoch: 12 	Loss: 0.032044
Poison Train Epoch: 13 	Loss: 0.072243
Poison Train Epoch: 14 	Loss: 0.106890
Test set:local_Trigger2_localPoison Accuracy: 3898/4000 (97%)
___Test : epoch: 1965: Average loss: 0.0595, Accuracy: 39292/40000.0 (98.2300%)
benign test loss (after fedavg) 0.059479267041385175
benign test acc (after fedavg) 98.22999999999999
Done in 17.796710729599 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.12848423905670642
l2 norm of benign user after server clipping 0.12848423905670642
___Test : epoch: 1966: Average loss: 0.0653, Accuracy: 39205/40000.0 (98.0125%)
benign test loss (after fedavg) 0.065295482288301
benign test acc (after fedavg) 98.0125
Done in 2.463796377182007 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.10398297421634198
l2 norm of benign user after server clipping 0.10398297421634198
___Test : epoch: 1967: Average loss: 0.0612, Accuracy: 39244/40000.0 (98.1100%)
benign test loss (after fedavg) 0.06118254804238677
benign test acc (after fedavg) 98.11
Done in 2.362431764602661 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.14644115939736366
l2 norm of benign user after server clipping 0.14644115939736366
___Test : epoch: 1968: Average loss: 0.0755, Accuracy: 39071/40000.0 (97.6775%)
benign test loss (after fedavg) 0.07548792690783739
benign test acc (after fedavg) 97.6775
Done in 2.4295215606689453 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.22158296555280685
l2 norm of benign user after server clipping 0.16898104995489122
___Test : epoch: 1969: Average loss: 0.0626, Accuracy: 39239/40000.0 (98.0975%)
benign test loss (after fedavg) 0.06264737717062235
benign test acc (after fedavg) 98.09750000000001
Done in 2.4694864749908447 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.1313282483153873
l2 norm of benign user after server clipping 0.1313282483153873
Generate_dependent_Trigger3_random_neurons loss tensor(22.4501, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(21.5973, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(21.1082, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.9151, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.7167, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.5913, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.5081, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.4528, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.4135, device='cuda:0', grad_fn=<AddBackward0>)
Generate_dependent_Trigger3_random_neurons loss tensor(20.3635, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.158558
Poison Train Epoch: 1 	Loss: 0.212273
Poison Train Epoch: 2 	Loss: 0.023716
Poison Train Epoch: 3 	Loss: 0.048967
Poison Train Epoch: 4 	Loss: 0.152838
Poison Train Epoch: 5 	Loss: 0.088147
Poison Train Epoch: 6 	Loss: 0.083206
Poison Train Epoch: 7 	Loss: 0.088459
Poison Train Epoch: 8 	Loss: 0.215649
Poison Train Epoch: 9 	Loss: 0.157540
Poison Train Epoch: 10 	Loss: 0.055777
Poison Train Epoch: 11 	Loss: 0.047086
Poison Train Epoch: 12 	Loss: 0.038223
Poison Train Epoch: 13 	Loss: 0.098668
Poison Train Epoch: 14 	Loss: 0.063531
Test set:local_Trigger3_localPoison Accuracy: 3996/4000 (100%)
___Test : epoch: 1970: Average loss: 0.0609, Accuracy: 39275/40000.0 (98.1875%)
benign test loss (after fedavg) 0.06094460467547178
benign test acc (after fedavg) 98.1875
Done in 17.400773763656616 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.11250649467110634
l2 norm of benign user after server clipping 0.11250649467110634
___Test : epoch: 1971: Average loss: 0.0583, Accuracy: 39309/40000.0 (98.2725%)
benign test loss (after fedavg) 0.05830429531633854
benign test acc (after fedavg) 98.2725
Test set:local_Trigger0Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 32/4000 (1%)
Test set:Main Accuracy: 39309/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.765396356582642 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.09986508116126061
l2 norm of benign user after server clipping 0.09986508116126061
___Test : epoch: 1972: Average loss: 0.0575, Accuracy: 39304/40000.0 (98.2600%)
benign test loss (after fedavg) 0.057480574546754364
benign test acc (after fedavg) 98.26
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39304/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.722626209259033 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.11202863529324532
l2 norm of benign user after server clipping 0.11202863529324532
___Test : epoch: 1973: Average loss: 0.0614, Accuracy: 39275/40000.0 (98.1875%)
benign test loss (after fedavg) 0.06143373775407672
benign test acc (after fedavg) 98.1875
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 36/4000 (1%)
Test set:Main Accuracy: 39275/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.802776098251343 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.10117184147238731
l2 norm of benign user after server clipping 0.10117184147238731
___Test : epoch: 1974: Average loss: 0.0582, Accuracy: 39273/40000.0 (98.1825%)
benign test loss (after fedavg) 0.0582191307246685
benign test acc (after fedavg) 98.18249999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39273/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.74915075302124 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.08743093700872527
l2 norm of benign user after server clipping 0.08743093700872527
Poison Train Epoch: 0 	Loss: 0.058915
Poison Train Epoch: 1 	Loss: 0.128218
Poison Train Epoch: 2 	Loss: 0.109399
Poison Train Epoch: 3 	Loss: 0.144226
Poison Train Epoch: 4 	Loss: 0.270440
Poison Train Epoch: 5 	Loss: 0.062422
Poison Train Epoch: 6 	Loss: 0.064351
Poison Train Epoch: 7 	Loss: 0.144411
Poison Train Epoch: 8 	Loss: 0.048544
Poison Train Epoch: 9 	Loss: 0.079869
Poison Train Epoch: 10 	Loss: 0.031063
Poison Train Epoch: 11 	Loss: 0.183109
Poison Train Epoch: 12 	Loss: 0.308635
Poison Train Epoch: 13 	Loss: 0.009706
Poison Train Epoch: 14 	Loss: 0.034028
Test set:local_Trigger0_localPoison Accuracy: 3925/4000 (98%)
___Test : epoch: 1975: Average loss: 0.0565, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05647713172212243
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 66/4000 (2%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.191054344177246 sec.
select client [469, 900, 957, 46, 717, 616, 357, 837, 662, 422]
l2 norm of benign user before server clipping 0.09566091224551201
l2 norm of benign user after server clipping 0.09566091224551201
___Test : epoch: 1976: Average loss: 0.0603, Accuracy: 39276/40000.0 (98.1900%)
benign test loss (after fedavg) 0.06033982837349176
benign test acc (after fedavg) 98.19
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39276/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.881612539291382 sec.
select client [713, 519, 68, 971, 277, 147, 891, 721, 547, 729]
l2 norm of benign user before server clipping 0.08964714333415032
l2 norm of benign user after server clipping 0.08964714333415032
___Test : epoch: 1977: Average loss: 0.0585, Accuracy: 39298/40000.0 (98.2450%)
benign test loss (after fedavg) 0.05854635263308883
benign test acc (after fedavg) 98.245
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 17/4000 (0%)
Test set:Main Accuracy: 39298/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.766369342803955 sec.
select client [897, 638, 411, 424, 310, 164, 246, 512, 509, 841]
l2 norm of benign user before server clipping 0.08825084641575813
l2 norm of benign user after server clipping 0.08825084641575813
___Test : epoch: 1978: Average loss: 0.0588, Accuracy: 39280/40000.0 (98.2000%)
benign test loss (after fedavg) 0.05881265441328287
benign test acc (after fedavg) 98.2
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 24/4000 (1%)
Test set:Main Accuracy: 39280/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.726974964141846 sec.
select client [190, 767, 803, 862, 585, 646, 73, 684, 536, 936]
l2 norm of benign user before server clipping 0.1213913731276989
l2 norm of benign user after server clipping 0.1213913731276989
___Test : epoch: 1979: Average loss: 0.0571, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.05710454954281449
benign test acc (after fedavg) 98.27749999999999
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39311/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.820775747299194 sec.
select client [214, 489, 93, 716, 518, 651, 85, 202, 721]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.08070275849766201
l2 norm of benign user after server clipping 0.08070275849766201
Poison Train Epoch: 0 	Loss: 0.063445
Poison Train Epoch: 1 	Loss: 0.131691
Poison Train Epoch: 2 	Loss: 0.079968
Poison Train Epoch: 3 	Loss: 0.060291
Poison Train Epoch: 4 	Loss: 0.078235
Poison Train Epoch: 5 	Loss: 0.033971
Poison Train Epoch: 6 	Loss: 0.069764
Poison Train Epoch: 7 	Loss: 0.141826
Poison Train Epoch: 8 	Loss: 0.077835
Poison Train Epoch: 9 	Loss: 0.171040
Poison Train Epoch: 10 	Loss: 0.028033
Poison Train Epoch: 11 	Loss: 0.107801
Poison Train Epoch: 12 	Loss: 0.039721
Poison Train Epoch: 13 	Loss: 0.017225
Poison Train Epoch: 14 	Loss: 0.081570
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1980: Average loss: 0.0557, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05568135041221976
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.03829288482666 sec.
select client [717, 764, 980, 755, 884, 324, 494, 433, 627, 858]
l2 norm of benign user before server clipping 0.08944186270236969
l2 norm of benign user after server clipping 0.08944186270236969
___Test : epoch: 1981: Average loss: 0.0538, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05375544140189886
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.625909090042114 sec.
select client [479, 77, 865, 317, 384, 892, 937, 583, 32, 427]
l2 norm of benign user before server clipping 0.06561086811125279
l2 norm of benign user after server clipping 0.06561086811125279
___Test : epoch: 1982: Average loss: 0.0642, Accuracy: 39197/40000.0 (97.9925%)
benign test loss (after fedavg) 0.06420662060230971
benign test acc (after fedavg) 97.9925
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39197/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.575508117675781 sec.
select client [332, 540, 256, 980, 246, 453, 63, 951, 512, 287]
l2 norm of benign user before server clipping 0.08486650697886944
l2 norm of benign user after server clipping 0.08486650697886944
___Test : epoch: 1983: Average loss: 0.0542, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.0541741132453084
benign test acc (after fedavg) 98.3175
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 26/4000 (1%)
Test set:Main Accuracy: 39327/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.763530731201172 sec.
select client [129, 26, 676, 554, 456, 564, 107, 434, 334, 573]
l2 norm of benign user before server clipping 0.07230728678405285
l2 norm of benign user after server clipping 0.07230728678405285
___Test : epoch: 1984: Average loss: 0.0548, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.05483374443948269
benign test acc (after fedavg) 98.3175
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39327/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.824651956558228 sec.
select client [787, 97, 862, 997, 32, 356, 728, 803, 418]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07838820252153608
l2 norm of benign user after server clipping 0.07838820252153608
Poison Train Epoch: 0 	Loss: 0.157020
Poison Train Epoch: 1 	Loss: 0.227987
Poison Train Epoch: 2 	Loss: 0.047402
Poison Train Epoch: 3 	Loss: 0.113591
Poison Train Epoch: 4 	Loss: 0.092115
Poison Train Epoch: 5 	Loss: 0.221363
Poison Train Epoch: 6 	Loss: 0.110270
Poison Train Epoch: 7 	Loss: 0.036444
Poison Train Epoch: 8 	Loss: 0.054009
Poison Train Epoch: 9 	Loss: 0.116922
Poison Train Epoch: 10 	Loss: 0.050368
Poison Train Epoch: 11 	Loss: 0.082147
Poison Train Epoch: 12 	Loss: 0.205274
Poison Train Epoch: 13 	Loss: 0.028153
Poison Train Epoch: 14 	Loss: 0.025749
Test set:local_Trigger2_localPoison Accuracy: 3883/4000 (97%)
___Test : epoch: 1985: Average loss: 0.0608, Accuracy: 39263/40000.0 (98.1575%)
benign test loss (after fedavg) 0.060826577877998354
benign test acc (after fedavg) 98.1575
Test set:local_Trigger0Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 160/4000 (4%)
Test set:Main Accuracy: 39263/40000 (98%)
Test set:Global Trigger Poison Accuracy: 4/4000 (0%)
Done in 19.305991888046265 sec.
select client [510, 975, 711, 824, 37, 422, 550, 694, 504, 89]
l2 norm of benign user before server clipping 0.07046220321208238
l2 norm of benign user after server clipping 0.07046220321208238
___Test : epoch: 1986: Average loss: 0.0549, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05492956190109253
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.670284271240234 sec.
select client [736, 742, 677, 959, 656, 546, 136, 882, 815, 850]
l2 norm of benign user before server clipping 0.05467623844742775
l2 norm of benign user after server clipping 0.05467623844742775
___Test : epoch: 1987: Average loss: 0.0570, Accuracy: 39310/40000.0 (98.2750%)
benign test loss (after fedavg) 0.056960021592676637
benign test acc (after fedavg) 98.275
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39310/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.685132503509521 sec.
select client [24, 214, 494, 972, 976, 153, 869, 844, 433, 885]
l2 norm of benign user before server clipping 0.0612772211432457
l2 norm of benign user after server clipping 0.0612772211432457
___Test : epoch: 1988: Average loss: 0.0563, Accuracy: 39313/40000.0 (98.2825%)
benign test loss (after fedavg) 0.05634637447744608
benign test acc (after fedavg) 98.2825
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 20/4000 (0%)
Test set:Main Accuracy: 39313/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.694541454315186 sec.
select client [309, 712, 962, 254, 304, 34, 801, 632, 716, 520]
l2 norm of benign user before server clipping 0.05016649477183819
l2 norm of benign user after server clipping 0.05016649477183819
___Test : epoch: 1989: Average loss: 0.0536, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.053561943532526496
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.69124436378479 sec.
select client [222, 938, 819, 634, 20, 500, 46, 922, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.04065827135410574
l2 norm of benign user after server clipping 0.04065827135410574
Poison Train Epoch: 0 	Loss: 0.020744
Poison Train Epoch: 1 	Loss: 0.014246
Poison Train Epoch: 2 	Loss: 0.134063
Poison Train Epoch: 3 	Loss: 0.183986
Poison Train Epoch: 4 	Loss: 0.104605
Poison Train Epoch: 5 	Loss: 0.118673
Poison Train Epoch: 6 	Loss: 0.010303
Poison Train Epoch: 7 	Loss: 0.062600
Poison Train Epoch: 8 	Loss: 0.081637
Poison Train Epoch: 9 	Loss: 0.036365
Poison Train Epoch: 10 	Loss: 0.149017
Poison Train Epoch: 11 	Loss: 0.061185
Poison Train Epoch: 12 	Loss: 0.061941
Poison Train Epoch: 13 	Loss: 0.061718
Poison Train Epoch: 14 	Loss: 0.038932
Test set:local_Trigger3_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1990: Average loss: 0.0541, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.0541139426484704
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 57/4000 (1%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.162180423736572 sec.
select client [416, 463, 310, 709, 174, 644, 757, 91, 287, 746]
l2 norm of benign user before server clipping 0.04654949055984616
l2 norm of benign user after server clipping 0.04654949055984616
___Test : epoch: 1991: Average loss: 0.0529, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.0529204514041543
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 44/4000 (1%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.878747701644897 sec.
select client [875, 611, 364, 144, 239, 924, 762, 180, 870, 914]
l2 norm of benign user before server clipping 0.03769838605076074
l2 norm of benign user after server clipping 0.03769838605076074
___Test : epoch: 1992: Average loss: 0.0538, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05382503855377436
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 41/4000 (1%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.707475423812866 sec.
select client [11, 846, 436, 197, 212, 879, 718, 626, 342, 86]
l2 norm of benign user before server clipping 0.03385772090405226
l2 norm of benign user after server clipping 0.03385772090405226
___Test : epoch: 1993: Average loss: 0.0541, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05405977234840393
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.704318046569824 sec.
select client [451, 188, 562, 289, 757, 472, 471, 84, 446, 854]
l2 norm of benign user before server clipping 0.04575920235365629
l2 norm of benign user after server clipping 0.04575920235365629
___Test : epoch: 1994: Average loss: 0.0549, Accuracy: 39316/40000.0 (98.2900%)
benign test loss (after fedavg) 0.05489889731556177
benign test acc (after fedavg) 98.29
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39316/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.98697829246521 sec.
select client [184, 513, 802, 343, 101, 599, 188, 821, 58]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.030215194241868124
l2 norm of benign user after server clipping 0.030215194241868124
Poison Train Epoch: 0 	Loss: 0.102856
Poison Train Epoch: 1 	Loss: 0.183727
Poison Train Epoch: 2 	Loss: 0.035155
Poison Train Epoch: 3 	Loss: 0.111296
Poison Train Epoch: 4 	Loss: 0.423789
Poison Train Epoch: 5 	Loss: 0.039906
Poison Train Epoch: 6 	Loss: 0.015568
Poison Train Epoch: 7 	Loss: 0.470039
Poison Train Epoch: 8 	Loss: 0.230406
Poison Train Epoch: 9 	Loss: 0.174939
Poison Train Epoch: 10 	Loss: 0.071369
Poison Train Epoch: 11 	Loss: 0.124233
Poison Train Epoch: 12 	Loss: 0.057819
Poison Train Epoch: 13 	Loss: 0.031623
Poison Train Epoch: 14 	Loss: 0.043937
Test set:local_Trigger0_localPoison Accuracy: 3918/4000 (98%)
___Test : epoch: 1995: Average loss: 0.0547, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.054710719910264015
benign test acc (after fedavg) 98.3175
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 72/4000 (2%)
Test set:Main Accuracy: 39327/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.10249924659729 sec.
select client [145, 292, 383, 212, 548, 367, 131, 101, 541, 652]
l2 norm of benign user before server clipping 0.03424855256453156
l2 norm of benign user after server clipping 0.03424855256453156
___Test : epoch: 1996: Average loss: 0.0539, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05389594136923551
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 47/4000 (1%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.981948375701904 sec.
select client [278, 693, 855, 981, 25, 996, 561, 119, 962, 223]
l2 norm of benign user before server clipping 0.022645846568048
l2 norm of benign user after server clipping 0.022645846568048
___Test : epoch: 1997: Average loss: 0.0538, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.05380580381304026
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.742846012115479 sec.
select client [29, 99, 74, 387, 849, 703, 168, 802, 228, 679]
l2 norm of benign user before server clipping 0.011981038330122828
l2 norm of benign user after server clipping 0.011981038330122828
___Test : epoch: 1998: Average loss: 0.0533, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05330167876332998
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 39/4000 (1%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.612056493759155 sec.
select client [103, 570, 967, 408, 907, 726, 960, 759, 836, 70]
l2 norm of benign user before server clipping 0.006524696364067495
l2 norm of benign user after server clipping 0.006524696364067495
___Test : epoch: 1999: Average loss: 0.0531, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05311503509432077
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 39/4000 (1%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.703442335128784 sec.
select client [321, 827, 91, 516, 262, 283, 132, 557, 862]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00734599938409196
l2 norm of benign user after server clipping 0.00734599938409196
Poison Train Epoch: 0 	Loss: 0.025328
Poison Train Epoch: 1 	Loss: 0.223639
Poison Train Epoch: 2 	Loss: 0.009905
Poison Train Epoch: 3 	Loss: 0.108708
Poison Train Epoch: 4 	Loss: 0.014251
Poison Train Epoch: 5 	Loss: 0.023987
Poison Train Epoch: 6 	Loss: 0.017525
Poison Train Epoch: 7 	Loss: 0.085760
Poison Train Epoch: 8 	Loss: 0.099416
Poison Train Epoch: 9 	Loss: 0.008576
Poison Train Epoch: 10 	Loss: 0.018414
Poison Train Epoch: 11 	Loss: 0.008121
Poison Train Epoch: 12 	Loss: 0.106843
Poison Train Epoch: 13 	Loss: 0.034368
Poison Train Epoch: 14 	Loss: 0.130940
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2000: Average loss: 0.0537, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05365433957129717
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 80/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 48/4000 (1%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 210/4000 (5%)
Done in 19.311002254486084 sec.
select client [243, 897, 881, 585, 937, 800, 823, 218, 321, 219]
l2 norm of benign user before server clipping 0.005857458268292248
l2 norm of benign user after server clipping 0.005857458268292248
___Test : epoch: 2001: Average loss: 0.0535, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.053486876200139526
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 88/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 51/4000 (1%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 224/4000 (6%)
Done in 11.859188795089722 sec.
select client [936, 503, 895, 738, 995, 37, 934, 20, 699, 578]
l2 norm of benign user before server clipping 0.0067283305106684566
l2 norm of benign user after server clipping 0.0067283305106684566
___Test : epoch: 2002: Average loss: 0.0535, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05348423334211111
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 90/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 45/4000 (1%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 217/4000 (5%)
Done in 11.901182174682617 sec.
select client [490, 823, 286, 837, 43, 89, 875, 285, 755, 315]
l2 norm of benign user before server clipping 0.004640224319882691
l2 norm of benign user after server clipping 0.004640224319882691
___Test : epoch: 2003: Average loss: 0.0532, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05319739403128624
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 83/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 48/4000 (1%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 216/4000 (5%)
Done in 11.686321020126343 sec.
select client [512, 353, 104, 779, 231, 449, 352, 581, 76, 62]
l2 norm of benign user before server clipping 0.006773732369765639
l2 norm of benign user after server clipping 0.006773732369765639
___Test : epoch: 2004: Average loss: 0.0535, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.053469566397368905
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 82/4000 (2%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 41/4000 (1%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 208/4000 (5%)
Done in 11.672333717346191 sec.
select client [22, 250, 584, 199, 108, 74, 719, 353, 275]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004068334871489141
l2 norm of benign user after server clipping 0.004068334871489141
Poison Train Epoch: 0 	Loss: 0.020810
Poison Train Epoch: 1 	Loss: 0.032578
Poison Train Epoch: 2 	Loss: 0.023966
Poison Train Epoch: 3 	Loss: 0.057998
Poison Train Epoch: 4 	Loss: 0.037967
Poison Train Epoch: 5 	Loss: 0.163244
Poison Train Epoch: 6 	Loss: 0.045705
Poison Train Epoch: 7 	Loss: 0.036819
Poison Train Epoch: 8 	Loss: 0.093538
Poison Train Epoch: 9 	Loss: 0.085711
Poison Train Epoch: 10 	Loss: 0.046850
Poison Train Epoch: 11 	Loss: 0.039864
Poison Train Epoch: 12 	Loss: 0.004077
Poison Train Epoch: 13 	Loss: 0.013872
Poison Train Epoch: 14 	Loss: 0.032717
Test set:local_Trigger2_localPoison Accuracy: 3899/4000 (97%)
___Test : epoch: 2005: Average loss: 0.0548, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05483750895485282
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 339/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 158/4000 (4%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 527/4000 (13%)
Done in 18.976699352264404 sec.
select client [152, 603, 293, 997, 105, 958, 871, 628, 330, 193]
l2 norm of benign user before server clipping 0.006226249155588448
l2 norm of benign user after server clipping 0.006226249155588448
___Test : epoch: 2006: Average loss: 0.0544, Accuracy: 39341/40000.0 (98.3525%)
benign test loss (after fedavg) 0.05440501285493374
benign test acc (after fedavg) 98.35249999999999
Test set:local_Trigger0Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 338/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 133/4000 (3%)
Test set:Main Accuracy: 39341/40000 (98%)
Test set:Global Trigger Poison Accuracy: 532/4000 (13%)
Done in 11.768370628356934 sec.
select client [65, 501, 709, 748, 625, 132, 504, 600, 952, 942]
l2 norm of benign user before server clipping 0.005361915030516684
l2 norm of benign user after server clipping 0.005361915030516684
___Test : epoch: 2007: Average loss: 0.0540, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.054038828705251216
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 312/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 113/4000 (3%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 510/4000 (13%)
Done in 11.618114709854126 sec.
select client [505, 205, 23, 901, 317, 728, 751, 602, 48, 576]
l2 norm of benign user before server clipping 0.004924202407710254
l2 norm of benign user after server clipping 0.004924202407710254
___Test : epoch: 2008: Average loss: 0.0540, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.053955098743736746
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 285/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 101/4000 (3%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 467/4000 (12%)
Done in 11.607647895812988 sec.
select client [108, 440, 184, 396, 66, 350, 579, 668, 753, 950]
l2 norm of benign user before server clipping 0.005021232785657049
l2 norm of benign user after server clipping 0.005021232785657049
___Test : epoch: 2009: Average loss: 0.0537, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05365129641890526
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 265/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 90/4000 (2%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 440/4000 (11%)
Done in 11.834773540496826 sec.
select client [299, 587, 187, 936, 86, 761, 264, 21, 653]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00530376644908554
l2 norm of benign user after server clipping 0.00530376644908554
Poison Train Epoch: 0 	Loss: 0.283055
Poison Train Epoch: 1 	Loss: 0.161827
Poison Train Epoch: 2 	Loss: 0.145281
Poison Train Epoch: 3 	Loss: 0.183266
Poison Train Epoch: 4 	Loss: 0.004391
Poison Train Epoch: 5 	Loss: 0.069850
Poison Train Epoch: 6 	Loss: 0.007792
Poison Train Epoch: 7 	Loss: 0.025727
Poison Train Epoch: 8 	Loss: 0.226350
Poison Train Epoch: 9 	Loss: 0.117009
Poison Train Epoch: 10 	Loss: 0.029738
Poison Train Epoch: 11 	Loss: 0.016920
Poison Train Epoch: 12 	Loss: 0.007487
Poison Train Epoch: 13 	Loss: 0.029449
Poison Train Epoch: 14 	Loss: 0.088166
Test set:local_Trigger3_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2010: Average loss: 0.0551, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.055099125041812656
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 444/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 315/4000 (8%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 771/4000 (19%)
Done in 19.22211527824402 sec.
select client [365, 576, 490, 796, 790, 899, 954, 318, 376, 127]
l2 norm of benign user before server clipping 0.0036994803813286126
l2 norm of benign user after server clipping 0.0036994803813286126
___Test : epoch: 2011: Average loss: 0.0548, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05477023086696863
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 395/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 290/4000 (7%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 715/4000 (18%)
Done in 11.534230470657349 sec.
select client [972, 686, 227, 582, 53, 965, 992, 465, 431, 415]
l2 norm of benign user before server clipping 0.003836212807800621
l2 norm of benign user after server clipping 0.003836212807800621
___Test : epoch: 2012: Average loss: 0.0545, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05451283979713917
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 372/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 264/4000 (7%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 665/4000 (17%)
Done in 11.6108558177948 sec.
select client [594, 192, 444, 579, 249, 52, 701, 940, 160, 519]
l2 norm of benign user before server clipping 0.007146195764653385
l2 norm of benign user after server clipping 0.007146195764653385
___Test : epoch: 2013: Average loss: 0.0541, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05409933820217848
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 317/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 212/4000 (5%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 603/4000 (15%)
Done in 11.909600019454956 sec.
select client [801, 640, 526, 699, 254, 111, 591, 855, 979, 126]
l2 norm of benign user before server clipping 0.006058512022718787
l2 norm of benign user after server clipping 0.006058512022718787
___Test : epoch: 2014: Average loss: 0.0540, Accuracy: 39341/40000.0 (98.3525%)
benign test loss (after fedavg) 0.05400549703836441
benign test acc (after fedavg) 98.35249999999999
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 324/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 173/4000 (4%)
Test set:Main Accuracy: 39341/40000 (98%)
Test set:Global Trigger Poison Accuracy: 623/4000 (16%)
Done in 11.929126262664795 sec.
select client [21, 212, 604, 700, 449, 692, 492, 148, 261]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006995998051327963
l2 norm of benign user after server clipping 0.006995998051327963
Poison Train Epoch: 0 	Loss: 0.010495
Poison Train Epoch: 1 	Loss: 0.423416
Poison Train Epoch: 2 	Loss: 0.032413
Poison Train Epoch: 3 	Loss: 0.053486
Poison Train Epoch: 4 	Loss: 0.051933
Poison Train Epoch: 5 	Loss: 0.139459
Poison Train Epoch: 6 	Loss: 0.067769
Poison Train Epoch: 7 	Loss: 0.022975
Poison Train Epoch: 8 	Loss: 0.236994
Poison Train Epoch: 9 	Loss: 0.020228
Poison Train Epoch: 10 	Loss: 0.228279
Poison Train Epoch: 11 	Loss: 0.026078
Poison Train Epoch: 12 	Loss: 0.010730
Poison Train Epoch: 13 	Loss: 0.075216
Poison Train Epoch: 14 	Loss: 0.089527
Test set:local_Trigger0_localPoison Accuracy: 3905/4000 (98%)
___Test : epoch: 2015: Average loss: 0.0587, Accuracy: 39293/40000.0 (98.2325%)
benign test loss (after fedavg) 0.05866848066449165
benign test acc (after fedavg) 98.2325
Test set:local_Trigger0Poison Accuracy: 41/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 647/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 42/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 654/4000 (16%)
Test set:Main Accuracy: 39293/40000 (98%)
Test set:Global Trigger Poison Accuracy: 955/4000 (24%)
Done in 19.082026481628418 sec.
select client [236, 386, 454, 124, 489, 35, 578, 268, 875, 606]
l2 norm of benign user before server clipping 0.008949901000596583
l2 norm of benign user after server clipping 0.008949901000596583
___Test : epoch: 2016: Average loss: 0.0563, Accuracy: 39315/40000.0 (98.2875%)
benign test loss (after fedavg) 0.056324232222139836
benign test acc (after fedavg) 98.28750000000001
Test set:local_Trigger0Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 631/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 432/4000 (11%)
Test set:Main Accuracy: 39315/40000 (98%)
Test set:Global Trigger Poison Accuracy: 968/4000 (24%)
Done in 11.901825904846191 sec.
select client [328, 258, 795, 174, 238, 204, 44, 20, 473, 443]
l2 norm of benign user before server clipping 0.004079047148115933
l2 norm of benign user after server clipping 0.004079047148115933
___Test : epoch: 2017: Average loss: 0.0562, Accuracy: 39318/40000.0 (98.2950%)
benign test loss (after fedavg) 0.056176179775595664
benign test acc (after fedavg) 98.295
Test set:local_Trigger0Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 597/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 399/4000 (10%)
Test set:Main Accuracy: 39318/40000 (98%)
Test set:Global Trigger Poison Accuracy: 919/4000 (23%)
Done in 11.809853076934814 sec.
select client [349, 769, 62, 214, 134, 489, 513, 142, 316, 240]
l2 norm of benign user before server clipping 0.006557126238476485
l2 norm of benign user after server clipping 0.006557126238476485
___Test : epoch: 2018: Average loss: 0.0556, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.055640300786495206
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 582/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 338/4000 (8%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 911/4000 (23%)
Done in 11.839127779006958 sec.
select client [354, 253, 871, 732, 718, 541, 948, 311, 375, 63]
l2 norm of benign user before server clipping 0.004619542288128287
l2 norm of benign user after server clipping 0.004619542288128287
___Test : epoch: 2019: Average loss: 0.0552, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.0552045870706439
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 546/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 276/4000 (7%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 879/4000 (22%)
Done in 11.737827062606812 sec.
select client [25, 194, 94, 874, 325, 349, 612, 837, 981]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004480579402297735
l2 norm of benign user after server clipping 0.004480579402297735
Poison Train Epoch: 0 	Loss: 0.024800
Poison Train Epoch: 1 	Loss: 0.024171
Poison Train Epoch: 2 	Loss: 0.023184
Poison Train Epoch: 3 	Loss: 0.047312
Poison Train Epoch: 4 	Loss: 0.004229
Poison Train Epoch: 5 	Loss: 0.124588
Poison Train Epoch: 6 	Loss: 0.010557
Poison Train Epoch: 7 	Loss: 0.019463
Poison Train Epoch: 8 	Loss: 0.091148
Poison Train Epoch: 9 	Loss: 0.022429
Poison Train Epoch: 10 	Loss: 0.019648
Poison Train Epoch: 11 	Loss: 0.045293
Poison Train Epoch: 12 	Loss: 0.013981
Poison Train Epoch: 13 	Loss: 0.023024
Poison Train Epoch: 14 	Loss: 0.069318
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2020: Average loss: 0.0555, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.055503505872189995
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2133/4000 (53%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 313/4000 (8%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2509/4000 (63%)
Done in 19.11387610435486 sec.
select client [779, 12, 323, 846, 425, 926, 35, 626, 391, 181]
l2 norm of benign user before server clipping 0.00631806484889239
l2 norm of benign user after server clipping 0.00631806484889239
___Test : epoch: 2021: Average loss: 0.0550, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05500921486467123
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2068/4000 (52%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 262/4000 (7%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2476/4000 (62%)
Done in 11.88349723815918 sec.
select client [311, 422, 452, 485, 460, 777, 509, 439, 568, 125]
l2 norm of benign user before server clipping 0.00585241022054106
l2 norm of benign user after server clipping 0.00585241022054106
___Test : epoch: 2022: Average loss: 0.0547, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05473037540614605
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2060/4000 (52%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 218/4000 (5%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2469/4000 (62%)
Done in 11.874281406402588 sec.
select client [780, 104, 565, 362, 237, 875, 295, 343, 71, 450]
l2 norm of benign user before server clipping 0.006068174121901393
l2 norm of benign user after server clipping 0.006068174121901393
___Test : epoch: 2023: Average loss: 0.0543, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05425588403791189
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1989/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 205/4000 (5%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2401/4000 (60%)
Done in 11.792136907577515 sec.
select client [466, 354, 323, 571, 986, 686, 421, 676, 684, 851]
l2 norm of benign user before server clipping 0.005400646501220763
l2 norm of benign user after server clipping 0.005400646501220763
___Test : epoch: 2024: Average loss: 0.0543, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.054286086504161356
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1979/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 181/4000 (5%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2392/4000 (60%)
Done in 11.88853144645691 sec.
select client [880, 279, 283, 843, 468, 866, 53, 797, 435]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006190343294292688
l2 norm of benign user after server clipping 0.006190343294292688
Poison Train Epoch: 0 	Loss: 0.072723
Poison Train Epoch: 1 	Loss: 0.108696
Poison Train Epoch: 2 	Loss: 0.030881
Poison Train Epoch: 3 	Loss: 0.034617
Poison Train Epoch: 4 	Loss: 0.068340
Poison Train Epoch: 5 	Loss: 0.121965
Poison Train Epoch: 6 	Loss: 0.013661
Poison Train Epoch: 7 	Loss: 0.053981
Poison Train Epoch: 8 	Loss: 0.022690
Poison Train Epoch: 9 	Loss: 0.052682
Poison Train Epoch: 10 	Loss: 0.039869
Poison Train Epoch: 11 	Loss: 0.011733
Poison Train Epoch: 12 	Loss: 0.098340
Poison Train Epoch: 13 	Loss: 0.017930
Poison Train Epoch: 14 	Loss: 0.074058
Test set:local_Trigger2_localPoison Accuracy: 3911/4000 (98%)
___Test : epoch: 2025: Average loss: 0.0581, Accuracy: 39308/40000.0 (98.2700%)
benign test loss (after fedavg) 0.05805590442419052
benign test acc (after fedavg) 98.27
Test set:local_Trigger0Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2483/4000 (62%)
Test set:local_Trigger2Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 625/4000 (16%)
Test set:Main Accuracy: 39308/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2771/4000 (69%)
Done in 19.391010761260986 sec.
select client [860, 59, 781, 560, 691, 514, 980, 330, 106, 214]
l2 norm of benign user before server clipping 0.00538870805175975
l2 norm of benign user after server clipping 0.00538870805175975
___Test : epoch: 2026: Average loss: 0.0570, Accuracy: 39317/40000.0 (98.2925%)
benign test loss (after fedavg) 0.05702344011068344
benign test acc (after fedavg) 98.2925
Test set:local_Trigger0Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2456/4000 (61%)
Test set:local_Trigger2Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 486/4000 (12%)
Test set:Main Accuracy: 39317/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2779/4000 (69%)
Done in 11.782821416854858 sec.
select client [970, 603, 765, 516, 701, 936, 375, 189, 828, 532]
l2 norm of benign user before server clipping 0.0055406419560313225
l2 norm of benign user after server clipping 0.0055406419560313225
___Test : epoch: 2027: Average loss: 0.0566, Accuracy: 39315/40000.0 (98.2875%)
benign test loss (after fedavg) 0.056642446273565294
benign test acc (after fedavg) 98.28750000000001
Test set:local_Trigger0Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2396/4000 (60%)
Test set:local_Trigger2Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 387/4000 (10%)
Test set:Main Accuracy: 39315/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2740/4000 (68%)
Done in 11.859023809432983 sec.
select client [749, 99, 64, 284, 71, 262, 238, 592, 109, 365]
l2 norm of benign user before server clipping 0.005437418515793979
l2 norm of benign user after server clipping 0.005437418515793979
___Test : epoch: 2028: Average loss: 0.0561, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.05614988264888525
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2285/4000 (57%)
Test set:local_Trigger2Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 329/4000 (8%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2633/4000 (66%)
Done in 11.90332818031311 sec.
select client [558, 46, 811, 470, 362, 382, 456, 993, 125, 697]
l2 norm of benign user before server clipping 0.004883316508494317
l2 norm of benign user after server clipping 0.004883316508494317
___Test : epoch: 2029: Average loss: 0.0559, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05592984977066517
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2264/4000 (57%)
Test set:local_Trigger2Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 318/4000 (8%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2620/4000 (66%)
Done in 11.784373760223389 sec.
select client [63, 874, 672, 738, 322, 554, 185, 646, 82]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005462033001499044
l2 norm of benign user after server clipping 0.005462033001499044
Poison Train Epoch: 0 	Loss: 0.076368
Poison Train Epoch: 1 	Loss: 0.147985
Poison Train Epoch: 2 	Loss: 0.042054
Poison Train Epoch: 3 	Loss: 0.021172
Poison Train Epoch: 4 	Loss: 0.047230
Poison Train Epoch: 5 	Loss: 0.098702
Poison Train Epoch: 6 	Loss: 0.021241
Poison Train Epoch: 7 	Loss: 0.024286
Poison Train Epoch: 8 	Loss: 0.048885
Poison Train Epoch: 9 	Loss: 0.015955
Poison Train Epoch: 10 	Loss: 0.053168
Poison Train Epoch: 11 	Loss: 0.029300
Poison Train Epoch: 12 	Loss: 0.014219
Poison Train Epoch: 13 	Loss: 0.009030
Poison Train Epoch: 14 	Loss: 0.175403
Test set:local_Trigger3_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2030: Average loss: 0.0585, Accuracy: 39309/40000.0 (98.2725%)
benign test loss (after fedavg) 0.05845528490394354
benign test acc (after fedavg) 98.2725
Test set:local_Trigger0Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2625/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 857/4000 (21%)
Test set:Main Accuracy: 39309/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2999/4000 (75%)
Done in 19.289233922958374 sec.
select client [56, 106, 764, 380, 18, 178, 915, 48, 386, 564]
l2 norm of benign user before server clipping 0.006937660020776093
l2 norm of benign user after server clipping 0.006937660020776093
___Test : epoch: 2031: Average loss: 0.0575, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.057469069668650626
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2516/4000 (63%)
Test set:local_Trigger2Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 722/4000 (18%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2935/4000 (73%)
Done in 11.79380989074707 sec.
select client [398, 824, 52, 571, 847, 454, 500, 964, 963, 692]
l2 norm of benign user before server clipping 0.006531647348310798
l2 norm of benign user after server clipping 0.006531647348310798
___Test : epoch: 2032: Average loss: 0.0565, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.0564774968996644
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 23/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2429/4000 (61%)
Test set:local_Trigger2Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 648/4000 (16%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2861/4000 (72%)
Done in 11.857794761657715 sec.
select client [70, 404, 181, 697, 552, 561, 627, 483, 895, 355]
l2 norm of benign user before server clipping 0.00522953113541007
l2 norm of benign user after server clipping 0.00522953113541007
___Test : epoch: 2033: Average loss: 0.0561, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05611156679391861
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2391/4000 (60%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 572/4000 (14%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2842/4000 (71%)
Done in 11.862837791442871 sec.
select client [435, 774, 173, 747, 113, 985, 109, 783, 655, 580]
l2 norm of benign user before server clipping 0.004852591431699693
l2 norm of benign user after server clipping 0.004852591431699693
___Test : epoch: 2034: Average loss: 0.0557, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05570723048448563
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2363/4000 (59%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 493/4000 (12%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2825/4000 (71%)
Done in 11.777825593948364 sec.
select client [731, 813, 242, 987, 791, 998, 777, 628, 485]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004966039702089297
l2 norm of benign user after server clipping 0.004966039702089297
Poison Train Epoch: 0 	Loss: 0.052740
Poison Train Epoch: 1 	Loss: 0.018483
Poison Train Epoch: 2 	Loss: 0.029749
Poison Train Epoch: 3 	Loss: 0.145948
Poison Train Epoch: 4 	Loss: 0.012019
Poison Train Epoch: 5 	Loss: 0.031080
Poison Train Epoch: 6 	Loss: 0.032479
Poison Train Epoch: 7 	Loss: 0.183693
Poison Train Epoch: 8 	Loss: 0.034221
Poison Train Epoch: 9 	Loss: 0.062757
Poison Train Epoch: 10 	Loss: 0.032507
Poison Train Epoch: 11 	Loss: 0.015205
Poison Train Epoch: 12 	Loss: 0.065248
Poison Train Epoch: 13 	Loss: 0.259697
Poison Train Epoch: 14 	Loss: 0.035227
Test set:local_Trigger0_localPoison Accuracy: 3884/4000 (97%)
___Test : epoch: 2035: Average loss: 0.0617, Accuracy: 39273/40000.0 (98.1825%)
benign test loss (after fedavg) 0.061740736976265906
benign test acc (after fedavg) 98.18249999999999
Test set:local_Trigger0Poison Accuracy: 53/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2847/4000 (71%)
Test set:local_Trigger2Poison Accuracy: 52/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1260/4000 (32%)
Test set:Main Accuracy: 39273/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3133/4000 (78%)
Done in 19.21339702606201 sec.
select client [587, 253, 396, 912, 53, 420, 889, 850, 905, 145]
l2 norm of benign user before server clipping 0.005920262855943293
l2 norm of benign user after server clipping 0.005920262855943293
___Test : epoch: 2036: Average loss: 0.0601, Accuracy: 39298/40000.0 (98.2450%)
benign test loss (after fedavg) 0.060080688051879404
benign test acc (after fedavg) 98.245
Test set:local_Trigger0Poison Accuracy: 44/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2731/4000 (68%)
Test set:local_Trigger2Poison Accuracy: 46/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1125/4000 (28%)
Test set:Main Accuracy: 39298/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3031/4000 (76%)
Done in 11.818054676055908 sec.
select client [541, 599, 789, 573, 179, 549, 516, 416, 844, 937]
l2 norm of benign user before server clipping 0.00576533789280802
l2 norm of benign user after server clipping 0.00576533789280802
___Test : epoch: 2037: Average loss: 0.0588, Accuracy: 39310/40000.0 (98.2750%)
benign test loss (after fedavg) 0.05876551706045866
benign test acc (after fedavg) 98.275
Test set:local_Trigger0Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2642/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 980/4000 (24%)
Test set:Main Accuracy: 39310/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2986/4000 (75%)
Done in 11.957444906234741 sec.
select client [155, 307, 115, 736, 933, 166, 228, 487, 848, 353]
l2 norm of benign user before server clipping 0.005369309708476067
l2 norm of benign user after server clipping 0.005369309708476067
___Test : epoch: 2038: Average loss: 0.0575, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.057544497974216936
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2524/4000 (63%)
Test set:local_Trigger2Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 848/4000 (21%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2891/4000 (72%)
Done in 11.724764585494995 sec.
select client [296, 520, 763, 482, 36, 576, 590, 370, 483, 593]
l2 norm of benign user before server clipping 0.006046939501538872
l2 norm of benign user after server clipping 0.006046939501538872
___Test : epoch: 2039: Average loss: 0.0567, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05673535808324814
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 2459/4000 (61%)
Test set:local_Trigger2Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 736/4000 (18%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2843/4000 (71%)
Done in 11.752624750137329 sec.
select client [21, 148, 412, 638, 341, 58, 987, 789, 170]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0065483652158743804
l2 norm of benign user after server clipping 0.0065483652158743804
Poison Train Epoch: 0 	Loss: 0.029406
Poison Train Epoch: 1 	Loss: 0.029863
Poison Train Epoch: 2 	Loss: 0.038852
Poison Train Epoch: 3 	Loss: 0.011098
Poison Train Epoch: 4 	Loss: 0.114035
Poison Train Epoch: 5 	Loss: 0.066338
Poison Train Epoch: 6 	Loss: 0.018774
Poison Train Epoch: 7 	Loss: 0.187940
Poison Train Epoch: 8 	Loss: 0.102385
Poison Train Epoch: 9 	Loss: 0.026229
Poison Train Epoch: 10 	Loss: 0.168952
Poison Train Epoch: 11 	Loss: 0.061468
Poison Train Epoch: 12 	Loss: 0.056501
Poison Train Epoch: 13 	Loss: 0.036173
Poison Train Epoch: 14 	Loss: 0.008993
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2040: Average loss: 0.0568, Accuracy: 39323/40000.0 (98.3075%)
benign test loss (after fedavg) 0.05684127390682697
benign test acc (after fedavg) 98.3075
Test set:local_Trigger0Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3278/4000 (82%)
Test set:local_Trigger2Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 687/4000 (17%)
Test set:Main Accuracy: 39323/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3498/4000 (87%)
Done in 19.236954927444458 sec.
select client [50, 430, 558, 872, 487, 997, 213, 399, 936, 524]
l2 norm of benign user before server clipping 0.004940159048419446
l2 norm of benign user after server clipping 0.004940159048419446
___Test : epoch: 2041: Average loss: 0.0561, Accuracy: 39328/40000.0 (98.3200%)
benign test loss (after fedavg) 0.05607991318106651
benign test acc (after fedavg) 98.32
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3235/4000 (81%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 584/4000 (15%)
Test set:Main Accuracy: 39328/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3488/4000 (87%)
Done in 11.755770206451416 sec.
select client [466, 383, 227, 208, 556, 117, 560, 597, 698, 679]
l2 norm of benign user before server clipping 0.0062777357641607525
l2 norm of benign user after server clipping 0.0062777357641607525
___Test : epoch: 2042: Average loss: 0.0555, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05550580603480339
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3177/4000 (79%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 510/4000 (13%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3462/4000 (87%)
Done in 11.896581411361694 sec.
select client [523, 965, 503, 609, 338, 307, 558, 849, 856, 254]
l2 norm of benign user before server clipping 0.005653254629578441
l2 norm of benign user after server clipping 0.005653254629578441
___Test : epoch: 2043: Average loss: 0.0552, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.05520333695858717
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3160/4000 (79%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 458/4000 (11%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3462/4000 (87%)
Done in 11.65274453163147 sec.
select client [570, 914, 819, 517, 706, 257, 29, 66, 705, 416]
l2 norm of benign user before server clipping 0.006013660691678524
l2 norm of benign user after server clipping 0.006013660691678524
___Test : epoch: 2044: Average loss: 0.0548, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.054840152330696584
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3128/4000 (78%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 447/4000 (11%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3440/4000 (86%)
Done in 11.829567909240723 sec.
select client [325, 978, 406, 924, 134, 507, 847, 394, 782]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004594547855150368
l2 norm of benign user after server clipping 0.004594547855150368
Poison Train Epoch: 0 	Loss: 0.123008
Poison Train Epoch: 1 	Loss: 0.087869
Poison Train Epoch: 2 	Loss: 0.060665
Poison Train Epoch: 3 	Loss: 0.078218
Poison Train Epoch: 4 	Loss: 0.145971
Poison Train Epoch: 5 	Loss: 0.068853
Poison Train Epoch: 6 	Loss: 0.094904
Poison Train Epoch: 7 	Loss: 0.070954
Poison Train Epoch: 8 	Loss: 0.040595
Poison Train Epoch: 9 	Loss: 0.068565
Poison Train Epoch: 10 	Loss: 0.014835
Poison Train Epoch: 11 	Loss: 0.054882
Poison Train Epoch: 12 	Loss: 0.016957
Poison Train Epoch: 13 	Loss: 0.243888
Poison Train Epoch: 14 	Loss: 0.089846
Test set:local_Trigger2_localPoison Accuracy: 3921/4000 (98%)
___Test : epoch: 2045: Average loss: 0.0611, Accuracy: 39276/40000.0 (98.1900%)
benign test loss (after fedavg) 0.061145473773777485
benign test acc (after fedavg) 98.19
Test set:local_Trigger0Poison Accuracy: 64/4000 (2%)
Test set:local_Trigger1Poison Accuracy: 3444/4000 (86%)
Test set:local_Trigger2Poison Accuracy: 63/4000 (2%)
Test set:local_Trigger3Poison Accuracy: 1393/4000 (35%)
Test set:Main Accuracy: 39276/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3589/4000 (90%)
Done in 19.08847999572754 sec.
select client [224, 928, 881, 86, 13, 665, 201, 408, 575, 592]
l2 norm of benign user before server clipping 0.007482276670634747
l2 norm of benign user after server clipping 0.007482276670634747
___Test : epoch: 2046: Average loss: 0.0586, Accuracy: 39305/40000.0 (98.2625%)
benign test loss (after fedavg) 0.05855082282721996
benign test acc (after fedavg) 98.2625
Test set:local_Trigger0Poison Accuracy: 40/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3409/4000 (85%)
Test set:local_Trigger2Poison Accuracy: 39/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1037/4000 (26%)
Test set:Main Accuracy: 39305/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3566/4000 (89%)
Done in 11.795974493026733 sec.
select client [711, 910, 902, 449, 926, 735, 123, 124, 848, 185]
l2 norm of benign user before server clipping 0.005580827582161873
l2 norm of benign user after server clipping 0.005580827582161873
___Test : epoch: 2047: Average loss: 0.0576, Accuracy: 39306/40000.0 (98.2650%)
benign test loss (after fedavg) 0.05757071388959885
benign test acc (after fedavg) 98.265
Test set:local_Trigger0Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3384/4000 (85%)
Test set:local_Trigger2Poison Accuracy: 32/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 865/4000 (22%)
Test set:Main Accuracy: 39306/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3557/4000 (89%)
Done in 11.877949953079224 sec.
select client [265, 109, 332, 14, 493, 171, 441, 683, 345, 468]
l2 norm of benign user before server clipping 0.006574814557097852
l2 norm of benign user after server clipping 0.006574814557097852
___Test : epoch: 2048: Average loss: 0.0573, Accuracy: 39306/40000.0 (98.2650%)
benign test loss (after fedavg) 0.05730916182547808
benign test acc (after fedavg) 98.265
Test set:local_Trigger0Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3334/4000 (83%)
Test set:local_Trigger2Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 753/4000 (19%)
Test set:Main Accuracy: 39306/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3538/4000 (88%)
Done in 11.777619123458862 sec.
select client [16, 101, 331, 50, 666, 242, 937, 968, 226, 832]
l2 norm of benign user before server clipping 0.004817364388145506
l2 norm of benign user after server clipping 0.004817364388145506
___Test : epoch: 2049: Average loss: 0.0568, Accuracy: 39318/40000.0 (98.2950%)
benign test loss (after fedavg) 0.05676499538719654
benign test acc (after fedavg) 98.295
Test set:local_Trigger0Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3284/4000 (82%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 634/4000 (16%)
Test set:Main Accuracy: 39318/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3506/4000 (88%)
Done in 11.631705045700073 sec.
select client [541, 820, 644, 122, 151, 942, 390, 742, 499]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006456440275845428
l2 norm of benign user after server clipping 0.006456440275845428
Poison Train Epoch: 0 	Loss: 0.114973
Poison Train Epoch: 1 	Loss: 0.056979
Poison Train Epoch: 2 	Loss: 0.037876
Poison Train Epoch: 3 	Loss: 0.031437
Poison Train Epoch: 4 	Loss: 0.062818
Poison Train Epoch: 5 	Loss: 0.013740
Poison Train Epoch: 6 	Loss: 0.062881
Poison Train Epoch: 7 	Loss: 0.050698
Poison Train Epoch: 8 	Loss: 0.005683
Poison Train Epoch: 9 	Loss: 0.023719
Poison Train Epoch: 10 	Loss: 0.032725
Poison Train Epoch: 11 	Loss: 0.072980
Poison Train Epoch: 12 	Loss: 0.036172
Poison Train Epoch: 13 	Loss: 0.039271
Poison Train Epoch: 14 	Loss: 0.037758
Test set:local_Trigger3_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2050: Average loss: 0.0581, Accuracy: 39303/40000.0 (98.2575%)
benign test loss (after fedavg) 0.05812315345555544
benign test acc (after fedavg) 98.2575
Test set:local_Trigger0Poison Accuracy: 34/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3364/4000 (84%)
Test set:local_Trigger2Poison Accuracy: 34/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1267/4000 (32%)
Test set:Main Accuracy: 39303/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3579/4000 (89%)
Done in 19.295655965805054 sec.
select client [74, 263, 249, 390, 886, 101, 477, 226, 769, 317]
l2 norm of benign user before server clipping 0.006601239251904189
l2 norm of benign user after server clipping 0.006601239251904189
___Test : epoch: 2051: Average loss: 0.0570, Accuracy: 39316/40000.0 (98.2900%)
benign test loss (after fedavg) 0.05701717146933079
benign test acc (after fedavg) 98.29
Test set:local_Trigger0Poison Accuracy: 29/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 3339/4000 (83%)
Test set:local_Trigger2Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1064/4000 (27%)
Test set:Main Accuracy: 39316/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3578/4000 (89%)
Done in 11.803529262542725 sec.
select client [619, 812, 873, 36, 697, 585, 385, 999, 524, 33]
l2 norm of benign user before server clipping 0.006315224035643041
l2 norm of benign user after server clipping 0.006315224035643041
___Test : epoch: 2052: Average loss: 0.0567, Accuracy: 39320/40000.0 (98.3000%)
benign test loss (after fedavg) 0.05666654327809811
benign test acc (after fedavg) 98.3
Test set:local_Trigger0Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3312/4000 (83%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 861/4000 (22%)
Test set:Main Accuracy: 39320/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3586/4000 (90%)
Done in 11.857957363128662 sec.
select client [618, 729, 502, 403, 350, 660, 833, 83, 646, 696]
l2 norm of benign user before server clipping 0.005445398529991508
l2 norm of benign user after server clipping 0.005445398529991508
___Test : epoch: 2053: Average loss: 0.0556, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05559177324920893
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3233/4000 (81%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 735/4000 (18%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3548/4000 (89%)
Done in 11.792959928512573 sec.
select client [631, 136, 878, 35, 839, 963, 584, 671, 433, 685]
l2 norm of benign user before server clipping 0.00683377159293741
l2 norm of benign user after server clipping 0.00683377159293741
___Test : epoch: 2054: Average loss: 0.0551, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.055139182277023795
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3183/4000 (80%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 569/4000 (14%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3535/4000 (88%)
Done in 11.86930513381958 sec.
select client [83, 127, 786, 712, 143, 239, 547, 313, 729, 780]
l2 norm of benign user before server clipping 0.0047264533350244164
l2 norm of benign user after server clipping 0.0047264533350244164
___Test : epoch: 2055: Average loss: 0.0549, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.0549030027911067
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3138/4000 (78%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 563/4000 (14%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3495/4000 (87%)
Done in 11.714489221572876 sec.
select client [75, 664, 280, 692, 770, 583, 630, 799, 485, 719]
l2 norm of benign user before server clipping 0.007125894585624337
l2 norm of benign user after server clipping 0.007125894585624337
___Test : epoch: 2056: Average loss: 0.0549, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05493879227340221
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3118/4000 (78%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 557/4000 (14%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3487/4000 (87%)
Done in 12.140340566635132 sec.
select client [305, 42, 201, 99, 422, 474, 793, 728, 471, 294]
l2 norm of benign user before server clipping 0.004971121228300035
l2 norm of benign user after server clipping 0.004971121228300035
___Test : epoch: 2057: Average loss: 0.0550, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05498452381640673
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3088/4000 (77%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 486/4000 (12%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3475/4000 (87%)
Done in 11.773501634597778 sec.
select client [587, 905, 781, 836, 734, 866, 251, 175, 860, 901]
l2 norm of benign user before server clipping 0.005386378476396203
l2 norm of benign user after server clipping 0.005386378476396203
___Test : epoch: 2058: Average loss: 0.0548, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05475978748351336
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3045/4000 (76%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 479/4000 (12%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3460/4000 (86%)
Done in 11.90636920928955 sec.
select client [816, 924, 871, 422, 710, 191, 114, 604, 172, 357]
l2 norm of benign user before server clipping 0.003522462910041213
l2 norm of benign user after server clipping 0.003522462910041213
___Test : epoch: 2059: Average loss: 0.0549, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.054928329721093176
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3078/4000 (77%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 473/4000 (12%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3473/4000 (87%)
Done in 11.693361520767212 sec.
select client [819, 94, 756, 190, 844, 954, 596, 682, 561, 645]
l2 norm of benign user before server clipping 0.005742627172730863
l2 norm of benign user after server clipping 0.005742627172730863
___Test : epoch: 2060: Average loss: 0.0549, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.054930905596911904
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2995/4000 (75%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 404/4000 (10%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3436/4000 (86%)
Done in 11.819443702697754 sec.
select client [443, 691, 518, 840, 937, 221, 49, 613, 361, 69]
l2 norm of benign user before server clipping 0.004748037550598383
l2 norm of benign user after server clipping 0.004748037550598383
___Test : epoch: 2061: Average loss: 0.0549, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.05486489127874374
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2951/4000 (74%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 352/4000 (9%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3410/4000 (85%)
Done in 11.662732601165771 sec.
select client [958, 531, 458, 687, 700, 360, 107, 797, 762, 439]
l2 norm of benign user before server clipping 0.005664478125981987
l2 norm of benign user after server clipping 0.005664478125981987
___Test : epoch: 2062: Average loss: 0.0551, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05514307568669319
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2947/4000 (74%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 363/4000 (9%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3406/4000 (85%)
Done in 12.078642845153809 sec.
select client [610, 426, 854, 473, 618, 193, 310, 889, 184, 798]
l2 norm of benign user before server clipping 0.005549902934581042
l2 norm of benign user after server clipping 0.005549902934581042
___Test : epoch: 2063: Average loss: 0.0554, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.055356075170636176
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2941/4000 (74%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 366/4000 (9%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3398/4000 (85%)
Done in 11.947501182556152 sec.
select client [687, 697, 95, 608, 936, 578, 472, 164, 338, 340]
l2 norm of benign user before server clipping 0.00860126072075218
l2 norm of benign user after server clipping 0.00860126072075218
___Test : epoch: 2064: Average loss: 0.0559, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.05592873047739268
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2901/4000 (73%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 336/4000 (8%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3392/4000 (85%)
Done in 11.792626142501831 sec.
select client [756, 514, 659, 958, 130, 480, 603, 488, 680, 97]
l2 norm of benign user before server clipping 0.0048450947389937936
l2 norm of benign user after server clipping 0.0048450947389937936
___Test : epoch: 2065: Average loss: 0.0559, Accuracy: 39320/40000.0 (98.3000%)
benign test loss (after fedavg) 0.055936250922083854
benign test acc (after fedavg) 98.3
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2881/4000 (72%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 310/4000 (8%)
Test set:Main Accuracy: 39320/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3385/4000 (85%)
Done in 11.82261610031128 sec.
select client [68, 963, 971, 370, 47, 765, 656, 935, 131, 984]
l2 norm of benign user before server clipping 0.005299476836808026
l2 norm of benign user after server clipping 0.005299476836808026
___Test : epoch: 2066: Average loss: 0.0560, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05603973218947649
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2861/4000 (72%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 307/4000 (8%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3365/4000 (84%)
Done in 11.81369161605835 sec.
select client [51, 699, 885, 178, 280, 219, 903, 369, 154, 108]
l2 norm of benign user before server clipping 0.006278652511537075
l2 norm of benign user after server clipping 0.006278652511537075
___Test : epoch: 2067: Average loss: 0.0558, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.05576727440804243
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2875/4000 (72%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 329/4000 (8%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3378/4000 (84%)
Done in 12.056935787200928 sec.
select client [724, 278, 501, 946, 654, 825, 371, 954, 220, 738]
l2 norm of benign user before server clipping 0.0043014178634621205
l2 norm of benign user after server clipping 0.0043014178634621205
___Test : epoch: 2068: Average loss: 0.0557, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05573693717569113
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2869/4000 (72%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 326/4000 (8%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3376/4000 (84%)
Done in 11.762324571609497 sec.
select client [131, 487, 157, 649, 671, 557, 642, 304, 443, 404]
l2 norm of benign user before server clipping 0.004295700218062848
l2 norm of benign user after server clipping 0.004295700218062848
___Test : epoch: 2069: Average loss: 0.0556, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05557795110493898
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2827/4000 (71%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 300/4000 (8%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3344/4000 (84%)
Done in 11.79139494895935 sec.
select client [827, 811, 932, 408, 65, 120, 316, 617, 855, 983]
l2 norm of benign user before server clipping 0.006465906789526343
l2 norm of benign user after server clipping 0.006465906789526343
___Test : epoch: 2070: Average loss: 0.0553, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.05529563176035881
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2850/4000 (71%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 312/4000 (8%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3358/4000 (84%)
Done in 11.989146947860718 sec.
select client [695, 402, 419, 858, 991, 867, 220, 936, 918, 859]
l2 norm of benign user before server clipping 0.003138743934687227
l2 norm of benign user after server clipping 0.003138743934687227
___Test : epoch: 2071: Average loss: 0.0554, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.05536733246743679
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2852/4000 (71%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 310/4000 (8%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3365/4000 (84%)
Done in 11.684667110443115 sec.
select client [487, 303, 483, 586, 840, 817, 739, 225, 999, 679]
l2 norm of benign user before server clipping 0.005841065943241119
l2 norm of benign user after server clipping 0.005841065943241119
___Test : epoch: 2072: Average loss: 0.0550, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05501566043496132
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2868/4000 (72%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 323/4000 (8%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3374/4000 (84%)
Done in 11.859475135803223 sec.
select client [77, 716, 129, 410, 982, 935, 246, 771, 662, 620]
l2 norm of benign user before server clipping 0.006339999288320542
l2 norm of benign user after server clipping 0.006339999288320542
___Test : epoch: 2073: Average loss: 0.0553, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.055329619307816026
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2806/4000 (70%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 266/4000 (7%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3347/4000 (84%)
Done in 11.829586029052734 sec.
select client [19, 389, 306, 54, 79, 993, 425, 155, 727, 794]
l2 norm of benign user before server clipping 0.0063073471887037155
l2 norm of benign user after server clipping 0.0063073471887037155
___Test : epoch: 2074: Average loss: 0.0546, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05458162054419517
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2784/4000 (70%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 298/4000 (7%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3284/4000 (82%)
Done in 11.872579574584961 sec.
select client [995, 637, 858, 360, 137, 415, 430, 944, 73, 914]
l2 norm of benign user before server clipping 0.006354465743061155
l2 norm of benign user after server clipping 0.006354465743061155
___Test : epoch: 2075: Average loss: 0.0550, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.05496466430276632
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2806/4000 (70%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 303/4000 (8%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3318/4000 (83%)
Done in 11.892587423324585 sec.
select client [487, 154, 994, 649, 996, 819, 103, 570, 602, 624]
l2 norm of benign user before server clipping 0.00438654642784968
l2 norm of benign user after server clipping 0.00438654642784968
___Test : epoch: 2076: Average loss: 0.0547, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05474411410838365
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2786/4000 (70%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 287/4000 (7%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3296/4000 (82%)
Done in 11.912747859954834 sec.
select client [566, 370, 832, 295, 436, 442, 366, 359, 97, 780]
l2 norm of benign user before server clipping 0.006093239574693143
l2 norm of benign user after server clipping 0.006093239574693143
___Test : epoch: 2077: Average loss: 0.0546, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.05462006059587002
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2751/4000 (69%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 289/4000 (7%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3254/4000 (81%)
Done in 11.885305404663086 sec.
select client [615, 434, 730, 873, 477, 647, 363, 130, 894, 734]
l2 norm of benign user before server clipping 0.00538922909181565
l2 norm of benign user after server clipping 0.00538922909181565
___Test : epoch: 2078: Average loss: 0.0544, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05435203482061624
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2682/4000 (67%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 254/4000 (6%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3217/4000 (80%)
Done in 11.97428297996521 sec.
select client [153, 957, 793, 974, 446, 846, 389, 32, 529, 636]
l2 norm of benign user before server clipping 0.0041665150318294765
l2 norm of benign user after server clipping 0.0041665150318294765
___Test : epoch: 2079: Average loss: 0.0543, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05431119159162044
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2722/4000 (68%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 278/4000 (7%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3238/4000 (81%)
Done in 11.818257331848145 sec.
select client [973, 589, 981, 721, 418, 500, 65, 846, 151, 474]
l2 norm of benign user before server clipping 0.004720549180638045
l2 norm of benign user after server clipping 0.004720549180638045
___Test : epoch: 2080: Average loss: 0.0547, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.05466980706751347
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2711/4000 (68%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 256/4000 (6%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3246/4000 (81%)
Done in 11.918203830718994 sec.
select client [886, 528, 777, 140, 736, 400, 857, 104, 919, 761]
l2 norm of benign user before server clipping 0.0054233703995123506
l2 norm of benign user after server clipping 0.0054233703995123506
___Test : epoch: 2081: Average loss: 0.0546, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05456040461659432
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2702/4000 (68%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 246/4000 (6%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3250/4000 (81%)
Done in 12.034919738769531 sec.
select client [913, 987, 863, 175, 23, 872, 607, 391, 56, 726]
l2 norm of benign user before server clipping 0.005611287232022732
l2 norm of benign user after server clipping 0.005611287232022732
___Test : epoch: 2082: Average loss: 0.0548, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05476052706688642
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2674/4000 (67%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 225/4000 (6%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3225/4000 (81%)
Done in 11.871684312820435 sec.
select client [561, 424, 122, 454, 698, 883, 798, 396, 179, 754]
l2 norm of benign user before server clipping 0.005579242971725762
l2 norm of benign user after server clipping 0.005579242971725762
___Test : epoch: 2083: Average loss: 0.0542, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.0541860626026988
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2650/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 226/4000 (6%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3198/4000 (80%)
Done in 11.950100660324097 sec.
select client [89, 48, 717, 13, 324, 398, 326, 676, 264, 489]
l2 norm of benign user before server clipping 0.0058144380571320655
l2 norm of benign user after server clipping 0.0058144380571320655
___Test : epoch: 2084: Average loss: 0.0542, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05423146031498909
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2643/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 214/4000 (5%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3200/4000 (80%)
Done in 12.113577365875244 sec.
select client [852, 342, 647, 529, 579, 205, 536, 816, 935, 129]
l2 norm of benign user before server clipping 0.00500224232673645
l2 norm of benign user after server clipping 0.00500224232673645
___Test : epoch: 2085: Average loss: 0.0548, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.054758263252675535
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2556/4000 (64%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 180/4000 (4%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3149/4000 (79%)
Done in 11.733718156814575 sec.
select client [196, 149, 468, 949, 530, 121, 941, 502, 344, 59]
l2 norm of benign user before server clipping 0.005628351145423949
l2 norm of benign user after server clipping 0.005628351145423949
___Test : epoch: 2086: Average loss: 0.0547, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.054714809156954286
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2579/4000 (64%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 184/4000 (5%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3163/4000 (79%)
Done in 12.129151344299316 sec.
select client [107, 652, 35, 240, 492, 68, 929, 413, 274, 585]
l2 norm of benign user before server clipping 0.005609897244721651
l2 norm of benign user after server clipping 0.005609897244721651
___Test : epoch: 2087: Average loss: 0.0542, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.054216812300682066
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2652/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 222/4000 (6%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3207/4000 (80%)
Done in 11.963906049728394 sec.
select client [534, 722, 469, 81, 783, 927, 488, 68, 754, 207]
l2 norm of benign user before server clipping 0.004115658905357122
l2 norm of benign user after server clipping 0.004115658905357122
___Test : epoch: 2088: Average loss: 0.0542, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05424169590175152
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2647/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 217/4000 (5%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3203/4000 (80%)
Done in 11.795734643936157 sec.
select client [955, 590, 654, 922, 219, 20, 591, 834, 38, 695]
l2 norm of benign user before server clipping 0.0045483028283342716
l2 norm of benign user after server clipping 0.0045483028283342716
___Test : epoch: 2089: Average loss: 0.0541, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05414190078377724
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2670/4000 (67%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 223/4000 (6%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3223/4000 (81%)
Done in 11.873394012451172 sec.
select client [840, 626, 133, 627, 21, 941, 939, 344, 34, 920]
l2 norm of benign user before server clipping 0.0050618443521670995
l2 norm of benign user after server clipping 0.0050618443521670995
___Test : epoch: 2090: Average loss: 0.0541, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.05406821967810392
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2637/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 225/4000 (6%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3192/4000 (80%)
Done in 11.915508508682251 sec.
select client [526, 658, 553, 185, 104, 219, 532, 842, 333, 869]
l2 norm of benign user before server clipping 0.004191839601844549
l2 norm of benign user after server clipping 0.004191839601844549
___Test : epoch: 2091: Average loss: 0.0540, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.053982859402894975
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2646/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 230/4000 (6%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3200/4000 (80%)
Done in 11.703683376312256 sec.
select client [467, 12, 528, 421, 751, 505, 299, 792, 497, 201]
l2 norm of benign user before server clipping 0.006032720603980124
l2 norm of benign user after server clipping 0.006032720603980124
___Test : epoch: 2092: Average loss: 0.0543, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05427127777636051
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2609/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 206/4000 (5%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3182/4000 (80%)
Done in 11.876128911972046 sec.
select client [955, 678, 877, 411, 970, 496, 923, 863, 146, 196]
l2 norm of benign user before server clipping 0.004925053007900715
l2 norm of benign user after server clipping 0.004925053007900715
___Test : epoch: 2093: Average loss: 0.0542, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.0541612154468894
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2608/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 210/4000 (5%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3175/4000 (79%)
Done in 11.697895050048828 sec.
select client [817, 820, 823, 700, 494, 114, 576, 246, 670, 413]
l2 norm of benign user before server clipping 0.004499316494911909
l2 norm of benign user after server clipping 0.004499316494911909
___Test : epoch: 2094: Average loss: 0.0538, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05379099855422974
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2608/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 224/4000 (6%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3169/4000 (79%)
Done in 11.787462949752808 sec.
select client [405, 431, 706, 507, 314, 337, 419, 443, 802, 188]
l2 norm of benign user before server clipping 0.00462547994684428
l2 norm of benign user after server clipping 0.00462547994684428
___Test : epoch: 2095: Average loss: 0.0536, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.0535736067160964
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2583/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 219/4000 (5%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3155/4000 (79%)
Done in 11.978805780410767 sec.
select client [607, 601, 526, 584, 550, 241, 555, 903, 582, 200]
l2 norm of benign user before server clipping 0.004064858460333198
l2 norm of benign user after server clipping 0.004064858460333198
___Test : epoch: 2096: Average loss: 0.0534, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.053357813362777236
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2587/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 236/4000 (6%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3163/4000 (79%)
Done in 11.87528657913208 sec.
select client [429, 32, 138, 570, 235, 260, 113, 180, 456, 134]
l2 norm of benign user before server clipping 0.0076349480194039645
l2 norm of benign user after server clipping 0.0076349480194039645
___Test : epoch: 2097: Average loss: 0.0530, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05295542670637369
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2592/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 251/4000 (6%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3151/4000 (79%)
Done in 11.624573707580566 sec.
select client [788, 335, 881, 983, 519, 925, 969, 243, 660, 320]
l2 norm of benign user before server clipping 0.0060120184207335114
l2 norm of benign user after server clipping 0.0060120184207335114
___Test : epoch: 2098: Average loss: 0.0531, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05307833815217018
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2630/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 260/4000 (6%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3185/4000 (80%)
Done in 11.817686319351196 sec.
select client [231, 774, 867, 291, 267, 809, 310, 77, 594, 778]
l2 norm of benign user before server clipping 0.006414433242753148
l2 norm of benign user after server clipping 0.006414433242753148
___Test : epoch: 2099: Average loss: 0.0534, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.053366532658040526
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2726/4000 (68%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 284/4000 (7%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3254/4000 (81%)
Done in 12.167037725448608 sec.
select client [29, 947, 666, 142, 535, 541, 650, 730, 583, 55]
l2 norm of benign user before server clipping 0.006014477601274848
l2 norm of benign user after server clipping 0.006014477601274848
___Test : epoch: 2100: Average loss: 0.0533, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.053322140398621556
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2656/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 261/4000 (7%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3203/4000 (80%)
Done in 11.935165405273438 sec.
select client [560, 419, 314, 164, 496, 15, 185, 646, 445, 672]
l2 norm of benign user before server clipping 0.004156368924304843
l2 norm of benign user after server clipping 0.004156368924304843
___Test : epoch: 2101: Average loss: 0.0536, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.0535881370306015
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2685/4000 (67%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 264/4000 (7%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3224/4000 (81%)
Done in 11.890071630477905 sec.
select client [477, 207, 222, 290, 401, 794, 892, 945, 859, 97]
l2 norm of benign user before server clipping 0.005501439911313355
l2 norm of benign user after server clipping 0.005501439911313355
___Test : epoch: 2102: Average loss: 0.0541, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05408000906407833
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2632/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 236/4000 (6%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3193/4000 (80%)
Done in 11.838967084884644 sec.
select client [168, 451, 722, 467, 382, 195, 429, 833, 464, 782]
l2 norm of benign user before server clipping 0.005512074218131602
l2 norm of benign user after server clipping 0.005512074218131602
___Test : epoch: 2103: Average loss: 0.0536, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05362996300309896
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2626/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 248/4000 (6%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3179/4000 (79%)
Done in 11.99298620223999 sec.
select client [222, 849, 936, 615, 243, 284, 411, 335, 857, 878]
l2 norm of benign user before server clipping 0.0033456941600888968
l2 norm of benign user after server clipping 0.0033456941600888968
___Test : epoch: 2104: Average loss: 0.0538, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05377645148783922
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2597/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 238/4000 (6%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3162/4000 (79%)
Done in 11.656306028366089 sec.
select client [807, 457, 671, 899, 858, 869, 513, 214, 507, 955]
l2 norm of benign user before server clipping 0.004816224565729499
l2 norm of benign user after server clipping 0.004816224565729499
___Test : epoch: 2105: Average loss: 0.0535, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.053460045067965985
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2584/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 237/4000 (6%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3156/4000 (79%)
Done in 11.790253162384033 sec.
select client [445, 212, 345, 855, 932, 222, 205, 54, 272, 792]
l2 norm of benign user before server clipping 0.006197664351202547
l2 norm of benign user after server clipping 0.006197664351202547
___Test : epoch: 2106: Average loss: 0.0533, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05333072776198387
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2640/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 262/4000 (7%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3197/4000 (80%)
Done in 11.93894100189209 sec.
select client [70, 80, 461, 916, 54, 976, 614, 580, 11, 188]
l2 norm of benign user before server clipping 0.0035828889172989874
l2 norm of benign user after server clipping 0.0035828889172989874
___Test : epoch: 2107: Average loss: 0.0533, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05328102177530527
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2635/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 275/4000 (7%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3190/4000 (80%)
Done in 11.761333703994751 sec.
select client [641, 762, 693, 501, 732, 627, 909, 474, 68, 427]
l2 norm of benign user before server clipping 0.004548118263483047
l2 norm of benign user after server clipping 0.004548118263483047
___Test : epoch: 2108: Average loss: 0.0534, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.053424487249553204
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2633/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 265/4000 (7%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3191/4000 (80%)
Done in 11.665228843688965 sec.
select client [754, 984, 537, 228, 626, 546, 410, 362, 475, 109]
l2 norm of benign user before server clipping 0.004025500477291643
l2 norm of benign user after server clipping 0.004025500477291643
___Test : epoch: 2109: Average loss: 0.0533, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.053296106979250905
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2642/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 275/4000 (7%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3196/4000 (80%)
Done in 11.667253255844116 sec.
select client [867, 638, 157, 960, 338, 935, 652, 492, 971, 881]
l2 norm of benign user before server clipping 0.007241952884942293
l2 norm of benign user after server clipping 0.007241952884942293
___Test : epoch: 2110: Average loss: 0.0535, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.05346727299839258
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2646/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 253/4000 (6%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3209/4000 (80%)
Done in 11.928875923156738 sec.
select client [932, 610, 39, 80, 205, 43, 663, 30, 723, 377]
l2 norm of benign user before server clipping 0.004640959436073899
l2 norm of benign user after server clipping 0.004640959436073899
___Test : epoch: 2111: Average loss: 0.0533, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05332658374160528
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2650/4000 (66%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 270/4000 (7%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3201/4000 (80%)
Done in 11.67626690864563 sec.
select client [682, 357, 80, 286, 940, 663, 696, 946, 334, 709]
l2 norm of benign user before server clipping 0.004718916839919984
l2 norm of benign user after server clipping 0.004718916839919984
___Test : epoch: 2112: Average loss: 0.0533, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05326469251215458
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2606/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 264/4000 (7%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3175/4000 (79%)
Done in 11.981543779373169 sec.
select client [829, 767, 304, 804, 506, 928, 95, 17, 916, 799]
l2 norm of benign user before server clipping 0.0050983235472813245
l2 norm of benign user after server clipping 0.0050983235472813245
___Test : epoch: 2113: Average loss: 0.0533, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.053273447114229204
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2579/4000 (64%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 254/4000 (6%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3158/4000 (79%)
Done in 11.68691372871399 sec.
select client [528, 356, 208, 966, 368, 995, 613, 682, 746, 122]
l2 norm of benign user before server clipping 0.004952342621982098
l2 norm of benign user after server clipping 0.004952342621982098
___Test : epoch: 2114: Average loss: 0.0530, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.053020882691442964
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2587/4000 (65%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 272/4000 (7%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3157/4000 (79%)
Done in 11.812811851501465 sec.
select client [642, 527, 734, 245, 101, 762, 74, 722, 595, 991]
l2 norm of benign user before server clipping 0.005450503551401198
l2 norm of benign user after server clipping 0.005450503551401198
___Test : epoch: 2115: Average loss: 0.0533, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.053266506353020666
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2535/4000 (63%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 231/4000 (6%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3131/4000 (78%)
Done in 11.729483366012573 sec.
select client [311, 805, 975, 269, 771, 745, 674, 974, 151, 627]
l2 norm of benign user before server clipping 0.00681157928192988
l2 norm of benign user after server clipping 0.00681157928192988
___Test : epoch: 2116: Average loss: 0.0533, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.05331635128557682
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2566/4000 (64%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 252/4000 (6%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3151/4000 (79%)
Done in 11.739284753799438 sec.
select client [656, 577, 178, 738, 750, 957, 135, 677, 583, 298]
l2 norm of benign user before server clipping 0.00605504922568798
l2 norm of benign user after server clipping 0.00605504922568798
___Test : epoch: 2117: Average loss: 0.0534, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05335167911052704
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2549/4000 (64%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 240/4000 (6%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3131/4000 (78%)
Done in 11.775058269500732 sec.
select client [970, 978, 567, 893, 97, 846, 260, 387, 162, 578]
l2 norm of benign user before server clipping 0.005211255711037666
l2 norm of benign user after server clipping 0.005211255711037666
___Test : epoch: 2118: Average loss: 0.0531, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.0531150043040514
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2538/4000 (63%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 241/4000 (6%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3109/4000 (78%)
Done in 13.4364173412323 sec.
select client [922, 184, 504, 427, 99, 567, 353, 903, 260, 794]
l2 norm of benign user before server clipping 0.0036002681124955417
l2 norm of benign user after server clipping 0.0036002681124955417
___Test : epoch: 2119: Average loss: 0.0532, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05315668729543686
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2520/4000 (63%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 238/4000 (6%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3093/4000 (77%)
Done in 13.753175973892212 sec.
select client [625, 491, 133, 288, 585, 672, 178, 594, 873, 790]
l2 norm of benign user before server clipping 0.0057377570774406195
l2 norm of benign user after server clipping 0.0057377570774406195
___Test : epoch: 2120: Average loss: 0.0532, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.05318769226223231
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2494/4000 (62%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 229/4000 (6%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3075/4000 (77%)
Done in 11.937321901321411 sec.
select client [38, 964, 951, 805, 433, 167, 15, 480, 869, 771]
l2 norm of benign user before server clipping 0.004209931567311287
l2 norm of benign user after server clipping 0.004209931567311287
___Test : epoch: 2121: Average loss: 0.0529, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05290324011147022
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2476/4000 (62%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 233/4000 (6%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3053/4000 (76%)
Done in 11.806574583053589 sec.
select client [379, 704, 783, 241, 308, 803, 972, 355, 836, 912]
l2 norm of benign user before server clipping 0.004946791636757553
l2 norm of benign user after server clipping 0.004946791636757553
___Test : epoch: 2122: Average loss: 0.0529, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05287234489619732
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2439/4000 (61%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 217/4000 (5%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 3024/4000 (76%)
Done in 11.702472925186157 sec.
select client [865, 19, 72, 251, 138, 209, 147, 267, 60, 469]
l2 norm of benign user before server clipping 0.004665515455417335
l2 norm of benign user after server clipping 0.004665515455417335
___Test : epoch: 2123: Average loss: 0.0529, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05294376140087843
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2385/4000 (60%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 204/4000 (5%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2975/4000 (74%)
Done in 11.780369281768799 sec.
select client [285, 611, 672, 600, 811, 920, 529, 780, 360, 119]
l2 norm of benign user before server clipping 0.0073660964146256445
l2 norm of benign user after server clipping 0.0073660964146256445
___Test : epoch: 2124: Average loss: 0.0528, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05277926871776581
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2401/4000 (60%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 235/4000 (6%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2979/4000 (74%)
Done in 11.892761468887329 sec.
select client [904, 32, 819, 491, 739, 662, 929, 928, 458, 542]
l2 norm of benign user before server clipping 0.004038871987722814
l2 norm of benign user after server clipping 0.004038871987722814
___Test : epoch: 2125: Average loss: 0.0529, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.052856308048963546
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2359/4000 (59%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 220/4000 (6%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2952/4000 (74%)
Done in 11.657570123672485 sec.
select client [616, 97, 25, 621, 402, 79, 578, 178, 287, 275]
l2 norm of benign user before server clipping 0.006792647321708501
l2 norm of benign user after server clipping 0.006792647321708501
___Test : epoch: 2126: Average loss: 0.0529, Accuracy: 39373/40000.0 (98.4325%)
benign test loss (after fedavg) 0.05287411296218634
benign test acc (after fedavg) 98.4325
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2335/4000 (58%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 199/4000 (5%)
Test set:Main Accuracy: 39373/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2944/4000 (74%)
Done in 11.833072662353516 sec.
select client [222, 173, 659, 82, 541, 756, 470, 911, 984, 568]
l2 norm of benign user before server clipping 0.004385407583322376
l2 norm of benign user after server clipping 0.004385407583322376
___Test : epoch: 2127: Average loss: 0.0531, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05310344299972057
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2317/4000 (58%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 190/4000 (5%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2942/4000 (74%)
Done in 11.856983661651611 sec.
select client [399, 570, 237, 392, 732, 683, 354, 503, 23, 64]
l2 norm of benign user before server clipping 0.004532408458180726
l2 norm of benign user after server clipping 0.004532408458180726
___Test : epoch: 2128: Average loss: 0.0533, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.053345298992097376
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2286/4000 (57%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 182/4000 (5%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2909/4000 (73%)
Done in 11.706037282943726 sec.
select client [370, 488, 489, 761, 479, 538, 409, 922, 78, 909]
l2 norm of benign user before server clipping 0.0037951474543660877
l2 norm of benign user after server clipping 0.0037951474543660877
___Test : epoch: 2129: Average loss: 0.0531, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05313599248677492
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2285/4000 (57%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 189/4000 (5%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2912/4000 (73%)
Done in 11.650997161865234 sec.
select client [284, 423, 914, 419, 109, 382, 599, 890, 555, 190]
l2 norm of benign user before server clipping 0.004462105373386293
l2 norm of benign user after server clipping 0.004462105373386293
___Test : epoch: 2130: Average loss: 0.0533, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.053262662620842456
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2308/4000 (58%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 186/4000 (5%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2924/4000 (73%)
Done in 11.707582235336304 sec.
select client [439, 399, 353, 516, 81, 12, 762, 605, 597, 962]
l2 norm of benign user before server clipping 0.004963517445139587
l2 norm of benign user after server clipping 0.004963517445139587
___Test : epoch: 2131: Average loss: 0.0536, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.0535918307825923
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2300/4000 (58%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 176/4000 (4%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2925/4000 (73%)
Done in 11.85850214958191 sec.
select client [85, 843, 583, 943, 993, 397, 958, 92, 52, 421]
l2 norm of benign user before server clipping 0.0071743915788829325
l2 norm of benign user after server clipping 0.0071743915788829325
___Test : epoch: 2132: Average loss: 0.0532, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.053153555324673654
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2247/4000 (56%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 177/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2880/4000 (72%)
Done in 11.896409511566162 sec.
select client [643, 372, 936, 606, 94, 966, 254, 60, 161, 525]
l2 norm of benign user before server clipping 0.005374513659626245
l2 norm of benign user after server clipping 0.005374513659626245
___Test : epoch: 2133: Average loss: 0.0529, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.052882053638994696
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2254/4000 (56%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 189/4000 (5%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2891/4000 (72%)
Done in 11.677385568618774 sec.
select client [920, 186, 462, 437, 562, 60, 633, 815, 641, 325]
l2 norm of benign user before server clipping 0.0046917976345866915
l2 norm of benign user after server clipping 0.0046917976345866915
___Test : epoch: 2134: Average loss: 0.0528, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.0528381557777524
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2234/4000 (56%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 173/4000 (4%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2869/4000 (72%)
Done in 11.783179521560669 sec.
select client [194, 898, 439, 897, 894, 362, 387, 865, 551, 431]
l2 norm of benign user before server clipping 0.004211635678075254
l2 norm of benign user after server clipping 0.004211635678075254
___Test : epoch: 2135: Average loss: 0.0527, Accuracy: 39373/40000.0 (98.4325%)
benign test loss (after fedavg) 0.052683774703741075
benign test acc (after fedavg) 98.4325
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2228/4000 (56%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 183/4000 (5%)
Test set:Main Accuracy: 39373/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2864/4000 (72%)
Done in 11.713328838348389 sec.
select client [179, 239, 105, 369, 964, 604, 206, 639, 503, 347]
l2 norm of benign user before server clipping 0.006529673479963094
l2 norm of benign user after server clipping 0.006529673479963094
___Test : epoch: 2136: Average loss: 0.0530, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.05304543939828873
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2222/4000 (56%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 168/4000 (4%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2867/4000 (72%)
Done in 11.962850093841553 sec.
select client [540, 574, 489, 232, 616, 111, 598, 215, 536, 357]
l2 norm of benign user before server clipping 0.004732397198677063
l2 norm of benign user after server clipping 0.004732397198677063
___Test : epoch: 2137: Average loss: 0.0529, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05293002754300833
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2229/4000 (56%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 170/4000 (4%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2873/4000 (72%)
Done in 11.816744804382324 sec.
select client [269, 424, 74, 196, 511, 908, 793, 151, 933, 270]
l2 norm of benign user before server clipping 0.00364123263861984
l2 norm of benign user after server clipping 0.00364123263861984
___Test : epoch: 2138: Average loss: 0.0529, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.052924124950170515
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2210/4000 (55%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 167/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2869/4000 (72%)
Done in 11.446871042251587 sec.
select client [29, 715, 61, 437, 223, 438, 55, 763, 735, 291]
l2 norm of benign user before server clipping 0.006707794568501413
l2 norm of benign user after server clipping 0.006707794568501413
___Test : epoch: 2139: Average loss: 0.0529, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05293025065809488
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2121/4000 (53%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2799/4000 (70%)
Done in 11.941689729690552 sec.
select client [214, 261, 404, 137, 537, 383, 915, 381, 405, 316]
l2 norm of benign user before server clipping 0.007889527385123074
l2 norm of benign user after server clipping 0.007889527385123074
___Test : epoch: 2140: Average loss: 0.0531, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.053060230605304244
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2123/4000 (53%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 151/4000 (4%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2803/4000 (70%)
Done in 11.873619556427002 sec.
select client [338, 637, 736, 514, 859, 878, 427, 153, 179, 455]
l2 norm of benign user before server clipping 0.011039629811421037
l2 norm of benign user after server clipping 0.011039629811421037
___Test : epoch: 2141: Average loss: 0.0533, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05326279416680336
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2090/4000 (52%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2770/4000 (69%)
Done in 11.79844355583191 sec.
select client [224, 867, 682, 724, 425, 789, 968, 60, 629, 727]
l2 norm of benign user before server clipping 0.004773046844638884
l2 norm of benign user after server clipping 0.004773046844638884
___Test : epoch: 2142: Average loss: 0.0528, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.05283140520751476
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2166/4000 (54%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 168/4000 (4%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2808/4000 (70%)
Done in 11.776351928710938 sec.
select client [997, 24, 120, 628, 953, 32, 877, 337, 318, 528]
l2 norm of benign user before server clipping 0.0042490174528211355
l2 norm of benign user after server clipping 0.0042490174528211355
___Test : epoch: 2143: Average loss: 0.0528, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052843699364364144
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2183/4000 (55%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 180/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2817/4000 (70%)
Done in 11.736146211624146 sec.
select client [425, 346, 112, 208, 998, 95, 758, 987, 18, 493]
l2 norm of benign user before server clipping 0.004583727067802102
l2 norm of benign user after server clipping 0.004583727067802102
___Test : epoch: 2144: Average loss: 0.0530, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05302610403746366
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2153/4000 (54%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 168/4000 (4%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2805/4000 (70%)
Done in 11.76157283782959 sec.
select client [188, 591, 70, 896, 419, 996, 745, 134, 973, 884]
l2 norm of benign user before server clipping 0.004843591875396669
l2 norm of benign user after server clipping 0.004843591875396669
___Test : epoch: 2145: Average loss: 0.0530, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.052951430673897265
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2145/4000 (54%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 168/4000 (4%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2804/4000 (70%)
Done in 11.796725511550903 sec.
select client [248, 470, 684, 284, 313, 672, 189, 829, 609, 435]
l2 norm of benign user before server clipping 0.00634628253756091
l2 norm of benign user after server clipping 0.00634628253756091
___Test : epoch: 2146: Average loss: 0.0532, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.053222904974222184
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2190/4000 (55%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 169/4000 (4%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2838/4000 (71%)
Done in 11.887435674667358 sec.
select client [779, 78, 717, 591, 174, 634, 841, 611, 682, 113]
l2 norm of benign user before server clipping 0.00428964828606695
l2 norm of benign user after server clipping 0.00428964828606695
___Test : epoch: 2147: Average loss: 0.0531, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.053054354287683965
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2151/4000 (54%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 158/4000 (4%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2821/4000 (71%)
Done in 11.77721905708313 sec.
select client [700, 219, 223, 796, 731, 378, 118, 730, 420, 480]
l2 norm of benign user before server clipping 0.006343452329747379
l2 norm of benign user after server clipping 0.006343452329747379
___Test : epoch: 2148: Average loss: 0.0526, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05261051705479622
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2122/4000 (53%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 169/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2779/4000 (69%)
Done in 11.919872283935547 sec.
select client [595, 636, 747, 251, 360, 336, 509, 973, 784, 687]
l2 norm of benign user before server clipping 0.006463873060420155
l2 norm of benign user after server clipping 0.006463873060420155
___Test : epoch: 2149: Average loss: 0.0528, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05279787200540304
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2164/4000 (54%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 173/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2818/4000 (70%)
Done in 11.844072103500366 sec.
select client [682, 739, 823, 66, 319, 56, 160, 114, 696, 539]
l2 norm of benign user before server clipping 0.005468151625245809
l2 norm of benign user after server clipping 0.005468151625245809
___Test : epoch: 2150: Average loss: 0.0527, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05271676378697157
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2130/4000 (53%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 159/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2801/4000 (70%)
Done in 11.852611064910889 sec.
select client [452, 873, 788, 622, 275, 402, 489, 575, 603, 947]
l2 norm of benign user before server clipping 0.005965221347287298
l2 norm of benign user after server clipping 0.005965221347287298
___Test : epoch: 2151: Average loss: 0.0524, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.052406635899841784
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2132/4000 (53%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 159/4000 (4%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2806/4000 (70%)
Done in 11.684760093688965 sec.
select client [385, 254, 855, 218, 644, 74, 743, 147, 50, 668]
l2 norm of benign user before server clipping 0.005178622109815479
l2 norm of benign user after server clipping 0.005178622109815479
___Test : epoch: 2152: Average loss: 0.0530, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.052951166397333146
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2037/4000 (51%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 139/4000 (3%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2741/4000 (69%)
Done in 11.850934267044067 sec.
select client [108, 378, 68, 749, 873, 549, 712, 245, 441, 380]
l2 norm of benign user before server clipping 0.005110704153776169
l2 norm of benign user after server clipping 0.005110704153776169
___Test : epoch: 2153: Average loss: 0.0528, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05283560795783997
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2054/4000 (51%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 146/4000 (4%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2759/4000 (69%)
Done in 11.721211671829224 sec.
select client [440, 433, 806, 115, 365, 432, 595, 454, 746, 304]
l2 norm of benign user before server clipping 0.004834502935409546
l2 norm of benign user after server clipping 0.004834502935409546
___Test : epoch: 2154: Average loss: 0.0528, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05281543945223093
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2045/4000 (51%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 146/4000 (4%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2755/4000 (69%)
Done in 11.752150058746338 sec.
select client [662, 669, 352, 47, 579, 757, 672, 502, 149, 773]
l2 norm of benign user before server clipping 0.0045857364544644955
l2 norm of benign user after server clipping 0.0045857364544644955
___Test : epoch: 2155: Average loss: 0.0527, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.0526667978182435
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2053/4000 (51%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 150/4000 (4%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2747/4000 (69%)
Done in 11.810221672058105 sec.
select client [315, 934, 191, 839, 964, 361, 736, 293, 620, 354]
l2 norm of benign user before server clipping 0.005675706162583083
l2 norm of benign user after server clipping 0.005675706162583083
___Test : epoch: 2156: Average loss: 0.0526, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.05260846703797579
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1979/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 132/4000 (3%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2697/4000 (67%)
Done in 11.71101713180542 sec.
select client [443, 178, 457, 771, 533, 47, 548, 251, 111, 440]
l2 norm of benign user before server clipping 0.006329520302824676
l2 norm of benign user after server clipping 0.006329520302824676
___Test : epoch: 2157: Average loss: 0.0530, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.053028532195091245
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1932/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 121/4000 (3%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2676/4000 (67%)
Done in 11.907182693481445 sec.
select client [775, 905, 870, 59, 570, 760, 116, 76, 136, 489]
l2 norm of benign user before server clipping 0.005487224226817489
l2 norm of benign user after server clipping 0.005487224226817489
___Test : epoch: 2158: Average loss: 0.0525, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05252525048851967
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1937/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 146/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2651/4000 (66%)
Done in 11.719561100006104 sec.
select client [45, 180, 181, 646, 250, 508, 249, 654, 851, 685]
l2 norm of benign user before server clipping 0.0053511736914515495
l2 norm of benign user after server clipping 0.0053511736914515495
___Test : epoch: 2159: Average loss: 0.0530, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05296320954412222
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1920/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 131/4000 (3%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2643/4000 (66%)
Done in 11.760350942611694 sec.
select client [166, 181, 241, 41, 598, 594, 437, 199, 827, 194]
l2 norm of benign user before server clipping 0.005442270031198859
l2 norm of benign user after server clipping 0.005442270031198859
___Test : epoch: 2160: Average loss: 0.0530, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05300363788604737
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1959/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 133/4000 (3%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2669/4000 (67%)
Done in 11.733608484268188 sec.
select client [730, 832, 352, 525, 642, 131, 932, 785, 548, 251]
l2 norm of benign user before server clipping 0.006480095582082868
l2 norm of benign user after server clipping 0.006480095582082868
___Test : epoch: 2161: Average loss: 0.0530, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05301639598011971
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1962/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 132/4000 (3%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2691/4000 (67%)
Done in 11.968734979629517 sec.
select client [59, 571, 570, 728, 484, 444, 471, 616, 129, 212]
l2 norm of benign user before server clipping 0.005946852639317513
l2 norm of benign user after server clipping 0.005946852639317513
___Test : epoch: 2162: Average loss: 0.0528, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05275127796083689
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1994/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 152/4000 (4%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2706/4000 (68%)
Done in 11.757920503616333 sec.
select client [911, 202, 448, 864, 319, 14, 892, 443, 246, 38]
l2 norm of benign user before server clipping 0.00374254867201671
l2 norm of benign user after server clipping 0.00374254867201671
___Test : epoch: 2163: Average loss: 0.0527, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.0527425274387002
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2002/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 153/4000 (4%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2719/4000 (68%)
Done in 11.675244331359863 sec.
select client [187, 550, 745, 825, 918, 801, 898, 500, 921, 449]
l2 norm of benign user before server clipping 0.004895367019344121
l2 norm of benign user after server clipping 0.004895367019344121
___Test : epoch: 2164: Average loss: 0.0526, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05262677747607231
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1998/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2704/4000 (68%)
Done in 11.738226175308228 sec.
select client [467, 742, 708, 764, 583, 342, 554, 471, 101, 714]
l2 norm of benign user before server clipping 0.006285366625525058
l2 norm of benign user after server clipping 0.006285366625525058
___Test : epoch: 2165: Average loss: 0.0528, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05282658926844597
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1994/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2699/4000 (67%)
Done in 11.830561637878418 sec.
select client [468, 90, 462, 533, 966, 705, 599, 698, 488, 201]
l2 norm of benign user before server clipping 0.005011861422099173
l2 norm of benign user after server clipping 0.005011861422099173
___Test : epoch: 2166: Average loss: 0.0525, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.0524801781386137
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1961/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2671/4000 (67%)
Done in 11.697615623474121 sec.
select client [361, 855, 249, 643, 941, 94, 45, 276, 697, 322]
l2 norm of benign user before server clipping 0.003988953994121402
l2 norm of benign user after server clipping 0.003988953994121402
___Test : epoch: 2167: Average loss: 0.0525, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05253603165447712
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1952/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 148/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2665/4000 (67%)
Done in 11.744175910949707 sec.
select client [110, 247, 279, 772, 466, 308, 632, 565, 502, 473]
l2 norm of benign user before server clipping 0.004030049289576709
l2 norm of benign user after server clipping 0.004030049289576709
___Test : epoch: 2168: Average loss: 0.0526, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05256889159232378
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1985/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 150/4000 (4%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2698/4000 (67%)
Done in 11.712361574172974 sec.
select client [71, 615, 157, 735, 382, 908, 354, 789, 151, 856]
l2 norm of benign user before server clipping 0.004649102996336296
l2 norm of benign user after server clipping 0.004649102996336296
___Test : epoch: 2169: Average loss: 0.0524, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.0524169250100851
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2015/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2719/4000 (68%)
Done in 11.68501877784729 sec.
select client [132, 704, 62, 571, 745, 782, 859, 397, 653, 603]
l2 norm of benign user before server clipping 0.006006308947689831
l2 norm of benign user after server clipping 0.006006308947689831
___Test : epoch: 2170: Average loss: 0.0524, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05243121971487999
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1973/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2695/4000 (67%)
Done in 11.768404483795166 sec.
select client [348, 862, 728, 107, 819, 901, 436, 15, 997, 243]
l2 norm of benign user before server clipping 0.004603841679636389
l2 norm of benign user after server clipping 0.004603841679636389
___Test : epoch: 2171: Average loss: 0.0522, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05223405777513981
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2016/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 164/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2726/4000 (68%)
Done in 11.677255153656006 sec.
select client [654, 432, 613, 53, 83, 268, 307, 273, 157, 670]
l2 norm of benign user before server clipping 0.005183951021172107
l2 norm of benign user after server clipping 0.005183951021172107
___Test : epoch: 2172: Average loss: 0.0524, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05242894248366356
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2004/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2709/4000 (68%)
Done in 11.669890642166138 sec.
select client [211, 885, 828, 823, 918, 962, 795, 136, 141, 976]
l2 norm of benign user before server clipping 0.004737390764057636
l2 norm of benign user after server clipping 0.004737390764057636
___Test : epoch: 2173: Average loss: 0.0527, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.052675735105574134
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2043/4000 (51%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 159/4000 (4%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2743/4000 (69%)
Done in 11.778264284133911 sec.
select client [303, 543, 762, 707, 85, 117, 71, 894, 14, 896]
l2 norm of benign user before server clipping 0.005233438836876303
l2 norm of benign user after server clipping 0.005233438836876303
___Test : epoch: 2174: Average loss: 0.0526, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.0526432299181819
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1998/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 153/4000 (4%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2716/4000 (68%)
Done in 11.799041986465454 sec.
select client [412, 509, 721, 609, 712, 658, 113, 380, 242, 295]
l2 norm of benign user before server clipping 0.004266171029303223
l2 norm of benign user after server clipping 0.004266171029303223
___Test : epoch: 2175: Average loss: 0.0524, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05242730570286512
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1992/4000 (50%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 155/4000 (4%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2705/4000 (68%)
Done in 11.662201404571533 sec.
select client [28, 428, 57, 803, 409, 201, 319, 668, 268, 141]
l2 norm of benign user before server clipping 0.0050802384968847035
l2 norm of benign user after server clipping 0.0050802384968847035
___Test : epoch: 2176: Average loss: 0.0526, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.052555636209249496
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1971/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 150/4000 (4%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2697/4000 (67%)
Done in 11.886323690414429 sec.
select client [336, 761, 557, 737, 498, 170, 178, 715, 74, 597]
l2 norm of benign user before server clipping 0.005834597512148321
l2 norm of benign user after server clipping 0.005834597512148321
___Test : epoch: 2177: Average loss: 0.0524, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052416408942639825
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1956/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 159/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2667/4000 (67%)
Done in 11.919106245040894 sec.
select client [731, 901, 269, 161, 993, 97, 884, 202, 246, 522]
l2 norm of benign user before server clipping 0.00457413251278922
l2 norm of benign user after server clipping 0.00457413251278922
___Test : epoch: 2178: Average loss: 0.0524, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.0523770791888237
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1924/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 162/4000 (4%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2644/4000 (66%)
Done in 11.60560154914856 sec.
select client [806, 115, 627, 702, 426, 54, 464, 712, 492, 523]
l2 norm of benign user before server clipping 0.005120794149115681
l2 norm of benign user after server clipping 0.005120794149115681
___Test : epoch: 2179: Average loss: 0.0521, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.0521304246455431
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1916/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 168/4000 (4%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2625/4000 (66%)
Done in 11.793312549591064 sec.
select client [66, 208, 172, 502, 596, 489, 152, 102, 812, 524]
l2 norm of benign user before server clipping 0.005980434478260577
l2 norm of benign user after server clipping 0.005980434478260577
___Test : epoch: 2180: Average loss: 0.0517, Accuracy: 39384/40000.0 (98.4600%)
benign test loss (after fedavg) 0.05173352503478527
benign test acc (after fedavg) 98.46000000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1927/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 171/4000 (4%)
Test set:Main Accuracy: 39384/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2639/4000 (66%)
Done in 11.877837896347046 sec.
select client [821, 572, 901, 187, 368, 150, 10, 215, 579, 646]
l2 norm of benign user before server clipping 0.005928495200350881
l2 norm of benign user after server clipping 0.005928495200350881
___Test : epoch: 2181: Average loss: 0.0519, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.05190575019270181
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1930/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 165/4000 (4%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2642/4000 (66%)
Done in 11.817686557769775 sec.
select client [600, 981, 332, 539, 262, 301, 971, 821, 81, 91]
l2 norm of benign user before server clipping 0.004415373818483203
l2 norm of benign user after server clipping 0.004415373818483203
___Test : epoch: 2182: Average loss: 0.0520, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05203766418993473
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1924/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 161/4000 (4%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2642/4000 (66%)
Done in 11.696408033370972 sec.
select client [679, 817, 151, 658, 74, 680, 276, 964, 157, 217]
l2 norm of benign user before server clipping 0.0031561427807901055
l2 norm of benign user after server clipping 0.0031561427807901055
___Test : epoch: 2183: Average loss: 0.0520, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.05197892994731665
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1901/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2622/4000 (66%)
Done in 11.683042526245117 sec.
select client [73, 448, 653, 784, 986, 760, 204, 736, 898, 202]
l2 norm of benign user before server clipping 0.004578302544541657
l2 norm of benign user after server clipping 0.004578302544541657
___Test : epoch: 2184: Average loss: 0.0519, Accuracy: 39377/40000.0 (98.4425%)
benign test loss (after fedavg) 0.05188273670375347
benign test acc (after fedavg) 98.4425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1922/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 163/4000 (4%)
Test set:Main Accuracy: 39377/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2641/4000 (66%)
Done in 11.643428087234497 sec.
select client [448, 250, 645, 68, 432, 799, 565, 492, 714, 251]
l2 norm of benign user before server clipping 0.005150247784331441
l2 norm of benign user after server clipping 0.005150247784331441
___Test : epoch: 2185: Average loss: 0.0520, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.05201055992692709
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1964/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 164/4000 (4%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2677/4000 (67%)
Done in 11.74597430229187 sec.
select client [766, 141, 468, 240, 170, 144, 172, 319, 472, 902]
l2 norm of benign user before server clipping 0.005804124672431498
l2 norm of benign user after server clipping 0.005804124672431498
___Test : epoch: 2186: Average loss: 0.0524, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052435125258564946
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1908/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 144/4000 (4%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2637/4000 (66%)
Done in 11.844300746917725 sec.
select client [68, 92, 415, 845, 496, 878, 930, 17, 429, 923]
l2 norm of benign user before server clipping 0.004426281177438795
l2 norm of benign user after server clipping 0.004426281177438795
___Test : epoch: 2187: Average loss: 0.0524, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05239308254569769
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1910/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 146/4000 (4%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2639/4000 (66%)
Done in 11.596241235733032 sec.
select client [181, 148, 736, 95, 566, 486, 620, 25, 925, 349]
l2 norm of benign user before server clipping 0.004776877630501985
l2 norm of benign user after server clipping 0.004776877630501985
___Test : epoch: 2188: Average loss: 0.0525, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05247051194757223
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1859/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 130/4000 (3%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2621/4000 (66%)
Done in 11.819862842559814 sec.
select client [912, 933, 246, 18, 416, 589, 835, 547, 93, 952]
l2 norm of benign user before server clipping 0.004811049182899296
l2 norm of benign user after server clipping 0.004811049182899296
___Test : epoch: 2189: Average loss: 0.0526, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05255343277603388
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1842/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 120/4000 (3%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2612/4000 (65%)
Done in 11.791285514831543 sec.
select client [86, 736, 910, 875, 759, 340, 425, 969, 918, 206]
l2 norm of benign user before server clipping 0.004548333748243749
l2 norm of benign user after server clipping 0.004548333748243749
___Test : epoch: 2190: Average loss: 0.0528, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05282786577194929
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1815/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 116/4000 (3%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2608/4000 (65%)
Done in 11.598169803619385 sec.
select client [369, 104, 752, 715, 689, 643, 570, 960, 422, 83]
l2 norm of benign user before server clipping 0.005810549971647561
l2 norm of benign user after server clipping 0.005810549971647561
___Test : epoch: 2191: Average loss: 0.0524, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.052422225715219976
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1842/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 127/4000 (3%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2607/4000 (65%)
Done in 11.855571508407593 sec.
select client [715, 583, 369, 710, 255, 994, 132, 40, 712, 447]
l2 norm of benign user before server clipping 0.0065260890405625105
l2 norm of benign user after server clipping 0.0065260890405625105
___Test : epoch: 2192: Average loss: 0.0526, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05255476840287447
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1786/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 126/4000 (3%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2559/4000 (64%)
Done in 11.994071960449219 sec.
select client [125, 840, 172, 650, 654, 493, 213, 931, 910, 475]
l2 norm of benign user before server clipping 0.004803907871246338
l2 norm of benign user after server clipping 0.004803907871246338
___Test : epoch: 2193: Average loss: 0.0524, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05241604084819555
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1846/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 134/4000 (3%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2610/4000 (65%)
Done in 11.798203229904175 sec.
select client [39, 78, 401, 256, 344, 170, 319, 310, 380, 227]
l2 norm of benign user before server clipping 0.005715459724888206
l2 norm of benign user after server clipping 0.005715459724888206
___Test : epoch: 2194: Average loss: 0.0525, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05245984051078558
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1853/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 149/4000 (4%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2601/4000 (65%)
Done in 11.88990044593811 sec.
select client [703, 479, 226, 413, 507, 927, 836, 231, 270, 19]
l2 norm of benign user before server clipping 0.004446376161649823
l2 norm of benign user after server clipping 0.004446376161649823
___Test : epoch: 2195: Average loss: 0.0523, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052307032099366185
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1927/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 158/4000 (4%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2653/4000 (66%)
Done in 11.60439133644104 sec.
select client [180, 717, 62, 201, 293, 317, 83, 442, 124, 414]
l2 norm of benign user before server clipping 0.006385065556969494
l2 norm of benign user after server clipping 0.006385065556969494
___Test : epoch: 2196: Average loss: 0.0526, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05255959866940975
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1831/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 125/4000 (3%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2608/4000 (65%)
Done in 11.826728105545044 sec.
select client [610, 570, 948, 771, 221, 35, 556, 722, 57, 74]
l2 norm of benign user before server clipping 0.006141962204128504
l2 norm of benign user after server clipping 0.006141962204128504
___Test : epoch: 2197: Average loss: 0.0521, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052070884446799755
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1907/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 145/4000 (4%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2658/4000 (66%)
Done in 12.001858472824097 sec.
select client [908, 122, 931, 383, 834, 648, 82, 599, 94, 799]
l2 norm of benign user before server clipping 0.004852252802811563
l2 norm of benign user after server clipping 0.004852252802811563
___Test : epoch: 2198: Average loss: 0.0522, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052230974231660364
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1893/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 144/4000 (4%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2652/4000 (66%)
Done in 11.584895372390747 sec.
select client [857, 568, 624, 367, 455, 355, 980, 470, 974, 499]
l2 norm of benign user before server clipping 0.004558095033280552
l2 norm of benign user after server clipping 0.004558095033280552
___Test : epoch: 2199: Average loss: 0.0524, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05238028481155634
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1889/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 138/4000 (3%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2661/4000 (67%)
Done in 11.877941846847534 sec.
select client [455, 788, 862, 824, 77, 443, 534, 333, 575, 109]
l2 norm of benign user before server clipping 0.010585969791281968
l2 norm of benign user after server clipping 0.010585969791281968
___Test : epoch: 2200: Average loss: 0.0522, Accuracy: 39377/40000.0 (98.4425%)
benign test loss (after fedavg) 0.05217201471477747
benign test acc (after fedavg) 98.4425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1866/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 133/4000 (3%)
Test set:Main Accuracy: 39377/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2635/4000 (66%)
Done in 11.765057563781738 sec.
select client [696, 881, 893, 371, 611, 219, 447, 460, 851, 629]
l2 norm of benign user before server clipping 0.005446122912690044
l2 norm of benign user after server clipping 0.005446122912690044
___Test : epoch: 2201: Average loss: 0.0519, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.051923662301898
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1944/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 152/4000 (4%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2688/4000 (67%)
Done in 12.010738134384155 sec.
select client [629, 837, 146, 916, 761, 22, 756, 236, 224, 750]
l2 norm of benign user before server clipping 0.0047488328069448475
l2 norm of benign user after server clipping 0.0047488328069448475
___Test : epoch: 2202: Average loss: 0.0519, Accuracy: 39378/40000.0 (98.4450%)
benign test loss (after fedavg) 0.051931449842453
benign test acc (after fedavg) 98.44500000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1929/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 151/4000 (4%)
Test set:Main Accuracy: 39378/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2674/4000 (67%)
Done in 11.75295615196228 sec.
select client [719, 474, 168, 505, 216, 383, 238, 193, 50, 148]
l2 norm of benign user before server clipping 0.005229678843170405
l2 norm of benign user after server clipping 0.005229678843170405
___Test : epoch: 2203: Average loss: 0.0519, Accuracy: 39377/40000.0 (98.4425%)
benign test loss (after fedavg) 0.05193621521145105
benign test acc (after fedavg) 98.4425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1918/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 152/4000 (4%)
Test set:Main Accuracy: 39377/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2668/4000 (67%)
Done in 11.84664797782898 sec.
select client [869, 466, 900, 832, 559, 390, 178, 37, 209, 199]
l2 norm of benign user before server clipping 0.006424626510124654
l2 norm of benign user after server clipping 0.006424626510124654
___Test : epoch: 2204: Average loss: 0.0518, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05180594704449177
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1874/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 149/4000 (4%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2626/4000 (66%)
Done in 11.95010495185852 sec.
select client [828, 439, 766, 527, 755, 318, 732, 830, 316, 992]
l2 norm of benign user before server clipping 0.006519916909746825
l2 norm of benign user after server clipping 0.006519916909746825
___Test : epoch: 2205: Average loss: 0.0517, Accuracy: 39378/40000.0 (98.4450%)
benign test loss (after fedavg) 0.05172798025012016
benign test acc (after fedavg) 98.44500000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1866/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 150/4000 (4%)
Test set:Main Accuracy: 39378/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2620/4000 (66%)
Done in 11.756574630737305 sec.
select client [569, 227, 866, 419, 209, 454, 99, 228, 881, 98]
l2 norm of benign user before server clipping 0.00577919369097799
l2 norm of benign user after server clipping 0.00577919369097799
___Test : epoch: 2206: Average loss: 0.0516, Accuracy: 39375/40000.0 (98.4375%)
benign test loss (after fedavg) 0.05162358999401331
benign test acc (after fedavg) 98.4375
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1869/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 161/4000 (4%)
Test set:Main Accuracy: 39375/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2606/4000 (65%)
Done in 11.824095964431763 sec.
select client [502, 774, 754, 411, 476, 93, 422, 161, 539, 275]
l2 norm of benign user before server clipping 0.004245850839652121
l2 norm of benign user after server clipping 0.004245850839652121
___Test : epoch: 2207: Average loss: 0.0516, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.051605282700061796
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1864/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 158/4000 (4%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2606/4000 (65%)
Done in 11.744560241699219 sec.
select client [599, 413, 633, 196, 686, 331, 899, 793, 454, 121]
l2 norm of benign user before server clipping 0.004268720000982285
l2 norm of benign user after server clipping 0.004268720000982285
___Test : epoch: 2208: Average loss: 0.0515, Accuracy: 39382/40000.0 (98.4550%)
benign test loss (after fedavg) 0.05146365518271923
benign test acc (after fedavg) 98.455
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1872/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 160/4000 (4%)
Test set:Main Accuracy: 39382/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2609/4000 (65%)
Done in 11.83385705947876 sec.
select client [345, 307, 713, 757, 988, 855, 623, 151, 671, 962]
l2 norm of benign user before server clipping 0.004838149528950453
l2 norm of benign user after server clipping 0.004838149528950453
___Test : epoch: 2209: Average loss: 0.0515, Accuracy: 39380/40000.0 (98.4500%)
benign test loss (after fedavg) 0.051526217056810854
benign test acc (after fedavg) 98.45
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1868/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 170/4000 (4%)
Test set:Main Accuracy: 39380/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2593/4000 (65%)
Done in 11.77535080909729 sec.
select client [856, 157, 645, 258, 484, 49, 309, 690, 18, 350]
l2 norm of benign user before server clipping 0.003954987577162683
l2 norm of benign user after server clipping 0.003954987577162683
___Test : epoch: 2210: Average loss: 0.0515, Accuracy: 39378/40000.0 (98.4450%)
benign test loss (after fedavg) 0.05152240613698959
benign test acc (after fedavg) 98.44500000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1891/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 172/4000 (4%)
Test set:Main Accuracy: 39378/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2615/4000 (65%)
Done in 11.647570371627808 sec.
select client [457, 222, 859, 130, 53, 976, 512, 430, 724, 783]
l2 norm of benign user before server clipping 0.0048603869276121255
l2 norm of benign user after server clipping 0.0048603869276121255
___Test : epoch: 2211: Average loss: 0.0517, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.05166299265176058
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1860/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2610/4000 (65%)
Done in 11.742003202438354 sec.
select client [174, 608, 56, 951, 341, 640, 690, 410, 594, 173]
l2 norm of benign user before server clipping 0.0062509526032954454
l2 norm of benign user after server clipping 0.0062509526032954454
___Test : epoch: 2212: Average loss: 0.0522, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05223543846309185
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1902/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 149/4000 (4%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2660/4000 (66%)
Done in 11.707179307937622 sec.
select client [155, 688, 485, 560, 953, 729, 134, 334, 169, 495]
l2 norm of benign user before server clipping 0.0052799909724853935
l2 norm of benign user after server clipping 0.0052799909724853935
___Test : epoch: 2213: Average loss: 0.0523, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05227390329837799
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1905/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2654/4000 (66%)
Done in 11.743294954299927 sec.
select client [206, 34, 910, 580, 878, 187, 638, 998, 867, 999]
l2 norm of benign user before server clipping 0.005881431070156396
l2 norm of benign user after server clipping 0.005881431070156396
___Test : epoch: 2214: Average loss: 0.0522, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05223895145207644
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1960/4000 (49%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 171/4000 (4%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2695/4000 (67%)
Done in 11.981518268585205 sec.
select client [782, 976, 28, 512, 280, 647, 621, 519, 727, 333]
l2 norm of benign user before server clipping 0.005859753210097551
l2 norm of benign user after server clipping 0.005859753210097551
___Test : epoch: 2215: Average loss: 0.0525, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.05251089362502098
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1921/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2678/4000 (67%)
Done in 11.971951484680176 sec.
select client [856, 869, 572, 789, 333, 994, 719, 841, 366, 13]
l2 norm of benign user before server clipping 0.004635948839131742
l2 norm of benign user after server clipping 0.004635948839131742
___Test : epoch: 2216: Average loss: 0.0526, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05261809925585985
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1904/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 150/4000 (4%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2663/4000 (67%)
Done in 11.877666473388672 sec.
select client [75, 207, 821, 312, 467, 746, 288, 973, 135, 432]
l2 norm of benign user before server clipping 0.006584582128562033
l2 norm of benign user after server clipping 0.006584582128562033
___Test : epoch: 2217: Average loss: 0.0524, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.052350535172224044
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1890/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 156/4000 (4%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2656/4000 (66%)
Done in 12.12638807296753 sec.
select client [939, 345, 908, 935, 351, 407, 453, 555, 42, 409]
l2 norm of benign user before server clipping 0.005128483299631626
l2 norm of benign user after server clipping 0.005128483299631626
___Test : epoch: 2218: Average loss: 0.0520, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05195680453032255
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1865/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 155/4000 (4%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2632/4000 (66%)
Done in 11.877840995788574 sec.
select client [151, 240, 846, 832, 923, 703, 470, 488, 499, 300]
l2 norm of benign user before server clipping 0.005026321881450713
l2 norm of benign user after server clipping 0.005026321881450713
___Test : epoch: 2219: Average loss: 0.0519, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.051922959592938425
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1924/4000 (48%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 164/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2666/4000 (67%)
Done in 11.674804449081421 sec.
select client [107, 561, 643, 173, 502, 275, 659, 815, 241, 259]
l2 norm of benign user before server clipping 0.004484100639820099
l2 norm of benign user after server clipping 0.004484100639820099
___Test : epoch: 2220: Average loss: 0.0521, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.052097467398643495
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1875/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 149/4000 (4%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2646/4000 (66%)
Done in 11.789824962615967 sec.
select client [802, 342, 53, 834, 178, 489, 129, 327, 762, 997]
l2 norm of benign user before server clipping 0.004502485855482519
l2 norm of benign user after server clipping 0.004502485855482519
___Test : epoch: 2221: Average loss: 0.0524, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.052432509507238864
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1822/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 133/4000 (3%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2606/4000 (65%)
Done in 11.837558269500732 sec.
select client [673, 982, 636, 550, 540, 719, 253, 717, 874, 960]
l2 norm of benign user before server clipping 0.004897745931521058
l2 norm of benign user after server clipping 0.004897745931521058
___Test : epoch: 2222: Average loss: 0.0524, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05239674158394337
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1804/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 132/4000 (3%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2603/4000 (65%)
Done in 11.846392631530762 sec.
select client [180, 413, 371, 285, 445, 608, 567, 773, 642, 605]
l2 norm of benign user before server clipping 0.005481437582056969
l2 norm of benign user after server clipping 0.005481437582056969
___Test : epoch: 2223: Average loss: 0.0524, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05237247219979763
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1796/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 135/4000 (3%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2577/4000 (64%)
Done in 11.90788984298706 sec.
select client [338, 183, 41, 264, 534, 997, 712, 82, 81, 993]
l2 norm of benign user before server clipping 0.0049641757388599215
l2 norm of benign user after server clipping 0.0049641757388599215
___Test : epoch: 2224: Average loss: 0.0520, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05197876339703798
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1792/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 138/4000 (3%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2572/4000 (64%)
Done in 11.75981855392456 sec.
select client [774, 805, 256, 27, 126, 475, 938, 612, 950, 348]
l2 norm of benign user before server clipping 0.004820288950577378
l2 norm of benign user after server clipping 0.004820288950577378
___Test : epoch: 2225: Average loss: 0.0517, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05168861141502857
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1802/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 142/4000 (4%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2579/4000 (64%)
Done in 11.69387698173523 sec.
select client [130, 440, 637, 389, 972, 951, 565, 352, 836, 655]
l2 norm of benign user before server clipping 0.0047092430759221315
l2 norm of benign user after server clipping 0.0047092430759221315
___Test : epoch: 2226: Average loss: 0.0519, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05190952405631542
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1858/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 148/4000 (4%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2629/4000 (66%)
Done in 11.697316646575928 sec.
select client [739, 59, 787, 304, 305, 737, 885, 75, 601, 295]
l2 norm of benign user before server clipping 0.005629456113092601
l2 norm of benign user after server clipping 0.005629456113092601
___Test : epoch: 2227: Average loss: 0.0520, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05204639116078615
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1880/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 151/4000 (4%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2653/4000 (66%)
Done in 11.849059104919434 sec.
select client [54, 354, 936, 603, 567, 682, 436, 77, 958, 133]
l2 norm of benign user before server clipping 0.0062384660821408035
l2 norm of benign user after server clipping 0.0062384660821408035
___Test : epoch: 2228: Average loss: 0.0524, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05238146860152483
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1839/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 134/4000 (3%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2646/4000 (66%)
Done in 11.610150575637817 sec.
select client [42, 125, 478, 398, 13, 28, 511, 248, 120, 520]
l2 norm of benign user before server clipping 0.004677296237787232
l2 norm of benign user after server clipping 0.004677296237787232
___Test : epoch: 2229: Average loss: 0.0522, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.0522476433262229
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1869/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 139/4000 (3%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2671/4000 (67%)
Done in 11.763564348220825 sec.
select client [160, 240, 465, 38, 21, 825, 514, 667, 774, 770]
l2 norm of benign user before server clipping 0.00602686048951
l2 norm of benign user after server clipping 0.00602686048951
___Test : epoch: 2230: Average loss: 0.0527, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05267124940752983
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1829/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 126/4000 (3%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2666/4000 (67%)
Done in 11.820387363433838 sec.
select client [258, 41, 287, 783, 655, 185, 699, 15, 381, 770]
l2 norm of benign user before server clipping 0.0038199424743652344
l2 norm of benign user after server clipping 0.0038199424743652344
___Test : epoch: 2231: Average loss: 0.0527, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.0526668508887291
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1865/4000 (47%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 136/4000 (3%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2686/4000 (67%)
Done in 11.722397565841675 sec.
select client [300, 564, 756, 678, 740, 386, 960, 283, 624, 323]
l2 norm of benign user before server clipping 0.005335073894821107
l2 norm of benign user after server clipping 0.005335073894821107
___Test : epoch: 2232: Average loss: 0.0524, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05236842699497938
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1840/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 136/4000 (3%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2642/4000 (66%)
Done in 11.735314130783081 sec.
select client [144, 389, 605, 612, 257, 841, 264, 723, 125, 42]
l2 norm of benign user before server clipping 0.0052124665351584555
l2 norm of benign user after server clipping 0.0052124665351584555
___Test : epoch: 2233: Average loss: 0.0524, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.0524453937292099
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1828/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 132/4000 (3%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2656/4000 (66%)
Done in 11.739066362380981 sec.
select client [137, 406, 590, 877, 783, 483, 672, 764, 800, 649]
l2 norm of benign user before server clipping 0.0041255715303123
l2 norm of benign user after server clipping 0.0041255715303123
___Test : epoch: 2234: Average loss: 0.0525, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05252875809818506
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1835/4000 (46%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 134/4000 (3%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2666/4000 (67%)
Done in 11.776851415634155 sec.
select client [343, 528, 49, 923, 171, 935, 88, 145, 431, 129]
l2 norm of benign user before server clipping 0.004596153274178505
l2 norm of benign user after server clipping 0.004596153274178505
___Test : epoch: 2235: Average loss: 0.0525, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052459762056171894
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1804/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 129/4000 (3%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2641/4000 (66%)
Done in 11.56779932975769 sec.
select client [649, 948, 883, 693, 215, 27, 489, 212, 119, 155]
l2 norm of benign user before server clipping 0.005123621679376811
l2 norm of benign user after server clipping 0.005123621679376811
___Test : epoch: 2236: Average loss: 0.0521, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052093896481394765
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1804/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 131/4000 (3%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2633/4000 (66%)
Done in 11.71329665184021 sec.
select client [132, 595, 930, 363, 605, 399, 584, 747, 476, 723]
l2 norm of benign user before server clipping 0.004481072514317929
l2 norm of benign user after server clipping 0.004481072514317929
___Test : epoch: 2237: Average loss: 0.0519, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05188026631772518
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1806/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 137/4000 (3%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2617/4000 (65%)
Done in 11.749077558517456 sec.
select client [685, 644, 333, 201, 866, 293, 488, 445, 392, 863]
l2 norm of benign user before server clipping 0.00406771587440744
l2 norm of benign user after server clipping 0.00406771587440744
___Test : epoch: 2238: Average loss: 0.0517, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.05169679064899683
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1764/4000 (44%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 134/4000 (3%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2583/4000 (65%)
Done in 11.693471193313599 sec.
select client [303, 154, 862, 944, 582, 400, 614, 542, 724, 177]
l2 norm of benign user before server clipping 0.005098948930390179
l2 norm of benign user after server clipping 0.005098948930390179
___Test : epoch: 2239: Average loss: 0.0517, Accuracy: 39373/40000.0 (98.4325%)
benign test loss (after fedavg) 0.05165520671904087
benign test acc (after fedavg) 98.4325
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1817/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 145/4000 (4%)
Test set:Main Accuracy: 39373/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2624/4000 (66%)
Done in 11.801796197891235 sec.
select client [946, 348, 515, 335, 802, 153, 133, 561, 422, 175]
l2 norm of benign user before server clipping 0.004033839295152575
l2 norm of benign user after server clipping 0.004033839295152575
___Test : epoch: 2240: Average loss: 0.0516, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.051566473841667175
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1815/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 146/4000 (4%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2618/4000 (65%)
Done in 11.611090660095215 sec.
select client [973, 141, 281, 520, 603, 118, 35, 810, 825, 761]
l2 norm of benign user before server clipping 0.008120663440786302
l2 norm of benign user after server clipping 0.008120663440786302
___Test : epoch: 2241: Average loss: 0.0521, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05207111708074808
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1789/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 135/4000 (3%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2623/4000 (66%)
Done in 12.172183752059937 sec.
select client [91, 325, 893, 773, 531, 482, 826, 240, 674, 367]
l2 norm of benign user before server clipping 0.0048053167061880234
l2 norm of benign user after server clipping 0.0048053167061880234
___Test : epoch: 2242: Average loss: 0.0518, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.051840968108177184
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1749/4000 (44%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 131/4000 (3%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2590/4000 (65%)
Done in 11.747402906417847 sec.
select client [271, 577, 678, 848, 68, 169, 934, 139, 831, 331]
l2 norm of benign user before server clipping 0.005967689934186638
l2 norm of benign user after server clipping 0.005967689934186638
___Test : epoch: 2243: Average loss: 0.0519, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.05192985702753067
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1764/4000 (44%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 135/4000 (3%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2581/4000 (65%)
Done in 11.841370582580566 sec.
select client [966, 194, 12, 818, 581, 908, 927, 539, 113, 183]
l2 norm of benign user before server clipping 0.004596214299090207
l2 norm of benign user after server clipping 0.004596214299090207
___Test : epoch: 2244: Average loss: 0.0517, Accuracy: 39373/40000.0 (98.4325%)
benign test loss (after fedavg) 0.0517345982298255
benign test acc (after fedavg) 98.4325
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1687/4000 (42%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 129/4000 (3%)
Test set:Main Accuracy: 39373/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2529/4000 (63%)
Done in 11.681329488754272 sec.
select client [370, 632, 481, 368, 395, 983, 108, 648, 957, 585]
l2 norm of benign user before server clipping 0.005176909430883825
l2 norm of benign user after server clipping 0.005176909430883825
___Test : epoch: 2245: Average loss: 0.0515, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05153739846348763
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1783/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 147/4000 (4%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2592/4000 (65%)
Done in 11.811729907989502 sec.
select client [587, 29, 987, 204, 342, 211, 199, 982, 772, 133]
l2 norm of benign user before server clipping 0.004481577011756599
l2 norm of benign user after server clipping 0.004481577011756599
___Test : epoch: 2246: Average loss: 0.0517, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.051656922855973245
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1790/4000 (45%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 141/4000 (4%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2597/4000 (65%)
Done in 11.716511249542236 sec.
select client [369, 10, 386, 118, 904, 641, 747, 211, 202, 627]
l2 norm of benign user before server clipping 0.006401905766688287
l2 norm of benign user after server clipping 0.006401905766688287
___Test : epoch: 2247: Average loss: 0.0520, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05198008755147457
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1715/4000 (43%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 135/4000 (3%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2533/4000 (63%)
Done in 11.809332370758057 sec.
select client [750, 814, 338, 379, 632, 827, 769, 702, 572, 374]
l2 norm of benign user before server clipping 0.008536481438204646
l2 norm of benign user after server clipping 0.008536481438204646
___Test : epoch: 2248: Average loss: 0.0520, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05197993655502796
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1724/4000 (43%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 143/4000 (4%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2529/4000 (63%)
Done in 11.963898420333862 sec.
select client [116, 686, 207, 896, 771, 493, 769, 877, 592, 175]
l2 norm of benign user before server clipping 0.005658296600449831
l2 norm of benign user after server clipping 0.005658296600449831
___Test : epoch: 2249: Average loss: 0.0522, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05222084523588419
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 1738/4000 (43%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 151/4000 (4%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2510/4000 (63%)
Done in 11.903881549835205 sec.
