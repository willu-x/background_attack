/home/hjb/src/backup/fed_learning_test/saved_models/emnist_resnet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/emnist_resnet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0390, Accuracy: 39604/40000.0 (99.0100%)
Origin Pretrained Model: benign test loss (after fedavg) 0.039044980877637865
Origin Pretrained Model: benign test acc (after fedavg) 99.00999999999999
Total Layer Count: 62
Trigger Selected Layer Count: 21
Overlap Layer Count: 21
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.41171514987945557
l2 norm of benign user after server clipping 0.41118963360786437
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.2621, Accuracy: 37048/40000.0 (92.6200%)
benign test loss (after fedavg) 0.26208646068573
benign test acc (after fedavg) 92.62
Done in 4.041497230529785 sec.
Total Layer Count: 62
Trigger Selected Layer Count: 22
Overlap Layer Count: 18
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.3436615377664566
l2 norm of benign user after server clipping 0.3436615377664566
___Test : epoch: 1951: Average loss: 0.0598, Accuracy: 39399/40000.0 (98.4975%)
benign test loss (after fedavg) 0.05976861138343811
benign test acc (after fedavg) 98.4975
Done in 4.234185218811035 sec.
Total Layer Count: 62
Trigger Selected Layer Count: 19
Overlap Layer Count: 16
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.3756585642695427
l2 norm of benign user after server clipping 0.3521231338381767
___Test : epoch: 1952: Average loss: 0.1224, Accuracy: 38583/40000.0 (96.4575%)
benign test loss (after fedavg) 0.122383855509758
benign test acc (after fedavg) 96.4575
Done in 3.7047617435455322 sec.
Total Layer Count: 62
Trigger Selected Layer Count: 22
Overlap Layer Count: 16
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.3519831269979477
l2 norm of benign user after server clipping 0.3284407526254654
___Test : epoch: 1953: Average loss: 0.1174, Accuracy: 38926/40000.0 (97.3150%)
benign test loss (after fedavg) 0.11735755084753037
benign test acc (after fedavg) 97.315
Done in 3.69288969039917 sec.
Total Layer Count: 62
Trigger Selected Layer Count: 22
Overlap Layer Count: 15
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.28248040974140165
l2 norm of benign user after server clipping 0.28248040974140165
___Test : epoch: 1954: Average loss: 0.0954, Accuracy: 39072/40000.0 (97.6800%)
benign test loss (after fedavg) 0.09541403397321702
benign test acc (after fedavg) 97.68
Done in 3.8587212562561035 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.35632360478242237
l2 norm of benign user after server clipping 0.3260981755124198
Total Count of Neuro 2797034
Selected Count of Neuro 2797
Gen Trigger0 loss tensor(166.5044, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(165.8880, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(165.8877, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(165.9039, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(165.8837, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.053718
Poison Train Epoch: 1 	Loss: 0.043703
Poison Train Epoch: 2 	Loss: 0.234974
Poison Train Epoch: 3 	Loss: 0.040664
Poison Train Epoch: 4 	Loss: 0.162476
Poison Train Epoch: 5 	Loss: 0.022680
Poison Train Epoch: 6 	Loss: 0.379010
Poison Train Epoch: 7 	Loss: 0.035781
Poison Train Epoch: 8 	Loss: 0.011821
Poison Train Epoch: 9 	Loss: 0.020152
Poison Train Epoch: 10 	Loss: 0.107573
Poison Train Epoch: 11 	Loss: 0.077968
Poison Train Epoch: 12 	Loss: 0.013789
Poison Train Epoch: 13 	Loss: 0.022983
Poison Train Epoch: 14 	Loss: 0.167949
Poison Train Epoch: 15 	Loss: 0.026934
Poison Train Epoch: 16 	Loss: 0.011846
Poison Train Epoch: 17 	Loss: 0.079664
Poison Train Epoch: 18 	Loss: 0.034912
Poison Train Epoch: 19 	Loss: 0.032048
Test set:local_Trigger0_localPoison Accuracy: 3960/4000 (99%)
___Test : epoch: 1955: Average loss: 0.1040, Accuracy: 38959/40000.0 (97.3975%)
benign test loss (after fedavg) 0.10404360700845719
benign test acc (after fedavg) 97.39750000000001
Done in 33.679962158203125 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.27833011746406555
l2 norm of benign user after server clipping 0.2670546054840088
___Test : epoch: 1956: Average loss: 0.0611, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.061114243987202645
benign test acc (after fedavg) 98.44000000000001
Done in 3.7122695446014404 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.25052333772182467
l2 norm of benign user after server clipping 0.25052333772182467
___Test : epoch: 1957: Average loss: 0.0587, Accuracy: 39441/40000.0 (98.6025%)
benign test loss (after fedavg) 0.05869946946501732
benign test acc (after fedavg) 98.6025
Done in 3.7238330841064453 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.29907875806093215
l2 norm of benign user after server clipping 0.29907875806093215
___Test : epoch: 1958: Average loss: 0.0541, Accuracy: 39455/40000.0 (98.6375%)
benign test loss (after fedavg) 0.054117303241789344
benign test acc (after fedavg) 98.6375
Done in 4.086764335632324 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.18848314955830575
l2 norm of benign user after server clipping 0.18848314955830575
___Test : epoch: 1959: Average loss: 0.0453, Accuracy: 39511/40000.0 (98.7775%)
benign test loss (after fedavg) 0.04533650813102722
benign test acc (after fedavg) 98.77749999999999
Done in 3.4368269443511963 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.24722454531325233
l2 norm of benign user after server clipping 0.24722454531325233
Total Count of Neuro 2797034
Selected Count of Neuro 2797
Gen Trigger1 loss tensor(168.9094, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(162.3190, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(162.2607, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(162.2321, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(162.2152, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.065261
Poison Train Epoch: 1 	Loss: 0.043519
Poison Train Epoch: 2 	Loss: 0.226466
Poison Train Epoch: 3 	Loss: 0.048547
Poison Train Epoch: 4 	Loss: 0.045150
Poison Train Epoch: 5 	Loss: 0.014340
Poison Train Epoch: 6 	Loss: 0.014501
Poison Train Epoch: 7 	Loss: 0.137134
Poison Train Epoch: 8 	Loss: 0.024880
Poison Train Epoch: 9 	Loss: 0.071401
Poison Train Epoch: 10 	Loss: 0.042064
Poison Train Epoch: 11 	Loss: 0.078241
Poison Train Epoch: 12 	Loss: 0.026071
Poison Train Epoch: 13 	Loss: 0.013741
Poison Train Epoch: 14 	Loss: 0.065297
Poison Train Epoch: 15 	Loss: 0.037823
Poison Train Epoch: 16 	Loss: 0.026021
Poison Train Epoch: 17 	Loss: 0.022693
Poison Train Epoch: 18 	Loss: 0.026266
Poison Train Epoch: 19 	Loss: 0.052496
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1960: Average loss: 0.1331, Accuracy: 38680/40000.0 (96.7000%)
benign test loss (after fedavg) 0.1331187325835228
benign test acc (after fedavg) 96.7
Done in 33.81428289413452 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.25298596620559693
l2 norm of benign user after server clipping 0.25057090520858766
___Test : epoch: 1961: Average loss: 0.0866, Accuracy: 39047/40000.0 (97.6175%)
benign test loss (after fedavg) 0.08664316593706607
benign test acc (after fedavg) 97.6175
Done in 3.37502121925354 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.22571707218885423
l2 norm of benign user after server clipping 0.22571707218885423
___Test : epoch: 1962: Average loss: 0.0586, Accuracy: 39475/40000.0 (98.6875%)
benign test loss (after fedavg) 0.058574444475769996
benign test acc (after fedavg) 98.6875
Done in 3.6260251998901367 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.1878318667411804
l2 norm of benign user after server clipping 0.1878318667411804
___Test : epoch: 1963: Average loss: 0.0492, Accuracy: 39483/40000.0 (98.7075%)
benign test loss (after fedavg) 0.04915629224777222
benign test acc (after fedavg) 98.70750000000001
Done in 3.6852049827575684 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.2444627083837986
l2 norm of benign user after server clipping 0.2411409355700016
___Test : epoch: 1964: Average loss: 0.0441, Accuracy: 39562/40000.0 (98.9050%)
benign test loss (after fedavg) 0.04405264401584864
benign test acc (after fedavg) 98.905
Done in 3.74802565574646 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.22900069711936843
l2 norm of benign user after server clipping 0.22900069711936843
Total Count of Neuro 2797034
Selected Count of Neuro 2797
Gen Trigger2 loss tensor(178.0802, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(171.8847, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(171.8181, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(171.7051, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(171.5700, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.045677
Poison Train Epoch: 1 	Loss: 0.045788
Poison Train Epoch: 2 	Loss: 0.061019
Poison Train Epoch: 3 	Loss: 0.191067
Poison Train Epoch: 4 	Loss: 0.091153
Poison Train Epoch: 5 	Loss: 0.038543
Poison Train Epoch: 6 	Loss: 0.033049
Poison Train Epoch: 7 	Loss: 0.059831
Poison Train Epoch: 8 	Loss: 0.028440
Poison Train Epoch: 9 	Loss: 0.031289
Poison Train Epoch: 10 	Loss: 0.022931
Poison Train Epoch: 11 	Loss: 0.118271
Poison Train Epoch: 12 	Loss: 0.020010
Poison Train Epoch: 13 	Loss: 0.019403
Poison Train Epoch: 14 	Loss: 0.013553
Poison Train Epoch: 15 	Loss: 0.032982
Poison Train Epoch: 16 	Loss: 0.040800
Poison Train Epoch: 17 	Loss: 0.023180
Poison Train Epoch: 18 	Loss: 0.009860
Poison Train Epoch: 19 	Loss: 0.009321
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1965: Average loss: 0.0917, Accuracy: 39095/40000.0 (97.7375%)
benign test loss (after fedavg) 0.09171743314862252
benign test acc (after fedavg) 97.7375
Done in 34.40915250778198 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.2132840000092983
l2 norm of benign user after server clipping 0.2132840000092983
___Test : epoch: 1966: Average loss: 0.0589, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.05891938283741474
benign test acc (after fedavg) 98.3175
Done in 3.5565171241760254 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.1826909638941288
l2 norm of benign user after server clipping 0.1826909638941288
___Test : epoch: 1967: Average loss: 0.0401, Accuracy: 39570/40000.0 (98.9250%)
benign test loss (after fedavg) 0.04013155023157597
benign test acc (after fedavg) 98.925
Done in 3.794585943222046 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.2241887003183365
l2 norm of benign user after server clipping 0.21455278098583222
___Test : epoch: 1968: Average loss: 0.0499, Accuracy: 39542/40000.0 (98.8550%)
benign test loss (after fedavg) 0.04992089927494526
benign test acc (after fedavg) 98.855
Done in 3.906517505645752 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.21925152987241744
l2 norm of benign user after server clipping 0.21925152987241744
___Test : epoch: 1969: Average loss: 0.0437, Accuracy: 39536/40000.0 (98.8400%)
benign test loss (after fedavg) 0.04368561272025109
benign test acc (after fedavg) 98.83999999999999
Done in 3.9560208320617676 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.22711812870370018
l2 norm of benign user after server clipping 0.22711812870370018
Total Count of Neuro 2797034
Selected Count of Neuro 2797
Gen Trigger3 loss tensor(164.3735, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(161.8075, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(161.8090, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(161.7963, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(161.7911, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.035387
Poison Train Epoch: 1 	Loss: 0.023999
Poison Train Epoch: 2 	Loss: 0.071210
Poison Train Epoch: 3 	Loss: 0.022534
Poison Train Epoch: 4 	Loss: 0.163954
Poison Train Epoch: 5 	Loss: 0.022091
Poison Train Epoch: 6 	Loss: 0.022280
Poison Train Epoch: 7 	Loss: 0.015361
Poison Train Epoch: 8 	Loss: 0.029118
Poison Train Epoch: 9 	Loss: 0.014526
Poison Train Epoch: 10 	Loss: 0.018515
Poison Train Epoch: 11 	Loss: 0.072545
Poison Train Epoch: 12 	Loss: 0.021240
Poison Train Epoch: 13 	Loss: 0.054381
Poison Train Epoch: 14 	Loss: 0.019804
Poison Train Epoch: 15 	Loss: 0.040762
Poison Train Epoch: 16 	Loss: 0.196214
Poison Train Epoch: 17 	Loss: 0.041286
Poison Train Epoch: 18 	Loss: 0.049049
Poison Train Epoch: 19 	Loss: 0.029409
Test set:local_Trigger3_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 1970: Average loss: 0.0429, Accuracy: 39541/40000.0 (98.8525%)
benign test loss (after fedavg) 0.04292778063863516
benign test acc (after fedavg) 98.85249999999999
Done in 35.6469464302063 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.16861423328518868
l2 norm of benign user after server clipping 0.16861423328518868
___Test : epoch: 1971: Average loss: 0.0371, Accuracy: 39622/40000.0 (99.0550%)
benign test loss (after fedavg) 0.03713209425061941
benign test acc (after fedavg) 99.055
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 78/4000 (2%)
Test set:Main Accuracy: 39622/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.572802066802979 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.16651098057627678
l2 norm of benign user after server clipping 0.16651098057627678
___Test : epoch: 1972: Average loss: 0.0398, Accuracy: 39612/40000.0 (99.0300%)
benign test loss (after fedavg) 0.0397683002024889
benign test acc (after fedavg) 99.03
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39612/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.394799947738647 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.20041511803865433
l2 norm of benign user after server clipping 0.20041511803865433
___Test : epoch: 1973: Average loss: 0.0541, Accuracy: 39471/40000.0 (98.6775%)
benign test loss (after fedavg) 0.05406954647004605
benign test acc (after fedavg) 98.6775
Test set:local_Trigger0Poison Accuracy: 55/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 234/4000 (6%)
Test set:Main Accuracy: 39471/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.557684183120728 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.16730136126279832
l2 norm of benign user after server clipping 0.16730136126279832
___Test : epoch: 1974: Average loss: 0.0320, Accuracy: 39663/40000.0 (99.1575%)
benign test loss (after fedavg) 0.03199497551694512
benign test acc (after fedavg) 99.1575
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39663/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.578322172164917 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410, 469]
l2 norm of benign user before server clipping 0.14525805413722992
l2 norm of benign user after server clipping 0.14525805413722992
___Test : epoch: 1975: Average loss: 0.0338, Accuracy: 39645/40000.0 (99.1125%)
benign test loss (after fedavg) 0.03375917626023293
benign test acc (after fedavg) 99.1125
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 7/4000 (0%)
Test set:Main Accuracy: 39645/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.638635158538818 sec.
select client [900, 957, 46, 717, 616, 357, 837, 662, 422, 713]
l2 norm of benign user before server clipping 0.14392585195600988
l2 norm of benign user after server clipping 0.14392585195600988
___Test : epoch: 1976: Average loss: 0.0411, Accuracy: 39600/40000.0 (99.0000%)
benign test loss (after fedavg) 0.04106581714749336
benign test acc (after fedavg) 99.0
Test set:local_Trigger0Poison Accuracy: 24/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 166/4000 (4%)
Test set:Main Accuracy: 39600/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 15.425443887710571 sec.
select client [519, 68, 971, 277, 147, 891, 721, 547, 729, 897]
l2 norm of benign user before server clipping 0.15928265005350112
l2 norm of benign user after server clipping 0.15928265005350112
___Test : epoch: 1977: Average loss: 0.0350, Accuracy: 39621/40000.0 (99.0525%)
benign test loss (after fedavg) 0.034986584682762625
benign test acc (after fedavg) 99.0525
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1/4000 (0%)
Test set:Main Accuracy: 39621/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.793818712234497 sec.
select client [638, 411, 424, 310, 164, 246, 512, 509, 841, 190]
l2 norm of benign user before server clipping 0.1337115451693535
l2 norm of benign user after server clipping 0.1337115451693535
___Test : epoch: 1978: Average loss: 0.0325, Accuracy: 39674/40000.0 (99.1850%)
benign test loss (after fedavg) 0.032543798703700305
benign test acc (after fedavg) 99.185
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 4/4000 (0%)
Test set:Main Accuracy: 39674/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.903184175491333 sec.
select client [767, 803, 862, 585, 646, 73, 684, 536, 936, 214]
l2 norm of benign user before server clipping 0.12486946284770965
l2 norm of benign user after server clipping 0.12486946284770965
___Test : epoch: 1979: Average loss: 0.0385, Accuracy: 39620/40000.0 (99.0500%)
benign test loss (after fedavg) 0.038511115895211695
benign test acc (after fedavg) 99.05000000000001
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 25/4000 (1%)
Test set:Main Accuracy: 39620/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.450425148010254 sec.
select client [489, 93, 716, 518, 651, 85, 202, 721, 717, 764]
l2 norm of benign user before server clipping 0.10684490045532584
l2 norm of benign user after server clipping 0.10684490045532584
___Test : epoch: 1980: Average loss: 0.0318, Accuracy: 39651/40000.0 (99.1275%)
benign test loss (after fedavg) 0.0318167503491044
benign test acc (after fedavg) 99.1275
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39651/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.613067626953125 sec.
select client [980, 755, 884, 324, 494, 433, 627, 858, 479, 77]
l2 norm of benign user before server clipping 0.15056678354740144
l2 norm of benign user after server clipping 0.15056678354740144
___Test : epoch: 1981: Average loss: 0.0346, Accuracy: 39619/40000.0 (99.0475%)
benign test loss (after fedavg) 0.03459121280685067
benign test acc (after fedavg) 99.0475
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 35/4000 (1%)
Test set:Main Accuracy: 39619/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.19744086265564 sec.
select client [865, 317, 384, 892, 937, 583, 32, 427, 332, 540]
l2 norm of benign user before server clipping 0.1143667832016945
l2 norm of benign user after server clipping 0.1143667832016945
___Test : epoch: 1982: Average loss: 0.0301, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.030068101067841052
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 16/4000 (0%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.221738576889038 sec.
select client [256, 980, 246, 453, 63, 951, 512, 287, 129, 26]
l2 norm of benign user before server clipping 0.10757677778601646
l2 norm of benign user after server clipping 0.10757677778601646
___Test : epoch: 1983: Average loss: 0.0318, Accuracy: 39671/40000.0 (99.1775%)
benign test loss (after fedavg) 0.031755128138512376
benign test acc (after fedavg) 99.1775
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 10/4000 (0%)
Test set:Main Accuracy: 39671/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.279667377471924 sec.
select client [676, 554, 456, 564, 107, 434, 334, 573, 787, 97]
l2 norm of benign user before server clipping 0.0937632292509079
l2 norm of benign user after server clipping 0.0937632292509079
___Test : epoch: 1984: Average loss: 0.0298, Accuracy: 39674/40000.0 (99.1850%)
benign test loss (after fedavg) 0.029754272090643644
benign test acc (after fedavg) 99.185
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 11/4000 (0%)
Test set:Main Accuracy: 39674/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.504960775375366 sec.
select client [862, 997, 32, 356, 728, 803, 418, 510, 975]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.13506216845578617
l2 norm of benign user after server clipping 0.13506216845578617
Poison Train Epoch: 0 	Loss: 0.039810
Poison Train Epoch: 1 	Loss: 0.019244
Poison Train Epoch: 2 	Loss: 0.028644
Poison Train Epoch: 3 	Loss: 0.018068
Poison Train Epoch: 4 	Loss: 0.027533
Poison Train Epoch: 5 	Loss: 0.055044
Poison Train Epoch: 6 	Loss: 0.052783
Poison Train Epoch: 7 	Loss: 0.012021
Poison Train Epoch: 8 	Loss: 0.121874
Poison Train Epoch: 9 	Loss: 0.053631
Poison Train Epoch: 10 	Loss: 0.049121
Poison Train Epoch: 11 	Loss: 0.026527
Poison Train Epoch: 12 	Loss: 0.105991
Poison Train Epoch: 13 	Loss: 0.028959
Poison Train Epoch: 14 	Loss: 0.007993
Poison Train Epoch: 15 	Loss: 0.016264
Poison Train Epoch: 16 	Loss: 0.009047
Poison Train Epoch: 17 	Loss: 0.041402
Poison Train Epoch: 18 	Loss: 0.088499
Poison Train Epoch: 19 	Loss: 0.059154
Test set:local_Trigger0_localPoison Accuracy: 3967/4000 (99%)
___Test : epoch: 1985: Average loss: 0.0385, Accuracy: 39613/40000.0 (99.0325%)
benign test loss (after fedavg) 0.03847782915532589
benign test acc (after fedavg) 99.0325
Test set:local_Trigger0Poison Accuracy: 26/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 305/4000 (8%)
Test set:Main Accuracy: 39613/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 26.605916261672974 sec.
select client [711, 824, 37, 422, 550, 694, 504, 89, 736, 742]
l2 norm of benign user before server clipping 0.09839745461940766
l2 norm of benign user after server clipping 0.09839745461940766
___Test : epoch: 1986: Average loss: 0.0316, Accuracy: 39666/40000.0 (99.1650%)
benign test loss (after fedavg) 0.0316174352042377
benign test acc (after fedavg) 99.165
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 14/4000 (0%)
Test set:Main Accuracy: 39666/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.617982149124146 sec.
select client [677, 959, 656, 546, 136, 882, 815, 850, 24, 214]
l2 norm of benign user before server clipping 0.08218954354524613
l2 norm of benign user after server clipping 0.08218954354524613
___Test : epoch: 1987: Average loss: 0.0280, Accuracy: 39694/40000.0 (99.2350%)
benign test loss (after fedavg) 0.027956000158190726
benign test acc (after fedavg) 99.235
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 9/4000 (0%)
Test set:Main Accuracy: 39694/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.26930546760559 sec.
select client [494, 972, 976, 153, 869, 844, 433, 885, 309, 712]
l2 norm of benign user before server clipping 0.08420486338436603
l2 norm of benign user after server clipping 0.08420486338436603
___Test : epoch: 1988: Average loss: 0.0280, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.028023473597317935
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 15/4000 (0%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.290055751800537 sec.
select client [962, 254, 304, 34, 801, 632, 716, 520, 222, 938]
l2 norm of benign user before server clipping 0.0698400093242526
l2 norm of benign user after server clipping 0.0698400093242526
___Test : epoch: 1989: Average loss: 0.0289, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.028938020296394824
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 13/4000 (0%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.4964439868927 sec.
select client [819, 634, 20, 500, 46, 922, 557, 416, 463]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.06288828059203094
l2 norm of benign user after server clipping 0.06288828059203094
Poison Train Epoch: 0 	Loss: 0.018119
Poison Train Epoch: 1 	Loss: 0.033357
Poison Train Epoch: 2 	Loss: 0.060234
Poison Train Epoch: 3 	Loss: 0.038957
Poison Train Epoch: 4 	Loss: 0.015218
Poison Train Epoch: 5 	Loss: 0.008687
Poison Train Epoch: 6 	Loss: 0.065438
Poison Train Epoch: 7 	Loss: 0.008361
Poison Train Epoch: 8 	Loss: 0.014690
Poison Train Epoch: 9 	Loss: 0.047793
Poison Train Epoch: 10 	Loss: 0.057782
Poison Train Epoch: 11 	Loss: 0.032639
Poison Train Epoch: 12 	Loss: 0.019145
Poison Train Epoch: 13 	Loss: 0.015074
Poison Train Epoch: 14 	Loss: 0.007223
Poison Train Epoch: 15 	Loss: 0.010404
Poison Train Epoch: 16 	Loss: 0.093995
Poison Train Epoch: 17 	Loss: 0.015453
Poison Train Epoch: 18 	Loss: 0.015588
Poison Train Epoch: 19 	Loss: 0.013372
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1990: Average loss: 0.0452, Accuracy: 39512/40000.0 (98.7800%)
benign test loss (after fedavg) 0.045181082142889496
benign test acc (after fedavg) 98.78
Test set:local_Trigger0Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 191/4000 (5%)
Test set:Main Accuracy: 39512/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 27.613701820373535 sec.
select client [310, 709, 174, 644, 757, 91, 287, 746, 875, 611]
l2 norm of benign user before server clipping 0.05410805568099022
l2 norm of benign user after server clipping 0.05410805568099022
___Test : epoch: 1991: Average loss: 0.0269, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.026913176672160626
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 39/4000 (1%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.416066646575928 sec.
select client [364, 144, 239, 924, 762, 180, 870, 914, 11, 846]
l2 norm of benign user before server clipping 0.05848169922828674
l2 norm of benign user after server clipping 0.05848169922828674
___Test : epoch: 1992: Average loss: 0.0290, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.02904260029941797
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 52/4000 (1%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.418529510498047 sec.
select client [436, 197, 212, 879, 718, 626, 342, 86, 451, 188]
l2 norm of benign user before server clipping 0.045144207496196034
l2 norm of benign user after server clipping 0.045144207496196034
___Test : epoch: 1993: Average loss: 0.0288, Accuracy: 39693/40000.0 (99.2325%)
benign test loss (after fedavg) 0.028822969083487988
benign test acc (after fedavg) 99.2325
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 12/4000 (0%)
Test set:Main Accuracy: 39693/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.48207426071167 sec.
select client [562, 289, 757, 472, 471, 84, 446, 854, 184, 513]
l2 norm of benign user before server clipping 0.052092287316918374
l2 norm of benign user after server clipping 0.052092287316918374
___Test : epoch: 1994: Average loss: 0.0280, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.027955221293121578
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 19/4000 (0%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.68189549446106 sec.
select client [802, 343, 101, 599, 188, 821, 58, 145, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.034209740865561694
l2 norm of benign user after server clipping 0.034209740865561694
Poison Train Epoch: 0 	Loss: 0.064530
Poison Train Epoch: 1 	Loss: 0.024884
Poison Train Epoch: 2 	Loss: 0.027631
Poison Train Epoch: 3 	Loss: 0.040833
Poison Train Epoch: 4 	Loss: 0.018578
Poison Train Epoch: 5 	Loss: 0.024741
Poison Train Epoch: 6 	Loss: 0.019163
Poison Train Epoch: 7 	Loss: 0.029110
Poison Train Epoch: 8 	Loss: 0.051008
Poison Train Epoch: 9 	Loss: 0.063353
Poison Train Epoch: 10 	Loss: 0.065836
Poison Train Epoch: 11 	Loss: 0.020583
Poison Train Epoch: 12 	Loss: 0.005184
Poison Train Epoch: 13 	Loss: 0.019173
Poison Train Epoch: 14 	Loss: 0.009390
Poison Train Epoch: 15 	Loss: 0.022939
Poison Train Epoch: 16 	Loss: 0.051917
Poison Train Epoch: 17 	Loss: 0.024701
Poison Train Epoch: 18 	Loss: 0.033592
Poison Train Epoch: 19 	Loss: 0.040495
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1995: Average loss: 0.0421, Accuracy: 39568/40000.0 (98.9200%)
benign test loss (after fedavg) 0.04212600355148315
benign test acc (after fedavg) 98.92
Test set:local_Trigger0Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 90/4000 (2%)
Test set:Main Accuracy: 39568/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 27.432871103286743 sec.
select client [383, 212, 548, 367, 131, 101, 541, 652, 278, 693]
l2 norm of benign user before server clipping 0.04002823466435075
l2 norm of benign user after server clipping 0.04002823466435075
___Test : epoch: 1996: Average loss: 0.0292, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.029215291114896538
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 25/4000 (1%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.485488653182983 sec.
select client [855, 981, 25, 996, 561, 119, 962, 223, 29, 99]
l2 norm of benign user before server clipping 0.038341224752366544
l2 norm of benign user after server clipping 0.038341224752366544
___Test : epoch: 1997: Average loss: 0.0312, Accuracy: 39680/40000.0 (99.2000%)
benign test loss (after fedavg) 0.031224782404303552
benign test acc (after fedavg) 99.2
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 63/4000 (2%)
Test set:Main Accuracy: 39680/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.350097179412842 sec.
select client [74, 387, 849, 703, 168, 802, 228, 679, 103, 570]
l2 norm of benign user before server clipping 0.015077638765797019
l2 norm of benign user after server clipping 0.015077638765797019
___Test : epoch: 1998: Average loss: 0.0285, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.02846469409838319
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 29/4000 (1%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.253885269165039 sec.
select client [967, 408, 907, 726, 960, 759, 836, 70, 321, 827]
l2 norm of benign user before server clipping 0.009712098422460258
l2 norm of benign user after server clipping 0.009712098422460258
___Test : epoch: 1999: Average loss: 0.0270, Accuracy: 39699/40000.0 (99.2475%)
benign test loss (after fedavg) 0.026972459714487196
benign test acc (after fedavg) 99.2475
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 18/4000 (0%)
Test set:Main Accuracy: 39699/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.594927549362183 sec.
select client [91, 516, 262, 283, 132, 557, 862, 243, 897]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0076427222488241065
l2 norm of benign user after server clipping 0.0076427222488241065
Poison Train Epoch: 0 	Loss: 0.018753
Poison Train Epoch: 1 	Loss: 0.034713
Poison Train Epoch: 2 	Loss: 0.029697
Poison Train Epoch: 3 	Loss: 0.011982
Poison Train Epoch: 4 	Loss: 0.048186
Poison Train Epoch: 5 	Loss: 0.047995
Poison Train Epoch: 6 	Loss: 0.034134
Poison Train Epoch: 7 	Loss: 0.023598
Poison Train Epoch: 8 	Loss: 0.010893
Poison Train Epoch: 9 	Loss: 0.004771
Poison Train Epoch: 10 	Loss: 0.054181
Poison Train Epoch: 11 	Loss: 0.029681
Poison Train Epoch: 12 	Loss: 0.023223
Poison Train Epoch: 13 	Loss: 0.011883
Poison Train Epoch: 14 	Loss: 0.038553
Poison Train Epoch: 15 	Loss: 0.010899
Poison Train Epoch: 16 	Loss: 0.005319
Poison Train Epoch: 17 	Loss: 0.006004
Poison Train Epoch: 18 	Loss: 0.002463
Poison Train Epoch: 19 	Loss: 0.020233
Test set:local_Trigger3_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2000: Average loss: 0.0276, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.027590693842619658
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 257/4000 (6%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 27.363000631332397 sec.
select client [881, 585, 937, 800, 823, 218, 321, 219, 936, 503]
l2 norm of benign user before server clipping 0.005425636097788811
l2 norm of benign user after server clipping 0.005425636097788811
___Test : epoch: 2001: Average loss: 0.0285, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.028531475102156402
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 210/4000 (5%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.416007041931152 sec.
select client [895, 738, 995, 37, 934, 20, 699, 578, 490, 823]
l2 norm of benign user before server clipping 0.008741011656820775
l2 norm of benign user after server clipping 0.008741011656820775
___Test : epoch: 2002: Average loss: 0.0289, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.028878398594260217
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 181/4000 (5%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.465818166732788 sec.
select client [286, 837, 43, 89, 875, 285, 755, 315, 512, 353]
l2 norm of benign user before server clipping 0.006122062297072262
l2 norm of benign user after server clipping 0.006122062297072262
___Test : epoch: 2003: Average loss: 0.0275, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.027526851860433816
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 201/4000 (5%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.444514513015747 sec.
select client [104, 779, 231, 449, 352, 581, 76, 62, 22, 250]
l2 norm of benign user before server clipping 0.007399131020065397
l2 norm of benign user after server clipping 0.007399131020065397
___Test : epoch: 2004: Average loss: 0.0269, Accuracy: 39713/40000.0 (99.2825%)
benign test loss (after fedavg) 0.026934303008019925
benign test acc (after fedavg) 99.2825
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 129/4000 (3%)
Test set:Main Accuracy: 39713/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.225806713104248 sec.
select client [584, 199, 108, 74, 719, 353, 275, 152, 603, 293]
l2 norm of benign user before server clipping 0.006000965577550232
l2 norm of benign user after server clipping 0.006000965577550232
___Test : epoch: 2005: Average loss: 0.0277, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.027679569040983915
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 303/4000 (8%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.367570161819458 sec.
select client [997, 105, 958, 871, 628, 330, 193, 65, 501, 709]
l2 norm of benign user before server clipping 0.0069523501675575975
l2 norm of benign user after server clipping 0.0069523501675575975
___Test : epoch: 2006: Average loss: 0.0284, Accuracy: 39688/40000.0 (99.2200%)
benign test loss (after fedavg) 0.028431880842149256
benign test acc (after fedavg) 99.22
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 171/4000 (4%)
Test set:Main Accuracy: 39688/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.382302045822144 sec.
select client [748, 625, 132, 504, 600, 952, 942, 505, 205, 23]
l2 norm of benign user before server clipping 0.00503156278282404
l2 norm of benign user after server clipping 0.00503156278282404
___Test : epoch: 2007: Average loss: 0.0270, Accuracy: 39726/40000.0 (99.3150%)
benign test loss (after fedavg) 0.02703561652675271
benign test acc (after fedavg) 99.315
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39726/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.117266416549683 sec.
select client [901, 23, 317, 728, 751, 602, 48, 576, 108, 440]
l2 norm of benign user before server clipping 0.006490304437465966
l2 norm of benign user after server clipping 0.006490304437465966
___Test : epoch: 2008: Average loss: 0.0264, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02635444958433509
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 147/4000 (4%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.251549243927002 sec.
select client [184, 396, 66, 350, 579, 668, 753, 950, 299, 587]
l2 norm of benign user before server clipping 0.0060549171175807714
l2 norm of benign user after server clipping 0.0060549171175807714
___Test : epoch: 2009: Average loss: 0.0276, Accuracy: 39696/40000.0 (99.2400%)
benign test loss (after fedavg) 0.02758397937119007
benign test acc (after fedavg) 99.24
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 204/4000 (5%)
Test set:Main Accuracy: 39696/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.330168724060059 sec.
select client [187, 936, 86, 761, 264, 21, 653, 365, 576, 490]
l2 norm of benign user before server clipping 0.006143922870978713
l2 norm of benign user after server clipping 0.006143922870978713
___Test : epoch: 2010: Average loss: 0.0277, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.027719288119673727
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 125/4000 (3%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.411781311035156 sec.
select client [796, 790, 899, 954, 318, 376, 127, 972, 686, 227]
l2 norm of benign user before server clipping 0.004739285749383271
l2 norm of benign user after server clipping 0.004739285749383271
___Test : epoch: 2011: Average loss: 0.0268, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.026841359412670136
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 117/4000 (3%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.070773839950562 sec.
select client [582, 53, 965, 992, 465, 431, 415, 594, 192, 444]
l2 norm of benign user before server clipping 0.004764981998596341
l2 norm of benign user after server clipping 0.004764981998596341
___Test : epoch: 2012: Average loss: 0.0280, Accuracy: 39706/40000.0 (99.2650%)
benign test loss (after fedavg) 0.02797750906124711
benign test acc (after fedavg) 99.265
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 191/4000 (5%)
Test set:Main Accuracy: 39706/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.204952001571655 sec.
select client [579, 249, 52, 701, 940, 160, 519, 801, 640, 526]
l2 norm of benign user before server clipping 0.008268650760874153
l2 norm of benign user after server clipping 0.008268650760874153
___Test : epoch: 2013: Average loss: 0.0281, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.028116327093541622
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 242/4000 (6%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.783727169036865 sec.
select client [699, 254, 111, 591, 855, 979, 126, 21, 212, 604]
l2 norm of benign user before server clipping 0.007446938287466764
l2 norm of benign user after server clipping 0.007446938287466764
___Test : epoch: 2014: Average loss: 0.0279, Accuracy: 39697/40000.0 (99.2425%)
benign test loss (after fedavg) 0.027856401981785895
benign test acc (after fedavg) 99.2425
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 166/4000 (4%)
Test set:Main Accuracy: 39697/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.518311738967896 sec.
select client [700, 449, 692, 492, 148, 261, 236, 386, 454]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.011204956177001199
l2 norm of benign user after server clipping 0.011204956177001199
Poison Train Epoch: 0 	Loss: 0.075850
Poison Train Epoch: 1 	Loss: 0.021577
Poison Train Epoch: 2 	Loss: 0.035128
Poison Train Epoch: 3 	Loss: 0.012798
Poison Train Epoch: 4 	Loss: 0.038694
Poison Train Epoch: 5 	Loss: 0.048412
Poison Train Epoch: 6 	Loss: 0.028829
Poison Train Epoch: 7 	Loss: 0.031936
Poison Train Epoch: 8 	Loss: 0.013403
Poison Train Epoch: 9 	Loss: 0.010348
Poison Train Epoch: 10 	Loss: 0.055040
Poison Train Epoch: 11 	Loss: 0.125552
Poison Train Epoch: 12 	Loss: 0.015413
Poison Train Epoch: 13 	Loss: 0.009558
Poison Train Epoch: 14 	Loss: 0.047897
Poison Train Epoch: 15 	Loss: 0.006861
Poison Train Epoch: 16 	Loss: 0.019749
Poison Train Epoch: 17 	Loss: 0.017240
Poison Train Epoch: 18 	Loss: 0.015939
Poison Train Epoch: 19 	Loss: 0.012776
Test set:local_Trigger0_localPoison Accuracy: 3956/4000 (99%)
___Test : epoch: 2015: Average loss: 0.0273, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.027340663202106954
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 336/4000 (8%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 25.618217945098877 sec.
select client [124, 489, 35, 578, 268, 875, 606, 328, 258, 795]
l2 norm of benign user before server clipping 0.0071806285297498105
l2 norm of benign user after server clipping 0.0071806285297498105
___Test : epoch: 2016: Average loss: 0.0286, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02860716548860073
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 656/4000 (16%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.544693946838379 sec.
select client [174, 238, 204, 44, 20, 473, 443, 349, 769, 62]
l2 norm of benign user before server clipping 0.005539925978519022
l2 norm of benign user after server clipping 0.005539925978519022
___Test : epoch: 2017: Average loss: 0.0283, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.028323870284855366
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 175/4000 (4%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.33919882774353 sec.
select client [214, 134, 489, 513, 142, 316, 240, 354, 253, 871]
l2 norm of benign user before server clipping 0.007945914950687439
l2 norm of benign user after server clipping 0.007945914950687439
___Test : epoch: 2018: Average loss: 0.0266, Accuracy: 39712/40000.0 (99.2800%)
benign test loss (after fedavg) 0.02656970004811883
benign test acc (after fedavg) 99.28
Test set:local_Trigger0Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 221/4000 (6%)
Test set:Main Accuracy: 39712/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.360177516937256 sec.
select client [732, 718, 541, 948, 311, 375, 63, 25, 194, 94]
l2 norm of benign user before server clipping 0.0060811898903921245
l2 norm of benign user after server clipping 0.0060811898903921245
___Test : epoch: 2019: Average loss: 0.0292, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.029190686719864606
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 692/4000 (17%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.363922119140625 sec.
select client [874, 325, 349, 612, 837, 981, 779, 12, 323]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0058279715530160404
l2 norm of benign user after server clipping 0.0058279715530160404
Poison Train Epoch: 0 	Loss: 0.031357
Poison Train Epoch: 1 	Loss: 0.006406
Poison Train Epoch: 2 	Loss: 0.032728
Poison Train Epoch: 3 	Loss: 0.055699
Poison Train Epoch: 4 	Loss: 0.049701
Poison Train Epoch: 5 	Loss: 0.020269
Poison Train Epoch: 6 	Loss: 0.050158
Poison Train Epoch: 7 	Loss: 0.028061
Poison Train Epoch: 8 	Loss: 0.021308
Poison Train Epoch: 9 	Loss: 0.045600
Poison Train Epoch: 10 	Loss: 0.021444
Poison Train Epoch: 11 	Loss: 0.006261
Poison Train Epoch: 12 	Loss: 0.066711
Poison Train Epoch: 13 	Loss: 0.003918
Poison Train Epoch: 14 	Loss: 0.018667
Poison Train Epoch: 15 	Loss: 0.006293
Poison Train Epoch: 16 	Loss: 0.018568
Poison Train Epoch: 17 	Loss: 0.030964
Poison Train Epoch: 18 	Loss: 0.031325
Poison Train Epoch: 19 	Loss: 0.029126
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2020: Average loss: 0.0498, Accuracy: 39486/40000.0 (98.7150%)
benign test loss (after fedavg) 0.049784475956857206
benign test acc (after fedavg) 98.715
Test set:local_Trigger0Poison Accuracy: 102/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1087/4000 (27%)
Test set:Main Accuracy: 39486/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 27.079832077026367 sec.
select client [846, 425, 926, 35, 626, 391, 181, 311, 422, 452]
l2 norm of benign user before server clipping 0.006937736319378019
l2 norm of benign user after server clipping 0.006937736319378019
___Test : epoch: 2021: Average loss: 0.0285, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.028534291014820336
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 473/4000 (12%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.540179967880249 sec.
select client [485, 460, 777, 509, 439, 568, 125, 780, 104, 565]
l2 norm of benign user before server clipping 0.009685059962794184
l2 norm of benign user after server clipping 0.009685059962794184
___Test : epoch: 2022: Average loss: 0.0328, Accuracy: 39659/40000.0 (99.1475%)
benign test loss (after fedavg) 0.0328259672164917
benign test acc (after fedavg) 99.1475
Test set:local_Trigger0Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 669/4000 (17%)
Test set:Main Accuracy: 39659/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.490768194198608 sec.
select client [362, 237, 875, 295, 343, 71, 450, 466, 354, 323]
l2 norm of benign user before server clipping 0.0063055751379579306
l2 norm of benign user after server clipping 0.0063055751379579306
___Test : epoch: 2023: Average loss: 0.0273, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.02726882572248578
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 484/4000 (12%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.249237298965454 sec.
select client [571, 986, 686, 421, 676, 684, 851, 880, 279, 283]
l2 norm of benign user before server clipping 0.0057908468064852055
l2 norm of benign user after server clipping 0.0057908468064852055
___Test : epoch: 2024: Average loss: 0.0277, Accuracy: 39707/40000.0 (99.2675%)
benign test loss (after fedavg) 0.027680932603031397
benign test acc (after fedavg) 99.2675
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 582/4000 (15%)
Test set:Main Accuracy: 39707/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.42465329170227 sec.
select client [843, 468, 866, 53, 797, 435, 860, 59, 781]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006917795425073968
l2 norm of benign user after server clipping 0.006917795425073968
Poison Train Epoch: 0 	Loss: 0.075972
Poison Train Epoch: 1 	Loss: 0.018119
Poison Train Epoch: 2 	Loss: 0.073205
Poison Train Epoch: 3 	Loss: 0.024870
Poison Train Epoch: 4 	Loss: 0.031901
Poison Train Epoch: 5 	Loss: 0.061663
Poison Train Epoch: 6 	Loss: 0.043893
Poison Train Epoch: 7 	Loss: 0.006031
Poison Train Epoch: 8 	Loss: 0.025183
Poison Train Epoch: 9 	Loss: 0.007462
Poison Train Epoch: 10 	Loss: 0.021465
Poison Train Epoch: 11 	Loss: 0.012412
Poison Train Epoch: 12 	Loss: 0.010332
Poison Train Epoch: 13 	Loss: 0.057720
Poison Train Epoch: 14 	Loss: 0.030633
Poison Train Epoch: 15 	Loss: 0.021511
Poison Train Epoch: 16 	Loss: 0.014508
Poison Train Epoch: 17 	Loss: 0.007575
Poison Train Epoch: 18 	Loss: 0.013438
Poison Train Epoch: 19 	Loss: 0.062033
Test set:local_Trigger2_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2025: Average loss: 0.0437, Accuracy: 39562/40000.0 (98.9050%)
benign test loss (after fedavg) 0.043703604574501516
benign test acc (after fedavg) 98.905
Test set:local_Trigger0Poison Accuracy: 57/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger3Poison Accuracy: 589/4000 (15%)
Test set:Main Accuracy: 39562/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 25.649690628051758 sec.
select client [560, 691, 514, 980, 330, 106, 214, 970, 603, 765]
l2 norm of benign user before server clipping 0.00660531222820282
l2 norm of benign user after server clipping 0.00660531222820282
___Test : epoch: 2026: Average loss: 0.0293, Accuracy: 39700/40000.0 (99.2500%)
benign test loss (after fedavg) 0.0293068560577929
benign test acc (after fedavg) 99.25
Test set:local_Trigger0Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 727/4000 (18%)
Test set:Main Accuracy: 39700/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.451319217681885 sec.
select client [516, 701, 936, 375, 189, 828, 532, 749, 99, 64]
l2 norm of benign user before server clipping 0.006235339236445725
l2 norm of benign user after server clipping 0.006235339236445725
___Test : epoch: 2027: Average loss: 0.0291, Accuracy: 39695/40000.0 (99.2375%)
benign test loss (after fedavg) 0.02907403219938278
benign test acc (after fedavg) 99.2375
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 826/4000 (21%)
Test set:Main Accuracy: 39695/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.309432029724121 sec.
select client [284, 71, 262, 238, 592, 109, 365, 558, 46, 811]
l2 norm of benign user before server clipping 0.007613675249740481
l2 norm of benign user after server clipping 0.007613675249740481
___Test : epoch: 2028: Average loss: 0.0287, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.028731406255066396
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 640/4000 (16%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.600455522537231 sec.
select client [470, 362, 382, 456, 993, 125, 697, 63, 874, 672]
l2 norm of benign user before server clipping 0.005607460136525333
l2 norm of benign user after server clipping 0.005607460136525333
___Test : epoch: 2029: Average loss: 0.0283, Accuracy: 39704/40000.0 (99.2600%)
benign test loss (after fedavg) 0.02826314183846116
benign test acc (after fedavg) 99.26
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39704/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.527611255645752 sec.
select client [738, 322, 554, 185, 646, 82, 56, 106, 764]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005839994177222252
l2 norm of benign user after server clipping 0.005839994177222252
Poison Train Epoch: 0 	Loss: 0.038392
Poison Train Epoch: 1 	Loss: 0.010051
Poison Train Epoch: 2 	Loss: 0.033920
Poison Train Epoch: 3 	Loss: 0.028218
Poison Train Epoch: 4 	Loss: 0.032311
Poison Train Epoch: 5 	Loss: 0.009882
Poison Train Epoch: 6 	Loss: 0.020315
Poison Train Epoch: 7 	Loss: 0.017067
Poison Train Epoch: 8 	Loss: 0.022949
Poison Train Epoch: 9 	Loss: 0.004763
Poison Train Epoch: 10 	Loss: 0.033615
Poison Train Epoch: 11 	Loss: 0.143678
Poison Train Epoch: 12 	Loss: 0.024581
Poison Train Epoch: 13 	Loss: 0.011236
Poison Train Epoch: 14 	Loss: 0.027938
Poison Train Epoch: 15 	Loss: 0.040931
Poison Train Epoch: 16 	Loss: 0.032324
Poison Train Epoch: 17 	Loss: 0.006476
Poison Train Epoch: 18 	Loss: 0.011964
Poison Train Epoch: 19 	Loss: 0.087981
Test set:local_Trigger3_localPoison Accuracy: 3999/4000 (100%)
___Test : epoch: 2030: Average loss: 0.0298, Accuracy: 39698/40000.0 (99.2450%)
benign test loss (after fedavg) 0.02980576523318887
benign test acc (after fedavg) 99.245
Test set:local_Trigger0Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1320/4000 (33%)
Test set:Main Accuracy: 39698/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 25.436096906661987 sec.
select client [380, 18, 178, 915, 48, 386, 564, 398, 824, 52]
l2 norm of benign user before server clipping 0.007139125803951174
l2 norm of benign user after server clipping 0.007139125803951174
___Test : epoch: 2031: Average loss: 0.0288, Accuracy: 39708/40000.0 (99.2700%)
benign test loss (after fedavg) 0.02881262954771519
benign test acc (after fedavg) 99.27
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1714/4000 (43%)
Test set:Main Accuracy: 39708/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.483686447143555 sec.
select client [571, 847, 454, 500, 964, 963, 692, 70, 404, 181]
l2 norm of benign user before server clipping 0.008852359664160758
l2 norm of benign user after server clipping 0.008852359664160758
___Test : epoch: 2032: Average loss: 0.0291, Accuracy: 39688/40000.0 (99.2200%)
benign test loss (after fedavg) 0.02912447391077876
benign test acc (after fedavg) 99.22
Test set:local_Trigger0Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1211/4000 (30%)
Test set:Main Accuracy: 39688/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.432655811309814 sec.
select client [697, 552, 561, 627, 483, 895, 355, 435, 774, 173]
l2 norm of benign user before server clipping 0.006808306975290179
l2 norm of benign user after server clipping 0.006808306975290179
___Test : epoch: 2033: Average loss: 0.0292, Accuracy: 39701/40000.0 (99.2525%)
benign test loss (after fedavg) 0.029189359955489637
benign test acc (after fedavg) 99.2525
Test set:local_Trigger0Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1697/4000 (42%)
Test set:Main Accuracy: 39701/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.384529113769531 sec.
select client [747, 113, 985, 109, 783, 655, 580, 731, 813, 242]
l2 norm of benign user before server clipping 0.0039521804894320665
l2 norm of benign user after server clipping 0.0039521804894320665
___Test : epoch: 2034: Average loss: 0.0274, Accuracy: 39714/40000.0 (99.2850%)
benign test loss (after fedavg) 0.02742526017203927
benign test acc (after fedavg) 99.285
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 855/4000 (21%)
Test set:Main Accuracy: 39714/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.185845136642456 sec.
select client [987, 791, 998, 777, 628, 485, 587, 253, 396, 912]
l2 norm of benign user before server clipping 0.005265390733256936
l2 norm of benign user after server clipping 0.005265390733256936
___Test : epoch: 2035: Average loss: 0.0283, Accuracy: 39709/40000.0 (99.2725%)
benign test loss (after fedavg) 0.02825631588473916
benign test acc (after fedavg) 99.2725
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1277/4000 (32%)
Test set:Main Accuracy: 39709/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.377616167068481 sec.
select client [53, 420, 889, 850, 905, 145, 541, 599, 789, 573]
l2 norm of benign user before server clipping 0.006379027850925922
l2 norm of benign user after server clipping 0.006379027850925922
___Test : epoch: 2036: Average loss: 0.0280, Accuracy: 39711/40000.0 (99.2775%)
benign test loss (after fedavg) 0.027954854045063256
benign test acc (after fedavg) 99.2775
Test set:local_Trigger0Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1284/4000 (32%)
Test set:Main Accuracy: 39711/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.429998636245728 sec.
select client [179, 549, 516, 416, 844, 937, 155, 307, 115, 736]
l2 norm of benign user before server clipping 0.0076327037531882524
l2 norm of benign user after server clipping 0.0076327037531882524
___Test : epoch: 2037: Average loss: 0.0280, Accuracy: 39710/40000.0 (99.2750%)
benign test loss (after fedavg) 0.028034212907403707
benign test acc (after fedavg) 99.275
Test set:local_Trigger0Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1663/4000 (42%)
Test set:Main Accuracy: 39710/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.580671787261963 sec.
select client [933, 166, 228, 487, 848, 353, 296, 520, 763, 482]
l2 norm of benign user before server clipping 0.005220784177072346
l2 norm of benign user after server clipping 0.005220784177072346
___Test : epoch: 2038: Average loss: 0.0278, Accuracy: 39703/40000.0 (99.2575%)
benign test loss (after fedavg) 0.027794830786436797
benign test acc (after fedavg) 99.2575
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1362/4000 (34%)
Test set:Main Accuracy: 39703/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.209140539169312 sec.
select client [36, 576, 590, 370, 483, 593, 21, 148, 412, 638]
l2 norm of benign user before server clipping 0.00618742078077048
l2 norm of benign user after server clipping 0.00618742078077048
___Test : epoch: 2039: Average loss: 0.0272, Accuracy: 39722/40000.0 (99.3050%)
benign test loss (after fedavg) 0.027198572219908238
benign test acc (after fedavg) 99.30499999999999
Test set:local_Trigger0Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 914/4000 (23%)
Test set:Main Accuracy: 39722/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.43934679031372 sec.
select client [341, 58, 987, 789, 170, 50, 430, 558, 872, 487]
l2 norm of benign user before server clipping 0.007788650458678603
l2 norm of benign user after server clipping 0.007788650458678603
___Test : epoch: 2040: Average loss: 0.0291, Accuracy: 39691/40000.0 (99.2275%)
benign test loss (after fedavg) 0.029137088822573425
benign test acc (after fedavg) 99.2275
Test set:local_Trigger0Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1879/4000 (47%)
Test set:Main Accuracy: 39691/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.49417519569397 sec.
select client [997, 213, 399, 936, 524, 466, 383, 227, 208, 556]
l2 norm of benign user before server clipping 0.008922582492232323
l2 norm of benign user after server clipping 0.008922582492232323
___Test : epoch: 2041: Average loss: 0.0266, Accuracy: 39721/40000.0 (99.3025%)
benign test loss (after fedavg) 0.026559399357438087
benign test acc (after fedavg) 99.30250000000001
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1029/4000 (26%)
Test set:Main Accuracy: 39721/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.501044511795044 sec.
select client [117, 560, 597, 698, 679, 523, 965, 503, 609, 338]
l2 norm of benign user before server clipping 0.00464593778597191
l2 norm of benign user after server clipping 0.00464593778597191
___Test : epoch: 2042: Average loss: 0.0275, Accuracy: 39716/40000.0 (99.2900%)
benign test loss (after fedavg) 0.027484375362843275
benign test acc (after fedavg) 99.29
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 669/4000 (17%)
Test set:Main Accuracy: 39716/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.34727954864502 sec.
select client [307, 558, 849, 856, 254, 570, 914, 819, 517, 706]
l2 norm of benign user before server clipping 0.008712671068497001
l2 norm of benign user after server clipping 0.008712671068497001
___Test : epoch: 2043: Average loss: 0.0276, Accuracy: 39694/40000.0 (99.2350%)
benign test loss (after fedavg) 0.02762274183444679
benign test acc (after fedavg) 99.235
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 712/4000 (18%)
Test set:Main Accuracy: 39694/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.617877960205078 sec.
select client [257, 29, 66, 705, 416, 325, 978, 406, 924, 134]
l2 norm of benign user before server clipping 0.006766077328938991
l2 norm of benign user after server clipping 0.006766077328938991
___Test : epoch: 2044: Average loss: 0.0265, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.026514368919283153
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 717/4000 (18%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.343505144119263 sec.
select client [507, 847, 394, 782, 224, 928, 881, 86, 13]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0070045756745255655
l2 norm of benign user after server clipping 0.0070045756745255655
Poison Train Epoch: 0 	Loss: 0.035426
Poison Train Epoch: 1 	Loss: 0.016217
Poison Train Epoch: 2 	Loss: 0.104850
Poison Train Epoch: 3 	Loss: 0.087167
Poison Train Epoch: 4 	Loss: 0.018528
Poison Train Epoch: 5 	Loss: 0.004873
Poison Train Epoch: 6 	Loss: 0.062099
Poison Train Epoch: 7 	Loss: 0.017564
Poison Train Epoch: 8 	Loss: 0.026198
Poison Train Epoch: 9 	Loss: 0.030198
Poison Train Epoch: 10 	Loss: 0.008269
Poison Train Epoch: 11 	Loss: 0.017923
Poison Train Epoch: 12 	Loss: 0.013030
Poison Train Epoch: 13 	Loss: 0.029154
Poison Train Epoch: 14 	Loss: 0.006048
Poison Train Epoch: 15 	Loss: 0.079071
Poison Train Epoch: 16 	Loss: 0.007299
Poison Train Epoch: 17 	Loss: 0.004561
Poison Train Epoch: 18 	Loss: 0.012839
Poison Train Epoch: 19 	Loss: 0.036571
Test set:local_Trigger0_localPoison Accuracy: 3962/4000 (99%)
___Test : epoch: 2045: Average loss: 0.0301, Accuracy: 39687/40000.0 (99.2175%)
benign test loss (after fedavg) 0.030149341094493867
benign test acc (after fedavg) 99.2175
Test set:local_Trigger0Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2232/4000 (56%)
Test set:Main Accuracy: 39687/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 27.321097135543823 sec.
select client [665, 201, 408, 575, 592, 711, 910, 902, 449, 926]
l2 norm of benign user before server clipping 0.0070297930855304
l2 norm of benign user after server clipping 0.0070297930855304
___Test : epoch: 2046: Average loss: 0.0297, Accuracy: 39718/40000.0 (99.2950%)
benign test loss (after fedavg) 0.02967633847594261
benign test acc (after fedavg) 99.295
Test set:local_Trigger0Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2820/4000 (70%)
Test set:Main Accuracy: 39718/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.333054065704346 sec.
select client [735, 123, 124, 848, 185, 265, 109, 332, 14, 493]
l2 norm of benign user before server clipping 0.006227741646580398
l2 norm of benign user after server clipping 0.006227741646580398
___Test : epoch: 2047: Average loss: 0.0278, Accuracy: 39705/40000.0 (99.2625%)
benign test loss (after fedavg) 0.027845344046503306
benign test acc (after fedavg) 99.2625
Test set:local_Trigger0Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1577/4000 (39%)
Test set:Main Accuracy: 39705/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.488477230072021 sec.
select client [171, 441, 683, 345, 468, 16, 101, 331, 50, 666]
l2 norm of benign user before server clipping 0.0060786723624914885
l2 norm of benign user after server clipping 0.0060786723624914885
___Test : epoch: 2048: Average loss: 0.0287, Accuracy: 39715/40000.0 (99.2875%)
benign test loss (after fedavg) 0.028705290220677852
benign test acc (after fedavg) 99.2875
Test set:local_Trigger0Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2083/4000 (52%)
Test set:Main Accuracy: 39715/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.549280881881714 sec.
select client [242, 937, 968, 226, 832, 541, 820, 644, 122, 151]
l2 norm of benign user before server clipping 0.004984183795750141
l2 norm of benign user after server clipping 0.004984183795750141
___Test : epoch: 2049: Average loss: 0.0291, Accuracy: 39694/40000.0 (99.2350%)
benign test loss (after fedavg) 0.029146098283678295
benign test acc (after fedavg) 99.235
Test set:local_Trigger0Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 1/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2776/4000 (69%)
Test set:Main Accuracy: 39694/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 13.29578423500061 sec.
select client [942, 390, 742, 499, 74, 263, 249, 886, 101]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007856325298133824
l2 norm of benign user after server clipping 0.007856325298133824
Poison Train Epoch: 0 	Loss: 0.018473
Poison Train Epoch: 1 	Loss: 0.005240
Poison Train Epoch: 2 	Loss: 0.013258
Poison Train Epoch: 3 	Loss: 0.029907
Poison Train Epoch: 4 	Loss: 0.021655
Poison Train Epoch: 5 	Loss: 0.022518
Poison Train Epoch: 6 	Loss: 0.036546
Poison Train Epoch: 7 	Loss: 0.011970
Poison Train Epoch: 8 	Loss: 0.019433
Poison Train Epoch: 9 	Loss: 0.030586
Poison Train Epoch: 10 	Loss: 0.034284
Poison Train Epoch: 11 	Loss: 0.042280
Poison Train Epoch: 12 	Loss: 0.013220
Poison Train Epoch: 13 	Loss: 0.038031
Poison Train Epoch: 14 	Loss: 0.012481
Poison Train Epoch: 15 	Loss: 0.027977
Poison Train Epoch: 16 	Loss: 0.013830
Poison Train Epoch: 17 	Loss: 0.004834
Poison Train Epoch: 18 	Loss: 0.021956
Poison Train Epoch: 19 	Loss: 0.030622
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2050: Average loss: 0.0441, Accuracy: 39551/40000.0 (98.8775%)
benign test loss (after fedavg) 0.04414767368137836
benign test acc (after fedavg) 98.8775
Test set:local_Trigger0Poison Accuracy: 130/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 603/4000 (15%)
Test set:local_Trigger3Poison Accuracy: 3102/4000 (78%)
Test set:Main Accuracy: 39551/40000 (99%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 27.517041206359863 sec.
select client [477, 226, 769, 317, 619, 812, 873, 36, 697, 585]
l2 norm of benign user before server clipping 0.00821084207855165
l2 norm of benign user after server clipping 0.00821084207855165
___Test : epoch: 2051: Average loss: 0.0299, Accuracy: 39694/40000.0 (99.2350%)
benign test loss (after fedavg) 0.029889884361624718
benign test acc (after fedavg) 99.235
Test set:local_Trigger0Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1952/4000 (49%)