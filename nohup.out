
/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0570, Accuracy: 39299/40000.0 (98.2475%)
Origin Pretrained Model: benign test loss (after fedavg) 0.05704424796551466
Origin Pretrained Model: benign test acc (after fedavg) 98.2475
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.359365376830101
l2 norm of benign user after server clipping 0.3298554688692093
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.1491, Accuracy: 38146/40000.0 (95.3650%)
benign test loss (after fedavg) 0.14907171036601066
benign test acc (after fedavg) 95.365
Done in 2.628953218460083 sec.
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.24764559268951417
l2 norm of benign user after server clipping 0.24764559268951417
___Test : epoch: 1951: Average loss: 0.0800, Accuracy: 39015/40000.0 (97.5375%)
benign test loss (after fedavg) 0.08000705085098743
benign test acc (after fedavg) 97.5375
Done in 2.6193013191223145 sec.
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.1646109253168106
l2 norm of benign user after server clipping 0.1646109253168106
___Test : epoch: 1952: Average loss: 0.0743, Accuracy: 39057/40000.0 (97.6425%)
benign test loss (after fedavg) 0.074318734793365
benign test acc (after fedavg) 97.6425
Done in 2.2786545753479004 sec.
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.20620563998818398
l2 norm of benign user after server clipping 0.20620563998818398
___Test : epoch: 1953: Average loss: 0.0727, Accuracy: 39082/40000.0 (97.7050%)
benign test loss (after fedavg) 0.07266452569514513
benign test acc (after fedavg) 97.705
Done in 2.4374470710754395 sec.
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.17789121717214584
l2 norm of benign user after server clipping 0.17789121717214584
___Test : epoch: 1954: Average loss: 0.0702, Accuracy: 39167/40000.0 (97.9175%)
benign test loss (after fedavg) 0.07019792994856834
benign test acc (after fedavg) 97.9175
Done in 2.5780041217803955 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.26448554628425175
l2 norm of benign user after server clipping 0.23597645262877145
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger0 loss tensor(4.5385, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.4577, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.1535, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.0512, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(2.9537, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.192605
Poison Train Epoch: 1 	Loss: 0.175785
Poison Train Epoch: 2 	Loss: 0.107976
Poison Train Epoch: 3 	Loss: 0.054053
Poison Train Epoch: 4 	Loss: 0.072361
Poison Train Epoch: 5 	Loss: 0.038792
Poison Train Epoch: 6 	Loss: 0.010208
Poison Train Epoch: 7 	Loss: 0.033787
Poison Train Epoch: 8 	Loss: 0.088853
Poison Train Epoch: 9 	Loss: 0.001801
Poison Train Epoch: 10 	Loss: 0.020975
Poison Train Epoch: 11 	Loss: 0.042982
Poison Train Epoch: 12 	Loss: 0.025485
Poison Train Epoch: 13 	Loss: 0.156945
Poison Train Epoch: 14 	Loss: 0.074195
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1955: Average loss: 0.1386, Accuracy: 38215/40000.0 (95.5375%)
benign test loss (after fedavg) 0.1385874430477619
benign test acc (after fedavg) 95.5375
Done in 13.810287237167358 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.20790117084980012
l2 norm of benign user after server clipping 0.20790117084980012
___Test : epoch: 1956: Average loss: 0.0733, Accuracy: 39130/40000.0 (97.8250%)
benign test loss (after fedavg) 0.07333774437308312
benign test acc (after fedavg) 97.82499999999999
Done in 2.324998617172241 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.15642138570547104
l2 norm of benign user after server clipping 0.15642138570547104
___Test : epoch: 1957: Average loss: 0.0674, Accuracy: 39188/40000.0 (97.9700%)
benign test loss (after fedavg) 0.06739250370115042
benign test acc (after fedavg) 97.97
Done in 2.4597597122192383 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.17550354748964309
l2 norm of benign user after server clipping 0.17550354748964309
___Test : epoch: 1958: Average loss: 0.0682, Accuracy: 39158/40000.0 (97.8950%)
benign test loss (after fedavg) 0.06822568840384484
benign test acc (after fedavg) 97.895
Done in 2.5825793743133545 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.14045156985521318
l2 norm of benign user after server clipping 0.14045156985521318
___Test : epoch: 1959: Average loss: 0.0679, Accuracy: 39124/40000.0 (97.8100%)
benign test loss (after fedavg) 0.06790179697424173
benign test acc (after fedavg) 97.81
Done in 2.259188175201416 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14798804786470202
l2 norm of benign user after server clipping 0.14798804786470202
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger1 loss tensor(7.5625, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(4.8998, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(2.9834, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(1.6927, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(0.9622, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.165851
Poison Train Epoch: 1 	Loss: 0.013704
Poison Train Epoch: 2 	Loss: 0.068858
Poison Train Epoch: 3 	Loss: 0.017249
Poison Train Epoch: 4 	Loss: 0.100082
Poison Train Epoch: 5 	Loss: 0.185997
Poison Train Epoch: 6 	Loss: 0.295408
Poison Train Epoch: 7 	Loss: 0.053966
Poison Train Epoch: 8 	Loss: 0.122403
Poison Train Epoch: 9 	Loss: 0.052334
Poison Train Epoch: 10 	Loss: 0.010730
Poison Train Epoch: 11 	Loss: 0.047106
Poison Train Epoch: 12 	Loss: 0.049497
Poison Train Epoch: 13 	Loss: 0.030996
Poison Train Epoch: 14 	Loss: 0.197818
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1960: Average loss: 0.0602, Accuracy: 39278/40000.0 (98.1950%)
benign test loss (after fedavg) 0.06020142164975405
benign test acc (after fedavg) 98.195
Done in 13.441819906234741 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.10652996338903904
l2 norm of benign user after server clipping 0.10652996338903904
___Test : epoch: 1961: Average loss: 0.0581, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.05814672025442123
benign test acc (after fedavg) 98.27749999999999
Done in 2.2443411350250244 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.13878419622778893
l2 norm of benign user after server clipping 0.13878419622778893
___Test : epoch: 1962: Average loss: 0.0552, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.055236979216337204
benign test acc (after fedavg) 98.34
Done in 2.4250757694244385 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.1213732749223709
l2 norm of benign user after server clipping 0.1213732749223709
___Test : epoch: 1963: Average loss: 0.0724, Accuracy: 39121/40000.0 (97.8025%)
benign test loss (after fedavg) 0.07237082218825817
benign test acc (after fedavg) 97.80250000000001
Done in 2.326352596282959 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.1290807031095028
l2 norm of benign user after server clipping 0.1290807031095028
___Test : epoch: 1964: Average loss: 0.0663, Accuracy: 39194/40000.0 (97.9850%)
benign test loss (after fedavg) 0.06632232332080602
benign test acc (after fedavg) 97.985
Done in 2.379364013671875 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14329403307702807
l2 norm of benign user after server clipping 0.14329403307702807
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger2 loss tensor(3.0020, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9846, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9832, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9827, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9826, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.167471
Poison Train Epoch: 1 	Loss: 0.111276
Poison Train Epoch: 2 	Loss: 0.030990
Poison Train Epoch: 3 	Loss: 0.209871
Poison Train Epoch: 4 	Loss: 0.027776
Poison Train Epoch: 5 	Loss: 0.110468
Poison Train Epoch: 6 	Loss: 0.029199
Poison Train Epoch: 7 	Loss: 0.119843
Poison Train Epoch: 8 	Loss: 0.044173
Poison Train Epoch: 9 	Loss: 0.043995
Poison Train Epoch: 10 	Loss: 0.080670
Poison Train Epoch: 11 	Loss: 0.328541
Poison Train Epoch: 12 	Loss: 0.068872
Poison Train Epoch: 13 	Loss: 0.276537
Poison Train Epoch: 14 	Loss: 0.282101
Test set:local_Trigger2_localPoison Accuracy: 3911/4000 (98%)
___Test : epoch: 1965: Average loss: 0.0634, Accuracy: 39236/40000.0 (98.0900%)
benign test loss (after fedavg) 0.06335681108087302
benign test acc (after fedavg) 98.09
Done in 12.775243997573853 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.13588635995984077
l2 norm of benign user after server clipping 0.13588635995984077
___Test : epoch: 1966: Average loss: 0.0666, Accuracy: 39196/40000.0 (97.9900%)
benign test loss (after fedavg) 0.06658362623602151
benign test acc (after fedavg) 97.99
Done in 2.4313437938690186 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.11639281623065471
l2 norm of benign user after server clipping 0.11639281623065471
___Test : epoch: 1967: Average loss: 0.0616, Accuracy: 39238/40000.0 (98.0950%)
benign test loss (after fedavg) 0.0616204698190093
benign test acc (after fedavg) 98.095
Done in 2.288952589035034 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.11557939592748881
l2 norm of benign user after server clipping 0.11557939592748881
___Test : epoch: 1968: Average loss: 0.0581, Accuracy: 39288/40000.0 (98.2200%)
benign test loss (after fedavg) 0.058098786625266075
benign test acc (after fedavg) 98.22
Done in 2.355614185333252 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.11035452708601952
l2 norm of benign user after server clipping 0.11035452708601952
___Test : epoch: 1969: Average loss: 0.0618, Accuracy: 39237/40000.0 (98.0925%)
benign test loss (after fedavg) 0.06177321366071701
benign test acc (after fedavg) 98.0925
Done in 2.3653488159179688 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14484490702549616
l2 norm of benign user after server clipping 0.14484490702549616
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger3 loss tensor(4.2963, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(4.1912, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(3.8068, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(3.5620, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(3.3798, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.076509
Poison Train Epoch: 1 	Loss: 0.104572
Poison Train Epoch: 2 	Loss: 0.119833
Poison Train Epoch: 3 	Loss: 0.081388
Poison Train Epoch: 4 	Loss: 0.076211
Poison Train Epoch: 5 	Loss: 0.088348
Poison Train Epoch: 6 	Loss: 0.012227
Poison Train Epoch: 7 	Loss: 0.018685
Poison Train Epoch: 8 	Loss: 0.046600
Poison Train Epoch: 9 	Loss: 0.025850
Poison Train Epoch: 10 	Loss: 0.007308
Poison Train Epoch: 11 	Loss: 0.082667
Poison Train Epoch: 12 	Loss: 0.074133
Poison Train Epoch: 13 	Loss: 0.078155
Poison Train Epoch: 14 	Loss: 0.077099
Test set:local_Trigger3_localPoison Accuracy: 3995/4000 (100%)
___Test : epoch: 1970: Average loss: 0.0586, Accuracy: 39276/40000.0 (98.1900%)
benign test loss (after fedavg) 0.05857979580909014
benign test acc (after fedavg) 98.19
Done in 13.35072636604309 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.1088401086628437
l2 norm of benign user after server clipping 0.1088401086628437
___Test : epoch: 1971: Average loss: 0.0578, Accuracy: 39273/40000.0 (98.1825%)
benign test loss (after fedavg) 0.05776847213804722
benign test acc (after fedavg) 98.18249999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 78/4000 (2%)
Test set:Main Accuracy: 39273/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.42526888847351 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.1155416302382946
l2 norm of benign user after server clipping 0.1155416302382946
___Test : epoch: 1972: Average loss: 0.0565, Accuracy: 39309/40000.0 (98.2725%)
benign test loss (after fedavg) 0.056512436904013155
benign test acc (after fedavg) 98.2725
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39309/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.302459239959717 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.12098670601844788
l2 norm of benign user after server clipping 0.12098670601844788
___Test : epoch: 1973: Average loss: 0.0577, Accuracy: 39293/40000.0 (98.2325%)
benign test loss (after fedavg) 0.057653285662084816
benign test acc (after fedavg) 98.2325
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 133/4000 (3%)
Test set:Main Accuracy: 39293/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.43348217010498 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.1065200187265873
l2 norm of benign user after server clipping 0.1065200187265873
___Test : epoch: 1974: Average loss: 0.0585, Accuracy: 39269/40000.0 (98.1725%)
benign test loss (after fedavg) 0.05851989015489817
benign test acc (after fedavg) 98.1725
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 59/4000 (1%)
Test set:Main Accuracy: 39269/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.272915124893188 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.1036571462949117
l2 norm of benign user after server clipping 0.1036571462949117
Poison Train Epoch: 0 	Loss: 0.127101
Poison Train Epoch: 1 	Loss: 0.200137
Poison Train Epoch: 2 	Loss: 0.051810
Poison Train Epoch: 3 	Loss: 0.092240
Poison Train Epoch: 4 	Loss: 0.047790
Poison Train Epoch: 5 	Loss: 0.183825
Poison Train Epoch: 6 	Loss: 0.082200
Poison Train Epoch: 7 	Loss: 0.122388
Poison Train Epoch: 8 	Loss: 0.044291
Poison Train Epoch: 9 	Loss: 0.089437
Poison Train Epoch: 10 	Loss: 0.108868
Poison Train Epoch: 11 	Loss: 0.081419
Poison Train Epoch: 12 	Loss: 0.019702
Poison Train Epoch: 13 	Loss: 0.014874
Poison Train Epoch: 14 	Loss: 0.011574
Test set:local_Trigger0_localPoison Accuracy: 3995/4000 (100%)
___Test : epoch: 1975: Average loss: 0.0543, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05427911104559898
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 75/4000 (2%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.543750047683716 sec.
select client [469, 900, 957, 46, 717, 616, 357, 837, 662, 422]
l2 norm of benign user before server clipping 0.09524009414017201
l2 norm of benign user after server clipping 0.09524009414017201
___Test : epoch: 1976: Average loss: 0.0571, Accuracy: 39300/40000.0 (98.2500%)
benign test loss (after fedavg) 0.057145371678471564
benign test acc (after fedavg) 98.25
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 41/4000 (1%)
Test set:Main Accuracy: 39300/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.417016744613647 sec.
select client [713, 519, 68, 971, 277, 147, 891, 721, 547, 729]
l2 norm of benign user before server clipping 0.08242195025086403
l2 norm of benign user after server clipping 0.08242195025086403
___Test : epoch: 1977: Average loss: 0.0553, Accuracy: 39316/40000.0 (98.2900%)
benign test loss (after fedavg) 0.055321005418896674
benign test acc (after fedavg) 98.29
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 69/4000 (2%)
Test set:Main Accuracy: 39316/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.538593053817749 sec.
select client [897, 638, 411, 424, 310, 164, 246, 512, 509, 841]
l2 norm of benign user before server clipping 0.088456866517663
l2 norm of benign user after server clipping 0.088456866517663
___Test : epoch: 1978: Average loss: 0.0570, Accuracy: 39296/40000.0 (98.2400%)
benign test loss (after fedavg) 0.05699387562349439
benign test acc (after fedavg) 98.24000000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39296/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.388030290603638 sec.
select client [190, 767, 803, 862, 585, 646, 73, 684, 536, 936]
l2 norm of benign user before server clipping 0.10246485471725464
l2 norm of benign user after server clipping 0.10246485471725464
___Test : epoch: 1979: Average loss: 0.0558, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05577476060241461
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 38/4000 (1%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.451233625411987 sec.
select client [214, 489, 93, 716, 518, 651, 85, 202, 721]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07872709362871116
l2 norm of benign user after server clipping 0.07872709362871116
Poison Train Epoch: 0 	Loss: 0.352393
Poison Train Epoch: 1 	Loss: 0.437689
Poison Train Epoch: 2 	Loss: 0.095023
Poison Train Epoch: 3 	Loss: 0.142305
Poison Train Epoch: 4 	Loss: 0.033046
Poison Train Epoch: 5 	Loss: 0.018589
Poison Train Epoch: 6 	Loss: 0.134617
Poison Train Epoch: 7 	Loss: 0.193244
Poison Train Epoch: 8 	Loss: 0.014720
Poison Train Epoch: 9 	Loss: 0.049261
Poison Train Epoch: 10 	Loss: 0.030595
Poison Train Epoch: 11 	Loss: 0.115537
Poison Train Epoch: 12 	Loss: 0.055223
Poison Train Epoch: 13 	Loss: 0.087556
Poison Train Epoch: 14 	Loss: 0.020442
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1980: Average loss: 0.0559, Accuracy: 39295/40000.0 (98.2375%)
benign test loss (after fedavg) 0.05586527147740126
benign test acc (after fedavg) 98.2375
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 45/4000 (1%)
Test set:Main Accuracy: 39295/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.784622192382812 sec.
select client [717, 764, 980, 755, 884, 324, 494, 433, 627, 858]
l2 norm of benign user before server clipping 0.07514392212033272
l2 norm of benign user after server clipping 0.07514392212033272
___Test : epoch: 1981: Average loss: 0.0534, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.053408470959961415
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.251829385757446 sec.
select client [479, 77, 865, 317, 384, 892, 937, 583, 32, 427]
l2 norm of benign user before server clipping 0.06369026526808738
l2 norm of benign user after server clipping 0.06369026526808738
___Test : epoch: 1982: Average loss: 0.0594, Accuracy: 39235/40000.0 (98.0875%)
benign test loss (after fedavg) 0.059449739442765714
benign test acc (after fedavg) 98.0875
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 38/4000 (1%)
Test set:Main Accuracy: 39235/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.235462427139282 sec.
select client [332, 540, 256, 980, 246, 453, 63, 951, 512, 287]
l2 norm of benign user before server clipping 0.07686551809310913
l2 norm of benign user after server clipping 0.07686551809310913
___Test : epoch: 1983: Average loss: 0.0528, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05279661429673433
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 61/4000 (2%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.41322636604309 sec.
select client [129, 26, 676, 554, 456, 564, 107, 434, 334, 573]
l2 norm of benign user before server clipping 0.0688570998609066
l2 norm of benign user after server clipping 0.0688570998609066
___Test : epoch: 1984: Average loss: 0.0559, Accuracy: 39297/40000.0 (98.2425%)
benign test loss (after fedavg) 0.05593360616713762
benign test acc (after fedavg) 98.24249999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 33/4000 (1%)
Test set:Main Accuracy: 39297/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.388413429260254 sec.
select client [787, 97, 862, 997, 32, 356, 728, 803, 418]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07543553453352717
l2 norm of benign user after server clipping 0.07543553453352717
Poison Train Epoch: 0 	Loss: 0.034983
Poison Train Epoch: 1 	Loss: 0.028005
Poison Train Epoch: 2 	Loss: 0.302123
Poison Train Epoch: 3 	Loss: 0.063970
Poison Train Epoch: 4 	Loss: 0.047836
Poison Train Epoch: 5 	Loss: 0.022028
Poison Train Epoch: 6 	Loss: 0.038810
Poison Train Epoch: 7 	Loss: 0.046671
Poison Train Epoch: 8 	Loss: 0.072468
Poison Train Epoch: 9 	Loss: 0.043463
Poison Train Epoch: 10 	Loss: 0.012945
Poison Train Epoch: 11 	Loss: 0.005064
Poison Train Epoch: 12 	Loss: 0.109683
Poison Train Epoch: 13 	Loss: 0.060143
Poison Train Epoch: 14 	Loss: 0.108265
Test set:local_Trigger2_localPoison Accuracy: 3905/4000 (98%)
___Test : epoch: 1985: Average loss: 0.0606, Accuracy: 39268/40000.0 (98.1700%)
benign test loss (after fedavg) 0.06062966857850552
benign test acc (after fedavg) 98.17
Test set:local_Trigger0Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 35/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 248/4000 (6%)
Test set:Main Accuracy: 39268/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.780706882476807 sec.
select client [510, 975, 711, 824, 37, 422, 550, 694, 504, 89]
l2 norm of benign user before server clipping 0.0617586649954319
l2 norm of benign user after server clipping 0.0617586649954319
___Test : epoch: 1986: Average loss: 0.0529, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05291628547608852
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 99/4000 (2%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.295655488967896 sec.
select client [736, 742, 677, 959, 656, 546, 136, 882, 815, 850]
l2 norm of benign user before server clipping 0.05532524138689041
l2 norm of benign user after server clipping 0.05532524138689041
___Test : epoch: 1987: Average loss: 0.0578, Accuracy: 39286/40000.0 (98.2150%)
benign test loss (after fedavg) 0.05783296737670898
benign test acc (after fedavg) 98.215
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 49/4000 (1%)
Test set:Main Accuracy: 39286/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.288159608840942 sec.
select client [24, 214, 494, 972, 976, 153, 869, 844, 433, 885]
l2 norm of benign user before server clipping 0.057472828589379785
l2 norm of benign user after server clipping 0.057472828589379785
___Test : epoch: 1988: Average loss: 0.0556, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.055585867522656915
benign test acc (after fedavg) 98.27749999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 72/4000 (2%)
Test set:Main Accuracy: 39311/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.321571111679077 sec.
select client [309, 712, 962, 254, 304, 34, 801, 632, 716, 520]
l2 norm of benign user before server clipping 0.049971267208456994
l2 norm of benign user after server clipping 0.049971267208456994
___Test : epoch: 1989: Average loss: 0.0536, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.05364838542938232
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 88/4000 (2%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.360276460647583 sec.
select client [222, 938, 819, 634, 20, 500, 46, 922, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.04627493292921119
l2 norm of benign user after server clipping 0.04627493292921119
Poison Train Epoch: 0 	Loss: 0.058518
Poison Train Epoch: 1 	Loss: 0.074142
Poison Train Epoch: 2 	Loss: 0.100502
Poison Train Epoch: 3 	Loss: 0.028031
Poison Train Epoch: 4 	Loss: 0.011097
Poison Train Epoch: 5 	Loss: 0.052796
Poison Train Epoch: 6 	Loss: 0.018164
Poison Train Epoch: 7 	Loss: 0.175407
Poison Train Epoch: 8 	Loss: 0.168786
Poison Train Epoch: 9 	Loss: 0.025320
Poison Train Epoch: 10 	Loss: 0.012470
Poison Train Epoch: 11 	Loss: 0.069457
Poison Train Epoch: 12 	Loss: 0.043440
Poison Train Epoch: 13 	Loss: 0.012402
Poison Train Epoch: 14 	Loss: 0.097011
Test set:local_Trigger3_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 1990: Average loss: 0.0528, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05284274896979332
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 285/4000 (7%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.671127796173096 sec.
select client [416, 463, 310, 709, 174, 644, 757, 91, 287, 746]
l2 norm of benign user before server clipping 0.045111270435154435
l2 norm of benign user after server clipping 0.045111270435154435
___Test : epoch: 1991: Average loss: 0.0527, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.052715833246707915
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 204/4000 (5%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.50980281829834 sec.
select client [875, 611, 364, 144, 239, 924, 762, 180, 870, 914]
l2 norm of benign user before server clipping 0.041683992557227614
l2 norm of benign user after server clipping 0.041683992557227614
___Test : epoch: 1992: Average loss: 0.0543, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05433545826897025
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 276/4000 (7%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.281210660934448 sec.
select client [11, 846, 436, 197, 212, 879, 718, 626, 342, 86]
l2 norm of benign user before server clipping 0.0355560515075922
l2 norm of benign user after server clipping 0.0355560515075922
___Test : epoch: 1993: Average loss: 0.0532, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.053227741355448964
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 275/4000 (7%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.312751054763794 sec.
select client [451, 188, 562, 289, 757, 472, 471, 84, 446, 854]
l2 norm of benign user before server clipping 0.042003214731812476
l2 norm of benign user after server clipping 0.042003214731812476
___Test : epoch: 1994: Average loss: 0.0546, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.054614413794875145
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 120/4000 (3%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.5553560256958 sec.
select client [184, 513, 802, 343, 101, 599, 188, 821, 58]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.031083646540840466
l2 norm of benign user after server clipping 0.031083646540840466
Poison Train Epoch: 0 	Loss: 0.017269
Poison Train Epoch: 1 	Loss: 0.024159
Poison Train Epoch: 2 	Loss: 0.071431
Poison Train Epoch: 3 	Loss: 0.045952
Poison Train Epoch: 4 	Loss: 0.066370
Poison Train Epoch: 5 	Loss: 0.077004
Poison Train Epoch: 6 	Loss: 0.082653
Poison Train Epoch: 7 	Loss: 0.036623
Poison Train Epoch: 8 	Loss: 0.031214
Poison Train Epoch: 9 	Loss: 0.040775
Poison Train Epoch: 10 	Loss: 0.043474
Poison Train Epoch: 11 	Loss: 0.020263
Poison Train Epoch: 12 	Loss: 0.009071
Poison Train Epoch: 13 	Loss: 0.102849
Poison Train Epoch: 14 	Loss: 0.036138
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1995: Average loss: 0.0556, Accuracy: 39303/40000.0 (98.2575%)
benign test loss (after fedavg) 0.05559767359048128
benign test acc (after fedavg) 98.2575
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 142/4000 (4%)
Test set:Main Accuracy: 39303/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.707678079605103 sec.
select client [145, 292, 383, 212, 548, 367, 131, 101, 541, 652]
l2 norm of benign user before server clipping 0.03609160240739584
l2 norm of benign user after server clipping 0.03609160240739584
___Test : epoch: 1996: Average loss: 0.0542, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.05415108627229929
benign test acc (after fedavg) 98.3175
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 167/4000 (4%)
Test set:Main Accuracy: 39327/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.491622686386108 sec.
select client [278, 693, 855, 981, 25, 996, 561, 119, 962, 223]
l2 norm of benign user before server clipping 0.020979707036167382
l2 norm of benign user after server clipping 0.020979707036167382
___Test : epoch: 1997: Average loss: 0.0539, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05393052008897066
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 147/4000 (4%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.430148601531982 sec.
select client [29, 99, 74, 387, 849, 703, 168, 802, 228, 679]
l2 norm of benign user before server clipping 0.012395945563912391
l2 norm of benign user after server clipping 0.012395945563912391
___Test : epoch: 1998: Average loss: 0.0531, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.053087428484857084
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 157/4000 (4%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.293277263641357 sec.
select client [103, 570, 967, 408, 907, 726, 960, 759, 836, 70]
l2 norm of benign user before server clipping 0.006784579926170408
l2 norm of benign user after server clipping 0.006784579926170408
___Test : epoch: 1999: Average loss: 0.0525, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05246238538920879
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 162/4000 (4%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.370961666107178 sec.
select client [321, 827, 91, 516, 262, 283, 132, 557, 862]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007679967157956626
l2 norm of benign user after server clipping 0.007679967157956626
Poison Train Epoch: 0 	Loss: 0.094157
Poison Train Epoch: 1 	Loss: 0.236398
Poison Train Epoch: 2 	Loss: 0.034614
Poison Train Epoch: 3 	Loss: 0.007315
Poison Train Epoch: 4 	Loss: 0.012966
Poison Train Epoch: 5 	Loss: 0.041590
Poison Train Epoch: 6 	Loss: 0.029631
Poison Train Epoch: 7 	Loss: 0.016368
Poison Train Epoch: 8 	Loss: 0.033789
Poison Train Epoch: 9 	Loss: 0.060026
Poison Train Epoch: 10 	Loss: 0.024422
Poison Train Epoch: 11 	Loss: 0.032259
Poison Train Epoch: 12 	Loss: 0.060997
Poison Train Epoch: 13 	Loss: 0.051678
Poison Train Epoch: 14 	Loss: 0.051475
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2000: Average loss: 0.0528, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05281385826915502
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 203/4000 (5%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 18.897242784500122 sec.
select client [243, 897, 881, 585, 937, 800, 823, 218, 321, 219]
l2 norm of benign user before server clipping 0.005717037152498961
l2 norm of benign user after server clipping 0.005717037152498961
___Test : epoch: 2001: Average loss: 0.0528, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05281319303512573
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 207/4000 (5%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 11.523720979690552 sec.
select client [936, 503, 895, 738, 995, 37, 934, 20, 699, 578]
l2 norm of benign user before server clipping 0.007730313390493393
l2 norm of benign user after server clipping 0.007730313390493393
___Test : epoch: 2002: Average loss: 0.0526, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05261958205550909
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 196/4000 (5%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 11.465020656585693 sec.
select client [490, 823, 286, 837, 43, 89, 875, 285, 755, 315]
l2 norm of benign user before server clipping 0.005282744159922003
l2 norm of benign user after server clipping 0.005282744159922003
___Test : epoch: 2003: Average loss: 0.0524, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.052391461013257506
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 205/4000 (5%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1/4000 (0%)
Done in 11.233398199081421 sec.
select client [512, 353, 104, 779, 231, 449, 352, 581, 76, 62]
l2 norm of benign user before server clipping 0.0054765630280599
l2 norm of benign user after server clipping 0.0054765630280599
___Test : epoch: 2004: Average loss: 0.0530, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05303989950269461
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 191/4000 (5%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.375268697738647 sec.
select client [22, 250, 584, 199, 108, 74, 719, 353, 275]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004200883080354995
l2 norm of benign user after server clipping 0.004200883080354995
Poison Train Epoch: 0 	Loss: 0.039033
Poison Train Epoch: 1 	Loss: 0.093447
Poison Train Epoch: 2 	Loss: 0.099955
Poison Train Epoch: 3 	Loss: 0.021253
Poison Train Epoch: 4 	Loss: 0.135915
Poison Train Epoch: 5 	Loss: 0.130288
Poison Train Epoch: 6 	Loss: 0.018448
Poison Train Epoch: 7 	Loss: 0.053839
Poison Train Epoch: 8 	Loss: 0.062498
Poison Train Epoch: 9 	Loss: 0.091718
Poison Train Epoch: 10 	Loss: 0.046123
Poison Train Epoch: 11 	Loss: 0.005797
Poison Train Epoch: 12 	Loss: 0.589576
Poison Train Epoch: 13 	Loss: 0.035476
Poison Train Epoch: 14 	Loss: 0.117459
Test set:local_Trigger2_localPoison Accuracy: 3901/4000 (98%)
___Test : epoch: 2005: Average loss: 0.0543, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.054336997388303276
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 43/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 449/4000 (11%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 7/4000 (0%)
Done in 18.603529691696167 sec.
select client [152, 603, 293, 997, 105, 958, 871, 628, 330, 193]
l2 norm of benign user before server clipping 0.006257414212450385
l2 norm of benign user after server clipping 0.006257414212450385
___Test : epoch: 2006: Average loss: 0.0538, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05383304444551468
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 42/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 446/4000 (11%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 9/4000 (0%)
Done in 11.334673166275024 sec.
select client [65, 501, 709, 748, 625, 132, 504, 600, 952, 942]
l2 norm of benign user before server clipping 0.0051045006606727835
l2 norm of benign user after server clipping 0.0051045006606727835
___Test : epoch: 2007: Average loss: 0.0534, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.05335307105928659
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 419/4000 (10%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 9/4000 (0%)
Done in 11.274796962738037 sec.
select client [505, 205, 23, 901, 317, 728, 751, 602, 48, 576]
l2 norm of benign user before server clipping 0.0051297199912369255
l2 norm of benign user after server clipping 0.0051297199912369255
___Test : epoch: 2008: Average loss: 0.0533, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.05334265868067741
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 30/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 381/4000 (10%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 6/4000 (0%)
Done in 11.295318126678467 sec.
select client [108, 440, 184, 396, 66, 350, 579, 668, 753, 950]
l2 norm of benign user before server clipping 0.005233675334602594
l2 norm of benign user after server clipping 0.005233675334602594
___Test : epoch: 2009: Average loss: 0.0527, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05274040351808071
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 363/4000 (9%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 6/4000 (0%)
Done in 11.412388801574707 sec.
select client [299, 587, 187, 936, 86, 761, 264, 21, 653]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005697724564621846
l2 norm of benign user after server clipping 0.005697724564621846
Poison Train Epoch: 0 	Loss: 0.311139
Poison Train Epoch: 1 	Loss: 0.077890
Poison Train Epoch: 2 	Loss: 0.012396
Poison Train Epoch: 3 	Loss: 0.053618
Poison Train Epoch: 4 	Loss: 0.024304
Poison Train Epoch: 5 	Loss: 0.041320
Poison Train Epoch: 6 	Loss: 0.060341
Poison Train Epoch: 7 	Loss: 0.030456
Poison Train Epoch: 8 	Loss: 0.147723
Poison Train Epoch: 9 	Loss: 0.004243
Poison Train Epoch: 10 	Loss: 0.085516
Poison Train Epoch: 11 	Loss: 0.048388
Poison Train Epoch: 12 	Loss: 0.014831
Poison Train Epoch: 13 	Loss: 0.105976
Poison Train Epoch: 14 	Loss: 0.063036
Test set:local_Trigger3_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2010: Average loss: 0.0533, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05329030666202307
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 31/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 878/4000 (22%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 34/4000 (1%)
Done in 18.62900137901306 sec.
select client [365, 576, 490, 796, 790, 899, 954, 318, 376, 127]
l2 norm of benign user before server clipping 0.0034152536187320947
l2 norm of benign user after server clipping 0.0034152536187320947
___Test : epoch: 2011: Average loss: 0.0529, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05291255179643631
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 857/4000 (21%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 31/4000 (1%)
Done in 11.15870189666748 sec.
select client [972, 686, 227, 582, 53, 965, 992, 465, 431, 415]
l2 norm of benign user before server clipping 0.0034818606683984397
l2 norm of benign user after server clipping 0.0034818606683984397
___Test : epoch: 2012: Average loss: 0.0528, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.052820789927244184
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 22/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 824/4000 (21%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 26/4000 (1%)
Done in 11.224985599517822 sec.
select client [594, 192, 444, 579, 249, 52, 701, 940, 160, 519]
l2 norm of benign user before server clipping 0.006375572318211198
l2 norm of benign user after server clipping 0.006375572318211198
___Test : epoch: 2013: Average loss: 0.0527, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.052693613812327386
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 797/4000 (20%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 20/4000 (0%)
Done in 11.466075420379639 sec.
select client [801, 640, 526, 699, 254, 111, 591, 855, 979, 126]
l2 norm of benign user before server clipping 0.006510489550419152
l2 norm of benign user after server clipping 0.006510489550419152
___Test : epoch: 2014: Average loss: 0.0528, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.052751810717582705
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 763/4000 (19%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 23/4000 (1%)
Done in 11.360188722610474 sec.
select client [21, 212, 604, 700, 449, 692, 492, 148, 261]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0062832751621802645
l2 norm of benign user after server clipping 0.0062832751621802645
Poison Train Epoch: 0 	Loss: 0.024383
Poison Train Epoch: 1 	Loss: 0.110081
Poison Train Epoch: 2 	Loss: 0.040912
Poison Train Epoch: 3 	Loss: 0.055319
Poison Train Epoch: 4 	Loss: 0.043043
Poison Train Epoch: 5 	Loss: 0.037945
Poison Train Epoch: 6 	Loss: 0.013170
Poison Train Epoch: 7 	Loss: 0.010387
Poison Train Epoch: 8 	Loss: 0.018618
Poison Train Epoch: 9 	Loss: 0.118053
Poison Train Epoch: 10 	Loss: 0.009258
Poison Train Epoch: 11 	Loss: 0.012119
Poison Train Epoch: 12 	Loss: 0.137365
Poison Train Epoch: 13 	Loss: 0.043931
Poison Train Epoch: 14 	Loss: 0.031879
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2015: Average loss: 0.0531, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05312840475738049
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 170/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 861/4000 (22%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 49/4000 (1%)
Done in 18.74845552444458 sec.
select client [236, 386, 454, 124, 489, 35, 578, 268, 875, 606]
l2 norm of benign user before server clipping 0.008623602567240596
l2 norm of benign user after server clipping 0.008623602567240596
___Test : epoch: 2016: Average loss: 0.0530, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05299285706430674
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 153/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 818/4000 (20%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 48/4000 (1%)
Done in 11.51225233078003 sec.
select client [328, 258, 795, 174, 238, 204, 44, 20, 473, 443]
l2 norm of benign user before server clipping 0.0043851052643731235
l2 norm of benign user after server clipping 0.0043851052643731235
___Test : epoch: 2017: Average loss: 0.0529, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.052853302130103114
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 162/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 819/4000 (20%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 48/4000 (1%)
Done in 11.30800461769104 sec.
select client [349, 769, 62, 214, 134, 489, 513, 142, 316, 240]
l2 norm of benign user before server clipping 0.007379056164063513
l2 norm of benign user after server clipping 0.007379056164063513
___Test : epoch: 2018: Average loss: 0.0529, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05287424738258124
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 151/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 813/4000 (20%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 48/4000 (1%)
Done in 11.330153226852417 sec.
select client [354, 253, 871, 732, 718, 541, 948, 311, 375, 63]
l2 norm of benign user before server clipping 0.00445960673969239
l2 norm of benign user after server clipping 0.00445960673969239
___Test : epoch: 2019: Average loss: 0.0528, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.052771019598841666
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 135/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 777/4000 (19%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 48/4000 (1%)
Done in 11.22426986694336 sec.
select client [25, 194, 94, 874, 325, 349, 612, 837, 981]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004609218125955926
l2 norm of benign user after server clipping 0.004609218125955926
Poison Train Epoch: 0 	Loss: 0.134305
Poison Train Epoch: 1 	Loss: 0.097738
Poison Train Epoch: 2 	Loss: 0.073127
Poison Train Epoch: 3 	Loss: 0.036565
Poison Train Epoch: 4 	Loss: 0.018189
Poison Train Epoch: 5 	Loss: 0.024351
Poison Train Epoch: 6 	Loss: 0.017646
Poison Train Epoch: 7 	Loss: 0.090998
Poison Train Epoch: 8 	Loss: 0.067994
Poison Train Epoch: 9 	Loss: 0.067800
Poison Train Epoch: 10 	Loss: 0.005131
Poison Train Epoch: 11 	Loss: 0.033461
Poison Train Epoch: 12 	Loss: 0.029182
Poison Train Epoch: 13 	Loss: 0.044236
Poison Train Epoch: 14 	Loss: 0.020226
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2020: Average loss: 0.0531, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05310388406813145
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 141/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 303/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 836/4000 (21%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 373/4000 (9%)
Done in 18.620721340179443 sec.
select client [779, 12, 323, 846, 425, 926, 35, 626, 391, 181]
l2 norm of benign user before server clipping 0.014400021615438163
l2 norm of benign user after server clipping 0.014400021615438163
___Test : epoch: 2021: Average loss: 0.0561, Accuracy: 39299/40000.0 (98.2475%)
benign test loss (after fedavg) 0.05606040954440832
benign test acc (after fedavg) 98.2475
Test set:local_Trigger0Poison Accuracy: 144/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 249/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 751/4000 (19%)
Test set:Main Accuracy: 39299/40000 (98%)
Test set:Global Trigger Poison Accuracy: 341/4000 (9%)
Done in 11.503067255020142 sec.
select client [311, 422, 452, 485, 460, 777, 509, 439, 568, 125]
l2 norm of benign user before server clipping 0.0064432910876348615
l2 norm of benign user after server clipping 0.0064432910876348615
___Test : epoch: 2022: Average loss: 0.0549, Accuracy: 39319/40000.0 (98.2975%)
benign test loss (after fedavg) 0.05490271483361721
benign test acc (after fedavg) 98.2975
Test set:local_Trigger0Poison Accuracy: 143/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 249/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 773/4000 (19%)
Test set:Main Accuracy: 39319/40000 (98%)
Test set:Global Trigger Poison Accuracy: 373/4000 (9%)
Done in 11.487041473388672 sec.
select client [780, 104, 565, 362, 237, 875, 295, 343, 71, 450]
l2 norm of benign user before server clipping 0.005699431872926652
l2 norm of benign user after server clipping 0.005699431872926652
___Test : epoch: 2023: Average loss: 0.0538, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.053788943043351176
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 137/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 239/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 763/4000 (19%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 348/4000 (9%)
Done in 11.276885509490967 sec.
select client [466, 354, 323, 571, 986, 686, 421, 676, 684, 851]
l2 norm of benign user before server clipping 0.005151751008816064
l2 norm of benign user after server clipping 0.005151751008816064
___Test : epoch: 2024: Average loss: 0.0536, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.053649132254719734
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 137/4000 (3%)
Test set:local_Trigger1Poison Accuracy: 235/4000 (6%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 760/4000 (19%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 350/4000 (9%)
Done in 11.39060091972351 sec.
select client [880, 279, 283, 843, 468, 866, 53, 797, 435]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007681683223280642
l2 norm of benign user after server clipping 0.007681683223280642
Poison Train Epoch: 0 	Loss: 0.130848
Poison Train Epoch: 1 	Loss: 0.768100
Poison Train Epoch: 2 	Loss: 0.175464
Poison Train Epoch: 3 	Loss: 0.115754
Poison Train Epoch: 4 	Loss: 0.017949
Poison Train Epoch: 5 	Loss: 0.119771
Poison Train Epoch: 6 	Loss: 0.015797
Poison Train Epoch: 7 	Loss: 0.187737
Poison Train Epoch: 8 	Loss: 0.036644
Poison Train Epoch: 9 	Loss: 0.178269
Poison Train Epoch: 10 	Loss: 0.033326
Poison Train Epoch: 11 	Loss: 0.030154
Poison Train Epoch: 12 	Loss: 0.039017
Poison Train Epoch: 13 	Loss: 0.175108
Poison Train Epoch: 14 	Loss: 0.027609
Test set:local_Trigger2_localPoison Accuracy: 3911/4000 (98%)
___Test : epoch: 2025: Average loss: 0.0560, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.055993988153338434
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 289/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 530/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1160/4000 (29%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 507/4000 (13%)
Done in 18.847512006759644 sec.
select client [860, 59, 781, 560, 691, 514, 980, 330, 106, 214]
l2 norm of benign user before server clipping 0.005284361587837338
l2 norm of benign user after server clipping 0.005284361587837338
___Test : epoch: 2026: Average loss: 0.0552, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.05522463538199663
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 264/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 514/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1130/4000 (28%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 522/4000 (13%)
Done in 11.280794858932495 sec.
select client [970, 603, 765, 516, 701, 936, 375, 189, 828, 532]
l2 norm of benign user before server clipping 0.00517853086348623
l2 norm of benign user after server clipping 0.00517853086348623
___Test : epoch: 2027: Average loss: 0.0551, Accuracy: 39327/40000.0 (98.3175%)
benign test loss (after fedavg) 0.05512999493703246
benign test acc (after fedavg) 98.3175
Test set:local_Trigger0Poison Accuracy: 252/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 492/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1096/4000 (27%)
Test set:Main Accuracy: 39327/40000 (98%)
Test set:Global Trigger Poison Accuracy: 518/4000 (13%)
Done in 11.402364015579224 sec.
select client [749, 99, 64, 284, 71, 262, 238, 592, 109, 365]
l2 norm of benign user before server clipping 0.006572919408790767
l2 norm of benign user after server clipping 0.006572919408790767
___Test : epoch: 2028: Average loss: 0.0547, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.05470442542731762
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 223/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 429/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1006/4000 (25%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 462/4000 (12%)
Done in 11.38484001159668 sec.
select client [558, 46, 811, 470, 362, 382, 456, 993, 125, 697]
l2 norm of benign user before server clipping 0.004789640614762902
l2 norm of benign user after server clipping 0.004789640614762902
___Test : epoch: 2029: Average loss: 0.0546, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05458717424869537
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 227/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 429/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1017/4000 (25%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 477/4000 (12%)
Done in 11.350804090499878 sec.
select client [63, 874, 672, 738, 322, 554, 185, 646, 82]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005093545885756612
l2 norm of benign user after server clipping 0.005093545885756612
Poison Train Epoch: 0 	Loss: 0.108514
Poison Train Epoch: 1 	Loss: 0.012085
Poison Train Epoch: 2 	Loss: 0.025460
Poison Train Epoch: 3 	Loss: 0.140108
Poison Train Epoch: 4 	Loss: 0.073232
Poison Train Epoch: 5 	Loss: 0.032941
Poison Train Epoch: 6 	Loss: 0.034412
Poison Train Epoch: 7 	Loss: 0.009169
Poison Train Epoch: 8 	Loss: 0.052462
Poison Train Epoch: 9 	Loss: 0.056902
Poison Train Epoch: 10 	Loss: 0.108766
Poison Train Epoch: 11 	Loss: 0.040636
Poison Train Epoch: 12 	Loss: 0.047049
Poison Train Epoch: 13 	Loss: 0.014622
Poison Train Epoch: 14 	Loss: 0.042940
Test set:local_Trigger3_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2030: Average loss: 0.0550, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.055012421379983426
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 251/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 507/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1760/4000 (44%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 879/4000 (22%)
Done in 18.708102464675903 sec.
select client [56, 106, 764, 380, 18, 178, 915, 48, 386, 564]
l2 norm of benign user before server clipping 0.005925528856460005
l2 norm of benign user after server clipping 0.005925528856460005
___Test : epoch: 2031: Average loss: 0.0547, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.054674801706522703
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 225/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 478/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1701/4000 (43%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 854/4000 (21%)
Done in 11.271085739135742 sec.
select client [398, 824, 52, 571, 847, 454, 500, 964, 963, 692]
l2 norm of benign user before server clipping 0.006935959623660892
l2 norm of benign user after server clipping 0.006935959623660892
___Test : epoch: 2032: Average loss: 0.0539, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05394622019529342
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 195/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 447/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1645/4000 (41%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 791/4000 (20%)
Done in 11.361872673034668 sec.
select client [70, 404, 181, 697, 552, 561, 627, 483, 895, 355]
l2 norm of benign user before server clipping 0.005689067649655044
l2 norm of benign user after server clipping 0.005689067649655044
___Test : epoch: 2033: Average loss: 0.0537, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05368154727071524
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 173/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 426/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1611/4000 (40%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 784/4000 (20%)
Done in 11.442411422729492 sec.
select client [435, 774, 173, 747, 113, 985, 109, 783, 655, 580]
l2 norm of benign user before server clipping 0.004457107465714216
l2 norm of benign user after server clipping 0.004457107465714216
___Test : epoch: 2034: Average loss: 0.0536, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.053586382134258745
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 172/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 420/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1603/4000 (40%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 813/4000 (20%)
Done in 11.211530685424805 sec.
select client [731, 813, 242, 987, 791, 998, 777, 628, 485]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005188319431100454
l2 norm of benign user after server clipping 0.005188319431100454
Poison Train Epoch: 0 	Loss: 0.112823
Poison Train Epoch: 1 	Loss: 0.014479
Poison Train Epoch: 2 	Loss: 0.078382
Poison Train Epoch: 3 	Loss: 0.044373
Poison Train Epoch: 4 	Loss: 0.005238
Poison Train Epoch: 5 	Loss: 0.031125
Poison Train Epoch: 6 	Loss: 0.085660
Poison Train Epoch: 7 	Loss: 0.100139
Poison Train Epoch: 8 	Loss: 0.033077
Poison Train Epoch: 9 	Loss: 0.087907
Poison Train Epoch: 10 	Loss: 0.027891
Poison Train Epoch: 11 	Loss: 0.115384
Poison Train Epoch: 12 	Loss: 0.131659
Poison Train Epoch: 13 	Loss: 0.003659
Poison Train Epoch: 14 	Loss: 0.049152
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2035: Average loss: 0.0547, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05470223452225328
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 509/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 459/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1666/4000 (42%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1059/4000 (26%)
Done in 18.72148084640503 sec.
select client [587, 253, 396, 912, 53, 420, 889, 850, 905, 145]
l2 norm of benign user before server clipping 0.0058229571441188455
l2 norm of benign user after server clipping 0.0058229571441188455
___Test : epoch: 2036: Average loss: 0.0540, Accuracy: 39341/40000.0 (98.3525%)
benign test loss (after fedavg) 0.05403880552724004
benign test acc (after fedavg) 98.35249999999999
Test set:local_Trigger0Poison Accuracy: 482/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 401/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1584/4000 (40%)
Test set:Main Accuracy: 39341/40000 (98%)
Test set:Global Trigger Poison Accuracy: 919/4000 (23%)
Done in 11.295271158218384 sec.
select client [541, 599, 789, 573, 179, 549, 516, 416, 844, 937]
l2 norm of benign user before server clipping 0.0057591279735788705
l2 norm of benign user after server clipping 0.0057591279735788705
___Test : epoch: 2037: Average loss: 0.0538, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05380984281599522
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 467/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 381/4000 (10%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1557/4000 (39%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 913/4000 (23%)
Done in 11.359411716461182 sec.
select client [155, 307, 115, 736, 933, 166, 228, 487, 848, 353]
l2 norm of benign user before server clipping 0.007262042351067066
l2 norm of benign user after server clipping 0.007262042351067066
___Test : epoch: 2038: Average loss: 0.0531, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05308269953429699
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 461/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 330/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1486/4000 (37%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 799/4000 (20%)
Done in 11.317512512207031 sec.
select client [296, 520, 763, 482, 36, 576, 590, 370, 483, 593]
l2 norm of benign user before server clipping 0.00540317363338545
l2 norm of benign user after server clipping 0.00540317363338545
___Test : epoch: 2039: Average loss: 0.0529, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05293710487186909
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 443/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 312/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1457/4000 (36%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 797/4000 (20%)
Done in 11.343193531036377 sec.
select client [21, 148, 412, 638, 341, 58, 987, 789, 170]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005997610925179388
l2 norm of benign user after server clipping 0.005997610925179388
Poison Train Epoch: 0 	Loss: 0.255466
Poison Train Epoch: 1 	Loss: 0.139982
Poison Train Epoch: 2 	Loss: 0.106838
Poison Train Epoch: 3 	Loss: 0.014628
Poison Train Epoch: 4 	Loss: 0.089702
Poison Train Epoch: 5 	Loss: 0.028316
Poison Train Epoch: 6 	Loss: 0.019964
Poison Train Epoch: 7 	Loss: 0.023835
Poison Train Epoch: 8 	Loss: 0.005923
Poison Train Epoch: 9 	Loss: 0.077639
Poison Train Epoch: 10 	Loss: 0.094634
Poison Train Epoch: 11 	Loss: 0.086974
Poison Train Epoch: 12 	Loss: 0.038206
Poison Train Epoch: 13 	Loss: 0.012634
Poison Train Epoch: 14 	Loss: 0.040678
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2040: Average loss: 0.0537, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.05370343492180109
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 431/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1198/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1510/4000 (38%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1923/4000 (48%)
Done in 18.849894523620605 sec.
select client [50, 430, 558, 872, 487, 997, 213, 399, 936, 524]
l2 norm of benign user before server clipping 0.005197656364180148
l2 norm of benign user after server clipping 0.005197656364180148
___Test : epoch: 2041: Average loss: 0.0533, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.053338997289538385
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 427/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1172/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1490/4000 (37%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1919/4000 (48%)
Done in 11.363652229309082 sec.
select client [466, 383, 227, 208, 556, 117, 560, 597, 698, 679]
l2 norm of benign user before server clipping 0.006106710364110768
l2 norm of benign user after server clipping 0.006106710364110768
___Test : epoch: 2042: Average loss: 0.0531, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.053074536565691235
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 423/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1135/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1464/4000 (37%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1865/4000 (47%)
Done in 11.432357788085938 sec.
select client [523, 965, 503, 609, 338, 307, 558, 849, 856, 254]
l2 norm of benign user before server clipping 0.0048961535678245125
l2 norm of benign user after server clipping 0.0048961535678245125
___Test : epoch: 2043: Average loss: 0.0529, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05292855063825846
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 414/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1132/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1455/4000 (36%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1885/4000 (47%)
Done in 11.205236196517944 sec.
select client [570, 914, 819, 517, 706, 257, 29, 66, 705, 416]
l2 norm of benign user before server clipping 0.006029464607127011
l2 norm of benign user after server clipping 0.006029464607127011
___Test : epoch: 2044: Average loss: 0.0526, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05259415807873011
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 395/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1099/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1419/4000 (35%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1844/4000 (46%)
Done in 11.447442770004272 sec.
select client [325, 978, 406, 924, 134, 507, 847, 394, 782]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004152950507381724
l2 norm of benign user after server clipping 0.004152950507381724
Poison Train Epoch: 0 	Loss: 0.037593
Poison Train Epoch: 1 	Loss: 0.164592
Poison Train Epoch: 2 	Loss: 0.216861
Poison Train Epoch: 3 	Loss: 0.017616
Poison Train Epoch: 4 	Loss: 0.005700
Poison Train Epoch: 5 	Loss: 0.057688
Poison Train Epoch: 6 	Loss: 0.100050
Poison Train Epoch: 7 	Loss: 0.027413
Poison Train Epoch: 8 	Loss: 0.129456
Poison Train Epoch: 9 	Loss: 0.137195
Poison Train Epoch: 10 	Loss: 0.046229
Poison Train Epoch: 11 	Loss: 0.238790
Poison Train Epoch: 12 	Loss: 0.024814
Poison Train Epoch: 13 	Loss: 0.162625
Poison Train Epoch: 14 	Loss: 0.036037
Test set:local_Trigger2_localPoison Accuracy: 3910/4000 (98%)
___Test : epoch: 2045: Average loss: 0.0571, Accuracy: 39310/40000.0 (98.2750%)
benign test loss (after fedavg) 0.057143437084555625
benign test acc (after fedavg) 98.275
Test set:local_Trigger0Poison Accuracy: 679/4000 (17%)
Test set:local_Trigger1Poison Accuracy: 1592/4000 (40%)
Test set:local_Trigger2Poison Accuracy: 31/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1961/4000 (49%)
Test set:Main Accuracy: 39310/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2259/4000 (56%)
Done in 18.822936058044434 sec.
select client [224, 928, 881, 86, 13, 665, 201, 408, 575, 592]
l2 norm of benign user before server clipping 0.007128905225545168
l2 norm of benign user after server clipping 0.007128905225545168
___Test : epoch: 2046: Average loss: 0.0558, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.055816994333267214
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 613/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 1528/4000 (38%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1886/4000 (47%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2249/4000 (56%)
Done in 11.44471526145935 sec.
select client [711, 910, 902, 449, 926, 735, 123, 124, 848, 185]
l2 norm of benign user before server clipping 0.006151397805660963
l2 norm of benign user after server clipping 0.006151397805660963
___Test : epoch: 2047: Average loss: 0.0551, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05514613386392593
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 580/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 1498/4000 (37%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1832/4000 (46%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2226/4000 (56%)
Done in 11.37792682647705 sec.
select client [265, 109, 332, 14, 493, 171, 441, 683, 345, 468]
l2 norm of benign user before server clipping 0.00703121330589056
l2 norm of benign user after server clipping 0.00703121330589056
___Test : epoch: 2048: Average loss: 0.0553, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.055322821675240996
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 555/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 1446/4000 (36%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1766/4000 (44%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2172/4000 (54%)
Done in 11.35915732383728 sec.
select client [16, 101, 331, 50, 666, 242, 937, 968, 226, 832]
l2 norm of benign user before server clipping 0.005204401328228414
l2 norm of benign user after server clipping 0.005204401328228414
___Test : epoch: 2049: Average loss: 0.0548, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.05483011607155204
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 535/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 1410/4000 (35%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1706/4000 (43%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2133/4000 (53%)
Done in 11.295032739639282 sec.
select client [541, 820, 644, 122, 151, 942, 390, 742, 499]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006047005687529842
l2 norm of benign user after server clipping 0.006047005687529842
Poison Train Epoch: 0 	Loss: 0.079253
Poison Train Epoch: 1 	Loss: 0.111640
Poison Train Epoch: 2 	Loss: 0.098973
Poison Train Epoch: 3 	Loss: 0.048838
Poison Train Epoch: 4 	Loss: 0.030314
Poison Train Epoch: 5 	Loss: 0.133896
Poison Train Epoch: 6 	Loss: 0.034806
Poison Train Epoch: 7 	Loss: 0.006922
Poison Train Epoch: 8 	Loss: 0.003244
Poison Train Epoch: 9 	Loss: 0.006547
Poison Train Epoch: 10 	Loss: 0.137187
Poison Train Epoch: 11 	Loss: 0.032040
Poison Train Epoch: 12 	Loss: 0.035601
Poison Train Epoch: 13 	Loss: 0.127356
Poison Train Epoch: 14 	Loss: 0.022829
Test set:local_Trigger3_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2050: Average loss: 0.0550, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05499522323608398
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 523/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 1427/4000 (36%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2346/4000 (59%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2621/4000 (66%)
Done in 18.775155544281006 sec.
select client [74, 263, 249, 390, 886, 101, 477, 226, 769, 317]
l2 norm of benign user before server clipping 0.006528283341322094
l2 norm of benign user after server clipping 0.006528283341322094
___Test : epoch: 2051: Average loss: 0.0544, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.054396653375029566
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 498/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 1406/4000 (35%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2321/4000 (58%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2636/4000 (66%)
Done in 11.386728286743164 sec.
select client [619, 812, 873, 36, 697, 585, 385, 999, 524, 33]
l2 norm of benign user before server clipping 0.006751472130417824
l2 norm of benign user after server clipping 0.006751472130417824
___Test : epoch: 2052: Average loss: 0.0546, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.054631502445042134
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 496/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 1423/4000 (36%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2329/4000 (58%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2691/4000 (67%)
Done in 11.435239315032959 sec.
select client [618, 729, 502, 403, 350, 660, 833, 83, 646, 696]
l2 norm of benign user before server clipping 0.006155764614231884
l2 norm of benign user after server clipping 0.006155764614231884
___Test : epoch: 2053: Average loss: 0.0537, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05370080094784498
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 478/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 1365/4000 (34%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2265/4000 (57%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2627/4000 (66%)
Done in 11.36377239227295 sec.
select client [631, 136, 878, 35, 839, 963, 584, 671, 433, 685]
l2 norm of benign user before server clipping 0.006625184253789484
l2 norm of benign user after server clipping 0.006625184253789484
___Test : epoch: 2054: Average loss: 0.0535, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.053549053472280506
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 439/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1297/4000 (32%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2202/4000 (55%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2632/4000 (66%)
Done in 11.419601202011108 sec.
select client [83, 127, 786, 712, 143, 239, 547, 313, 729, 780]
l2 norm of benign user before server clipping 0.004674184252507985
l2 norm of benign user after server clipping 0.004674184252507985
___Test : epoch: 2055: Average loss: 0.0533, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05334330617785454
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 426/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1272/4000 (32%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2161/4000 (54%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2566/4000 (64%)
Done in 11.287635564804077 sec.
select client [75, 664, 280, 692, 770, 583, 630, 799, 485, 719]
l2 norm of benign user before server clipping 0.007485384517349303
l2 norm of benign user after server clipping 0.007485384517349303
___Test : epoch: 2056: Average loss: 0.0533, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.053279845041036604
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 417/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1257/4000 (31%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2157/4000 (54%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2539/4000 (63%)
Done in 11.69570541381836 sec.
select client [305, 42, 201, 99, 422, 474, 793, 728, 471, 294]
l2 norm of benign user before server clipping 0.004788159183226526
l2 norm of benign user after server clipping 0.004788159183226526
___Test : epoch: 2057: Average loss: 0.0534, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05341457178145647
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 403/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1233/4000 (31%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2121/4000 (53%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2527/4000 (63%)
Done in 11.352463483810425 sec.
select client [587, 905, 781, 836, 734, 866, 251, 175, 860, 901]
l2 norm of benign user before server clipping 0.005778550868853927
l2 norm of benign user after server clipping 0.005778550868853927
___Test : epoch: 2058: Average loss: 0.0532, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.05318752289712429
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 388/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1183/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2077/4000 (52%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2469/4000 (62%)
Done in 11.360563278198242 sec.
select client [816, 924, 871, 422, 710, 191, 114, 604, 172, 357]
l2 norm of benign user before server clipping 0.0036053102230653167
l2 norm of benign user after server clipping 0.0036053102230653167
___Test : epoch: 2059: Average loss: 0.0532, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.05324588402658701
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 401/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1220/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2105/4000 (53%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2513/4000 (63%)
Done in 11.2084481716156 sec.
select client [819, 94, 756, 190, 844, 954, 596, 682, 561, 645]
l2 norm of benign user before server clipping 0.005508898384869098
l2 norm of benign user after server clipping 0.005508898384869098
___Test : epoch: 2060: Average loss: 0.0534, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.05337922426611185
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 370/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1126/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2011/4000 (50%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2429/4000 (61%)
Done in 11.426332712173462 sec.
select client [443, 691, 518, 840, 937, 221, 49, 613, 361, 69]
l2 norm of benign user before server clipping 0.004714181530289352
l2 norm of benign user after server clipping 0.004714181530289352
___Test : epoch: 2061: Average loss: 0.0534, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05342271254807711
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 360/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1071/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1962/4000 (49%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2413/4000 (60%)
Done in 11.283294439315796 sec.
select client [958, 531, 458, 687, 700, 360, 107, 797, 762, 439]
l2 norm of benign user before server clipping 0.005916187516413629
l2 norm of benign user after server clipping 0.005916187516413629
___Test : epoch: 2062: Average loss: 0.0536, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.053634085355699065
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 366/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1101/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1990/4000 (50%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2430/4000 (61%)
Done in 11.462476968765259 sec.
select client [610, 426, 854, 473, 618, 193, 310, 889, 184, 798]
l2 norm of benign user before server clipping 0.0057269281707704065
l2 norm of benign user after server clipping 0.0057269281707704065
___Test : epoch: 2063: Average loss: 0.0538, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05381992857009173
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 388/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1106/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2001/4000 (50%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2414/4000 (60%)
Done in 11.425766229629517 sec.
select client [687, 697, 95, 608, 936, 578, 472, 164, 338, 340]
l2 norm of benign user before server clipping 0.0055491105769760905
l2 norm of benign user after server clipping 0.0055491105769760905
___Test : epoch: 2064: Average loss: 0.0539, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.05387835340797901
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 385/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1082/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1991/4000 (50%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2415/4000 (60%)
Done in 11.340468645095825 sec.
select client [756, 514, 659, 958, 130, 480, 603, 488, 680, 97]
l2 norm of benign user before server clipping 0.004949192085769027
l2 norm of benign user after server clipping 0.004949192085769027
___Test : epoch: 2065: Average loss: 0.0540, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05404200453013182
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 372/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1056/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1964/4000 (49%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2414/4000 (60%)
Done in 11.315972566604614 sec.
select client [68, 963, 971, 370, 47, 765, 656, 935, 131, 984]
l2 norm of benign user before server clipping 0.0045827280031517145
l2 norm of benign user after server clipping 0.0045827280031517145
___Test : epoch: 2066: Average loss: 0.0539, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05392871724516153
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 377/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1054/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1967/4000 (49%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2402/4000 (60%)
Done in 11.326172828674316 sec.
select client [51, 699, 885, 178, 280, 219, 903, 369, 154, 108]
l2 norm of benign user before server clipping 0.006826022965833544
l2 norm of benign user after server clipping 0.006826022965833544
___Test : epoch: 2067: Average loss: 0.0538, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.053830832947790626
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 389/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1107/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2013/4000 (50%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2438/4000 (61%)
Done in 11.58443021774292 sec.
select client [724, 278, 501, 946, 654, 825, 371, 954, 220, 738]
l2 norm of benign user before server clipping 0.004861500044353306
l2 norm of benign user after server clipping 0.004861500044353306
___Test : epoch: 2068: Average loss: 0.0539, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05392116797566414
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 397/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1113/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2035/4000 (51%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2452/4000 (61%)
Done in 11.33779239654541 sec.
select client [131, 487, 157, 649, 671, 557, 642, 304, 443, 404]
l2 norm of benign user before server clipping 0.004338987322989851
l2 norm of benign user after server clipping 0.004338987322989851
___Test : epoch: 2069: Average loss: 0.0539, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05392903223633766
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 375/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1074/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1989/4000 (50%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2438/4000 (61%)
Done in 11.390846729278564 sec.
select client [827, 811, 932, 408, 65, 120, 316, 617, 855, 983]
l2 norm of benign user before server clipping 0.007516554859466851
l2 norm of benign user after server clipping 0.007516554859466851
___Test : epoch: 2070: Average loss: 0.0539, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05385981571823358
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 400/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1094/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2025/4000 (51%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2461/4000 (62%)
Done in 11.403401374816895 sec.
select client [695, 402, 419, 858, 991, 867, 220, 936, 918, 859]
l2 norm of benign user before server clipping 0.0033176645752973854
l2 norm of benign user after server clipping 0.0033176645752973854
___Test : epoch: 2071: Average loss: 0.0539, Accuracy: 39341/40000.0 (98.3525%)
benign test loss (after fedavg) 0.05389773769527674
benign test acc (after fedavg) 98.35249999999999
Test set:local_Trigger0Poison Accuracy: 403/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1109/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2042/4000 (51%)
Test set:Main Accuracy: 39341/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2478/4000 (62%)
Done in 11.087490797042847 sec.
select client [487, 303, 483, 586, 840, 817, 739, 225, 999, 679]
l2 norm of benign user before server clipping 0.006006803526543081
l2 norm of benign user after server clipping 0.006006803526543081
___Test : epoch: 2072: Average loss: 0.0536, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05364975875169039
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 397/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1106/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2030/4000 (51%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2479/4000 (62%)
Done in 11.429199457168579 sec.
select client [77, 716, 129, 410, 982, 935, 246, 771, 662, 620]
l2 norm of benign user before server clipping 0.005430071242153644
l2 norm of benign user after server clipping 0.005430071242153644
___Test : epoch: 2073: Average loss: 0.0542, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.05415950647592545
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 380/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1063/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1973/4000 (49%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2475/4000 (62%)
Done in 11.470672130584717 sec.
select client [19, 389, 306, 54, 79, 993, 425, 155, 727, 794]
l2 norm of benign user before server clipping 0.005309142777696252
l2 norm of benign user after server clipping 0.005309142777696252
___Test : epoch: 2074: Average loss: 0.0536, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.05361778227388859
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 384/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1025/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1965/4000 (49%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2401/4000 (60%)
Done in 11.509998559951782 sec.
select client [995, 637, 858, 360, 137, 415, 430, 944, 73, 914]
l2 norm of benign user before server clipping 0.007746023661457002
l2 norm of benign user after server clipping 0.007746023661457002
___Test : epoch: 2075: Average loss: 0.0540, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.05402019435167313
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 395/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1080/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1988/4000 (50%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2456/4000 (61%)
Done in 11.372095108032227 sec.
select client [487, 154, 994, 649, 996, 819, 103, 570, 602, 624]
l2 norm of benign user before server clipping 0.004891990311443805
l2 norm of benign user after server clipping 0.004891990311443805
___Test : epoch: 2076: Average loss: 0.0536, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05363888104259968
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 387/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1044/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1958/4000 (49%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2430/4000 (61%)
Done in 11.36930251121521 sec.
select client [566, 370, 832, 295, 436, 442, 366, 359, 97, 780]
l2 norm of benign user before server clipping 0.005236424505710602
l2 norm of benign user after server clipping 0.005236424505710602
___Test : epoch: 2077: Average loss: 0.0535, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.0534671142667532
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 372/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1015/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1940/4000 (48%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2376/4000 (59%)
Done in 11.378808736801147 sec.
select client [615, 434, 730, 873, 477, 647, 363, 130, 894, 734]
l2 norm of benign user before server clipping 0.0060639388859272
l2 norm of benign user after server clipping 0.0060639388859272
___Test : epoch: 2078: Average loss: 0.0531, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05308740496188402
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 373/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 986/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1923/4000 (48%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2363/4000 (59%)
Done in 11.359570503234863 sec.
select client [153, 957, 793, 974, 446, 846, 389, 32, 529, 636]
l2 norm of benign user before server clipping 0.00441616487223655
l2 norm of benign user after server clipping 0.00441616487223655
___Test : epoch: 2079: Average loss: 0.0531, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.053057182492315766
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 378/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 990/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1937/4000 (48%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2350/4000 (59%)
Done in 11.226588010787964 sec.
select client [973, 589, 981, 721, 418, 500, 65, 846, 151, 474]
l2 norm of benign user before server clipping 0.0045495783095248045
l2 norm of benign user after server clipping 0.0045495783095248045
___Test : epoch: 2080: Average loss: 0.0534, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.053443216630816456
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 378/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 994/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1941/4000 (49%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2391/4000 (60%)
Done in 11.295872926712036 sec.
select client [886, 528, 777, 140, 736, 400, 857, 104, 919, 761]
l2 norm of benign user before server clipping 0.007490536593832075
l2 norm of benign user after server clipping 0.007490536593832075
___Test : epoch: 2081: Average loss: 0.0536, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05355406921803951
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 351/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1032/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1976/4000 (49%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2455/4000 (61%)
Done in 11.521427869796753 sec.
select client [913, 987, 863, 175, 23, 872, 607, 391, 56, 726]
l2 norm of benign user before server clipping 0.0055511203361675145
l2 norm of benign user after server clipping 0.0055511203361675145
___Test : epoch: 2082: Average loss: 0.0538, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.053821214734017846
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 330/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 959/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1885/4000 (47%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2408/4000 (60%)
Done in 11.272563934326172 sec.
select client [561, 424, 122, 454, 698, 883, 798, 396, 179, 754]
l2 norm of benign user before server clipping 0.005196159728802741
l2 norm of benign user after server clipping 0.005196159728802741
___Test : epoch: 2083: Average loss: 0.0535, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.053480187879502775
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 328/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 941/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1881/4000 (47%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2406/4000 (60%)
Done in 11.375529050827026 sec.
select client [89, 48, 717, 13, 324, 398, 326, 676, 264, 489]
l2 norm of benign user before server clipping 0.005481379851698875
l2 norm of benign user after server clipping 0.005481379851698875
___Test : epoch: 2084: Average loss: 0.0537, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.05372992187440395
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 326/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 931/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1871/4000 (47%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2422/4000 (61%)
Done in 11.475181102752686 sec.
select client [852, 342, 647, 529, 579, 205, 536, 816, 935, 129]
l2 norm of benign user before server clipping 0.005498575628735125
l2 norm of benign user after server clipping 0.005498575628735125
___Test : epoch: 2085: Average loss: 0.0545, Accuracy: 39319/40000.0 (98.2975%)
benign test loss (after fedavg) 0.054504179999232294
benign test acc (after fedavg) 98.2975
Test set:local_Trigger0Poison Accuracy: 309/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 882/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1823/4000 (46%)
Test set:Main Accuracy: 39319/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2414/4000 (60%)
Done in 11.266144752502441 sec.
select client [196, 149, 468, 949, 530, 121, 941, 502, 344, 59]
l2 norm of benign user before server clipping 0.005408964771777392
l2 norm of benign user after server clipping 0.005408964771777392
___Test : epoch: 2086: Average loss: 0.0540, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05403236497342587
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 317/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 866/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1808/4000 (45%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2368/4000 (59%)
Done in 11.362873554229736 sec.
select client [107, 652, 35, 240, 492, 68, 929, 413, 274, 585]
l2 norm of benign user before server clipping 0.005948725040070713
l2 norm of benign user after server clipping 0.005948725040070713
___Test : epoch: 2087: Average loss: 0.0536, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.053574256365001204
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 335/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 904/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1844/4000 (46%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2368/4000 (59%)
Done in 11.438764095306396 sec.
select client [534, 722, 469, 81, 783, 927, 488, 68, 754, 207]
l2 norm of benign user before server clipping 0.0038476824294775723
l2 norm of benign user after server clipping 0.0038476824294775723
___Test : epoch: 2088: Average loss: 0.0536, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05358973473757506
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 337/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 900/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1838/4000 (46%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2365/4000 (59%)
Done in 11.273719549179077 sec.
select client [955, 590, 654, 922, 219, 20, 591, 834, 38, 695]
l2 norm of benign user before server clipping 0.004791663587093353
l2 norm of benign user after server clipping 0.004791663587093353
___Test : epoch: 2089: Average loss: 0.0535, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05352923419177532
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 355/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 920/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1877/4000 (47%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2401/4000 (60%)
Done in 11.314111471176147 sec.
select client [840, 626, 133, 627, 21, 941, 939, 344, 34, 920]
l2 norm of benign user before server clipping 0.005577008938416839
l2 norm of benign user after server clipping 0.005577008938416839
___Test : epoch: 2090: Average loss: 0.0534, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.053430080996453765
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 364/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 897/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1843/4000 (46%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2333/4000 (58%)
Done in 11.38692307472229 sec.
select client [526, 658, 553, 185, 104, 219, 532, 842, 333, 869]
l2 norm of benign user before server clipping 0.004096320644021034
l2 norm of benign user after server clipping 0.004096320644021034
___Test : epoch: 2091: Average loss: 0.0532, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05324487397521734
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 349/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 905/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1867/4000 (47%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2352/4000 (59%)
Done in 11.337849378585815 sec.
select client [467, 12, 528, 421, 751, 505, 299, 792, 497, 201]
l2 norm of benign user before server clipping 0.007185968081466853
l2 norm of benign user after server clipping 0.007185968081466853
___Test : epoch: 2092: Average loss: 0.0534, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.053436564253270626
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 354/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 887/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1825/4000 (46%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2306/4000 (58%)
Done in 11.435122013092041 sec.
select client [955, 678, 877, 411, 970, 496, 923, 863, 146, 196]
l2 norm of benign user before server clipping 0.005569609999656677
l2 norm of benign user after server clipping 0.005569609999656677
___Test : epoch: 2093: Average loss: 0.0531, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05307264584451914
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 337/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 864/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1804/4000 (45%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2267/4000 (57%)
Done in 11.304412841796875 sec.
select client [817, 820, 823, 700, 494, 114, 576, 246, 670, 413]
l2 norm of benign user before server clipping 0.004033704032190144
l2 norm of benign user after server clipping 0.004033704032190144
___Test : epoch: 2094: Average loss: 0.0529, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.052914910653233525
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 339/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 876/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1811/4000 (45%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2256/4000 (56%)
Done in 11.32457685470581 sec.
select client [405, 431, 706, 507, 314, 337, 419, 443, 802, 188]
l2 norm of benign user before server clipping 0.0046124427113682035
l2 norm of benign user after server clipping 0.0046124427113682035
___Test : epoch: 2095: Average loss: 0.0527, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05272263655215502
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 318/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 850/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1782/4000 (45%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2219/4000 (55%)
Done in 11.339972257614136 sec.
select client [607, 601, 526, 584, 550, 241, 555, 903, 582, 200]
l2 norm of benign user before server clipping 0.0049922493170015516
l2 norm of benign user after server clipping 0.0049922493170015516
___Test : epoch: 2096: Average loss: 0.0526, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05256222300827503
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 308/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 875/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1804/4000 (45%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2203/4000 (55%)
Done in 11.303581476211548 sec.
select client [429, 32, 138, 570, 235, 260, 113, 180, 456, 134]
l2 norm of benign user before server clipping 0.004101569287013262
l2 norm of benign user after server clipping 0.004101569287013262
___Test : epoch: 2097: Average loss: 0.0525, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052456616380810735
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 302/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 876/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1806/4000 (45%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2215/4000 (55%)
Done in 11.268529415130615 sec.
select client [788, 335, 881, 983, 519, 925, 969, 243, 660, 320]
l2 norm of benign user before server clipping 0.005611139698885381
l2 norm of benign user after server clipping 0.005611139698885381
___Test : epoch: 2098: Average loss: 0.0527, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05265301816910505
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 317/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 873/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1809/4000 (45%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2226/4000 (56%)
Done in 11.320740461349487 sec.
select client [231, 774, 867, 291, 267, 809, 310, 77, 594, 778]
l2 norm of benign user before server clipping 0.012651044153608381
l2 norm of benign user after server clipping 0.012651044153608381
___Test : epoch: 2099: Average loss: 0.0547, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05473956303745508
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 368/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 924/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1877/4000 (47%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2397/4000 (60%)
Done in 11.50858473777771 sec.
select client [29, 947, 666, 142, 535, 541, 650, 730, 583, 55]
l2 norm of benign user before server clipping 0.006649495009332896
l2 norm of benign user after server clipping 0.006649495009332896
___Test : epoch: 2100: Average loss: 0.0543, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05432165709584951
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 349/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 864/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1812/4000 (45%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2286/4000 (57%)
Done in 12.042627811431885 sec.
select client [560, 419, 314, 164, 496, 15, 185, 646, 445, 672]
l2 norm of benign user before server clipping 0.004454999568406492
l2 norm of benign user after server clipping 0.004454999568406492
___Test : epoch: 2101: Average loss: 0.0543, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.05432775095254183
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 357/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 883/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1830/4000 (46%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2342/4000 (59%)
Done in 11.388757228851318 sec.
select client [477, 207, 222, 290, 401, 794, 892, 945, 859, 97]
l2 norm of benign user before server clipping 0.004222282650880515
l2 norm of benign user after server clipping 0.004222282650880515
___Test : epoch: 2102: Average loss: 0.0546, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05462164057195187
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 346/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 851/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1806/4000 (45%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2312/4000 (58%)
Done in 11.303725957870483 sec.
select client [168, 451, 722, 467, 382, 195, 429, 833, 464, 782]
l2 norm of benign user before server clipping 0.0056397427106276155
l2 norm of benign user after server clipping 0.0056397427106276155
___Test : epoch: 2103: Average loss: 0.0541, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.05414499765634537
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 344/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 856/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1809/4000 (45%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2267/4000 (57%)
Done in 11.456196069717407 sec.
select client [222, 849, 936, 615, 243, 284, 411, 335, 857, 878]
l2 norm of benign user before server clipping 0.0035628786426968873
l2 norm of benign user after server clipping 0.0035628786426968873
___Test : epoch: 2104: Average loss: 0.0542, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05415701438933611
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 330/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 818/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1778/4000 (44%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2238/4000 (56%)
Done in 11.193814277648926 sec.
select client [807, 457, 671, 899, 858, 869, 513, 214, 507, 955]
l2 norm of benign user before server clipping 0.004679299448616803
l2 norm of benign user after server clipping 0.004679299448616803
___Test : epoch: 2105: Average loss: 0.0534, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.053355443769693374
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 320/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 806/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1758/4000 (44%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2157/4000 (54%)
Done in 11.374585151672363 sec.
select client [445, 212, 345, 855, 932, 222, 205, 54, 272, 792]
l2 norm of benign user before server clipping 0.005084540997631848
l2 norm of benign user after server clipping 0.005084540997631848
___Test : epoch: 2106: Average loss: 0.0532, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.053247668874263764
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 335/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 814/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1754/4000 (44%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2142/4000 (54%)
Done in 11.355609893798828 sec.
select client [70, 80, 461, 916, 54, 976, 614, 580, 11, 188]
l2 norm of benign user before server clipping 0.003961946628987789
l2 norm of benign user after server clipping 0.003961946628987789
___Test : epoch: 2107: Average loss: 0.0531, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05310435761362314
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 343/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 821/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1766/4000 (44%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2132/4000 (53%)
Done in 11.251142501831055 sec.
select client [641, 762, 693, 501, 732, 627, 909, 474, 68, 427]
l2 norm of benign user before server clipping 0.005045116925612092
l2 norm of benign user after server clipping 0.005045116925612092
___Test : epoch: 2108: Average loss: 0.0531, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05308569023162127
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 343/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 834/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1807/4000 (45%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2169/4000 (54%)
Done in 11.219836950302124 sec.
select client [754, 984, 537, 228, 626, 546, 410, 362, 475, 109]
l2 norm of benign user before server clipping 0.004072225000709295
l2 norm of benign user after server clipping 0.004072225000709295
___Test : epoch: 2109: Average loss: 0.0528, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.052849467262625696
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 349/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 846/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1808/4000 (45%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2153/4000 (54%)
Done in 11.372300624847412 sec.
select client [867, 638, 157, 960, 338, 935, 652, 492, 971, 881]
l2 norm of benign user before server clipping 0.0051181748742237685
l2 norm of benign user after server clipping 0.0051181748742237685
___Test : epoch: 2110: Average loss: 0.0527, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05270946964174509
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 341/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 858/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1829/4000 (46%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2162/4000 (54%)
Done in 11.501732349395752 sec.
select client [932, 610, 39, 80, 205, 43, 663, 30, 723, 377]
l2 norm of benign user before server clipping 0.004641421348787844
l2 norm of benign user after server clipping 0.004641421348787844
___Test : epoch: 2111: Average loss: 0.0525, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052479265013337134
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 345/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 859/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1843/4000 (46%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2155/4000 (54%)
Done in 11.30924391746521 sec.
select client [682, 357, 80, 286, 940, 663, 696, 946, 334, 709]
l2 norm of benign user before server clipping 0.004787686129566282
l2 norm of benign user after server clipping 0.004787686129566282
___Test : epoch: 2112: Average loss: 0.0525, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052453971496224404
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 331/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 838/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1819/4000 (45%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2144/4000 (54%)
Done in 11.523401737213135 sec.
select client [829, 767, 304, 804, 506, 928, 95, 17, 916, 799]
l2 norm of benign user before server clipping 0.005075812700670213
l2 norm of benign user after server clipping 0.005075812700670213
___Test : epoch: 2113: Average loss: 0.0525, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05247849349528551
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 306/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 823/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1792/4000 (45%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2121/4000 (53%)
Done in 11.313154697418213 sec.
select client [528, 356, 208, 966, 368, 995, 613, 682, 746, 122]
l2 norm of benign user before server clipping 0.005006772116757929
l2 norm of benign user after server clipping 0.005006772116757929
___Test : epoch: 2114: Average loss: 0.0523, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.052291968062520025
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 311/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 833/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1808/4000 (45%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2127/4000 (53%)
Done in 11.422759056091309 sec.
select client [642, 527, 734, 245, 101, 762, 74, 722, 595, 991]
l2 norm of benign user before server clipping 0.00546571162994951
l2 norm of benign user after server clipping 0.00546571162994951
___Test : epoch: 2115: Average loss: 0.0525, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.052456744001805784
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 311/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 811/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1799/4000 (45%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2152/4000 (54%)
Done in 11.354692697525024 sec.
select client [311, 805, 975, 269, 771, 745, 674, 974, 151, 627]
l2 norm of benign user before server clipping 0.007107207534136251
l2 norm of benign user after server clipping 0.007107207534136251
___Test : epoch: 2116: Average loss: 0.0524, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.052396026124060156
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 289/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 757/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1724/4000 (43%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2036/4000 (51%)
Done in 11.379859924316406 sec.
select client [656, 577, 178, 738, 750, 957, 135, 677, 583, 298]
l2 norm of benign user before server clipping 0.005375644378364086
l2 norm of benign user after server clipping 0.005375644378364086
___Test : epoch: 2117: Average loss: 0.0525, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05250276227667928
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 288/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 752/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1724/4000 (43%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2034/4000 (51%)
Done in 11.423269510269165 sec.
select client [970, 978, 567, 893, 97, 846, 260, 387, 162, 578]
l2 norm of benign user before server clipping 0.005401367507874966
l2 norm of benign user after server clipping 0.005401367507874966
___Test : epoch: 2118: Average loss: 0.0522, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052178748923540116
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 315/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 773/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1757/4000 (44%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2066/4000 (52%)
Done in 11.322425842285156 sec.
select client [922, 184, 504, 427, 99, 567, 353, 903, 260, 794]
l2 norm of benign user before server clipping 0.0036797629203647376
l2 norm of benign user after server clipping 0.0036797629203647376
___Test : epoch: 2119: Average loss: 0.0522, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052205316124856474
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 772/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1767/4000 (44%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2075/4000 (52%)
Done in 11.21697449684143 sec.
select client [625, 491, 133, 288, 585, 672, 178, 594, 873, 790]
l2 norm of benign user before server clipping 0.006665424257516861
l2 norm of benign user after server clipping 0.006665424257516861
___Test : epoch: 2120: Average loss: 0.0523, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05233584743738175
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 322/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 771/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1756/4000 (44%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2108/4000 (53%)
Done in 11.518779993057251 sec.
select client [38, 964, 951, 805, 433, 167, 15, 480, 869, 771]
l2 norm of benign user before server clipping 0.004570389387663454
l2 norm of benign user after server clipping 0.004570389387663454
___Test : epoch: 2121: Average loss: 0.0520, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.05203377151042223
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 329/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 773/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1770/4000 (44%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2089/4000 (52%)
Done in 11.413859128952026 sec.
select client [379, 704, 783, 241, 308, 803, 972, 355, 836, 912]
l2 norm of benign user before server clipping 0.004656207072548569
l2 norm of benign user after server clipping 0.004656207072548569
___Test : epoch: 2122: Average loss: 0.0520, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.05201093352884054
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 307/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 744/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1742/4000 (44%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2075/4000 (52%)
Done in 11.364483833312988 sec.
select client [865, 19, 72, 251, 138, 209, 147, 267, 60, 469]
l2 norm of benign user before server clipping 0.004785573505796492
l2 norm of benign user after server clipping 0.004785573505796492
___Test : epoch: 2123: Average loss: 0.0521, Accuracy: 39375/40000.0 (98.4375%)
benign test loss (after fedavg) 0.052089406105875966
benign test acc (after fedavg) 98.4375
Test set:local_Trigger0Poison Accuracy: 304/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 713/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1724/4000 (43%)
Test set:Main Accuracy: 39375/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2016/4000 (50%)
Done in 11.474622011184692 sec.
select client [285, 611, 672, 600, 811, 920, 529, 780, 360, 119]
l2 norm of benign user before server clipping 0.008205194608308375
l2 norm of benign user after server clipping 0.008205194608308375
___Test : epoch: 2124: Average loss: 0.0521, Accuracy: 39373/40000.0 (98.4325%)
benign test loss (after fedavg) 0.05211024676784873
benign test acc (after fedavg) 98.4325
Test set:local_Trigger0Poison Accuracy: 271/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 672/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1712/4000 (43%)
Test set:Main Accuracy: 39373/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1945/4000 (49%)
Done in 11.543953657150269 sec.
select client [904, 32, 819, 491, 739, 662, 929, 928, 458, 542]
l2 norm of benign user before server clipping 0.004410673258826136
l2 norm of benign user after server clipping 0.004410673258826136
___Test : epoch: 2125: Average loss: 0.0522, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.052193244360387324
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 261/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 643/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1680/4000 (42%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1890/4000 (47%)
Done in 11.301005601882935 sec.
select client [616, 97, 25, 621, 402, 79, 578, 178, 287, 275]
l2 norm of benign user before server clipping 0.005942947836592794
l2 norm of benign user after server clipping 0.005942947836592794
___Test : epoch: 2126: Average loss: 0.0522, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.052178978754580024
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 247/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 641/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1685/4000 (42%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1917/4000 (48%)
Done in 11.384580612182617 sec.
select client [222, 173, 659, 82, 541, 756, 470, 911, 984, 568]
l2 norm of benign user before server clipping 0.005096734326798469
l2 norm of benign user after server clipping 0.005096734326798469
___Test : epoch: 2127: Average loss: 0.0527, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.052689784974604845
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 233/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 614/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1665/4000 (42%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1938/4000 (48%)
Done in 11.29323697090149 sec.
select client [399, 570, 237, 392, 732, 683, 354, 503, 23, 64]
l2 norm of benign user before server clipping 0.0043191091855987905
l2 norm of benign user after server clipping 0.0043191091855987905
___Test : epoch: 2128: Average loss: 0.0529, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05292321680635214
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 235/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 597/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1647/4000 (41%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1921/4000 (48%)
Done in 11.297899007797241 sec.
select client [370, 488, 489, 761, 479, 538, 409, 922, 78, 909]
l2 norm of benign user before server clipping 0.004932871414348483
l2 norm of benign user after server clipping 0.004932871414348483
___Test : epoch: 2129: Average loss: 0.0527, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05269764535054564
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 244/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 596/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1656/4000 (41%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1904/4000 (48%)
Done in 11.325852632522583 sec.
select client [284, 423, 914, 419, 109, 382, 599, 890, 555, 190]
l2 norm of benign user before server clipping 0.00477251319680363
l2 norm of benign user after server clipping 0.00477251319680363
___Test : epoch: 2130: Average loss: 0.0526, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.052639838303625584
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 255/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 607/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1665/4000 (42%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1913/4000 (48%)
Done in 11.321504831314087 sec.
select client [439, 399, 353, 516, 81, 12, 762, 605, 597, 962]
l2 norm of benign user before server clipping 0.005241848784498871
l2 norm of benign user after server clipping 0.005241848784498871
___Test : epoch: 2131: Average loss: 0.0529, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05294596558958292
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 254/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 596/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1653/4000 (41%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1933/4000 (48%)
Done in 11.374210834503174 sec.
select client [85, 843, 583, 943, 993, 397, 958, 92, 52, 421]
l2 norm of benign user before server clipping 0.012152217607945204
l2 norm of benign user after server clipping 0.012152217607945204
___Test : epoch: 2132: Average loss: 0.0521, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05213255680799484
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 276/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 743/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1756/4000 (44%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1965/4000 (49%)
Done in 11.55253291130066 sec.
select client [643, 372, 936, 606, 94, 966, 254, 60, 161, 525]
l2 norm of benign user before server clipping 0.005052809324115515
l2 norm of benign user after server clipping 0.005052809324115515
___Test : epoch: 2133: Average loss: 0.0521, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.052087170854955914
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 263/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 740/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1748/4000 (44%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1977/4000 (49%)
Done in 11.381033658981323 sec.
select client [920, 186, 462, 437, 562, 60, 633, 815, 641, 325]
l2 norm of benign user before server clipping 0.004802295286208391
l2 norm of benign user after server clipping 0.004802295286208391
___Test : epoch: 2134: Average loss: 0.0521, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.052137154994905
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 261/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 722/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1723/4000 (43%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1976/4000 (49%)
Done in 11.316322326660156 sec.
select client [194, 898, 439, 897, 894, 362, 387, 865, 551, 431]
l2 norm of benign user before server clipping 0.004212139267474413
l2 norm of benign user after server clipping 0.004212139267474413
___Test : epoch: 2135: Average loss: 0.0520, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05200068682134151
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 273/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 717/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1725/4000 (43%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1953/4000 (49%)
Done in 11.397429943084717 sec.
select client [179, 239, 105, 369, 964, 604, 206, 639, 503, 347]
l2 norm of benign user before server clipping 0.005559321912005544
l2 norm of benign user after server clipping 0.005559321912005544
___Test : epoch: 2136: Average loss: 0.0524, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052387795190513134
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 278/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 698/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1708/4000 (43%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1940/4000 (48%)
Done in 11.508680820465088 sec.
select client [540, 574, 489, 232, 616, 111, 598, 215, 536, 357]
l2 norm of benign user before server clipping 0.004910039412789047
l2 norm of benign user after server clipping 0.004910039412789047
___Test : epoch: 2137: Average loss: 0.0525, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05247578283846378
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 269/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 707/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1701/4000 (43%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1967/4000 (49%)
Done in 11.319566011428833 sec.
select client [269, 424, 74, 196, 511, 908, 793, 151, 933, 270]
l2 norm of benign user before server clipping 0.003114230139181018
l2 norm of benign user after server clipping 0.003114230139181018
___Test : epoch: 2138: Average loss: 0.0524, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05242970660030842
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 261/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 689/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1688/4000 (42%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1966/4000 (49%)
Done in 11.053167343139648 sec.
select client [29, 715, 61, 437, 223, 438, 55, 763, 735, 291]
l2 norm of benign user before server clipping 0.011389330122619867
l2 norm of benign user after server clipping 0.011389330122619867
___Test : epoch: 2139: Average loss: 0.0540, Accuracy: 39328/40000.0 (98.3200%)
benign test loss (after fedavg) 0.05395347311794758
benign test acc (after fedavg) 98.32
Test set:local_Trigger0Poison Accuracy: 167/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 453/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1404/4000 (35%)
Test set:Main Accuracy: 39328/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1732/4000 (43%)
Done in 11.490084886550903 sec.
select client [214, 261, 404, 137, 537, 383, 915, 381, 405, 316]
l2 norm of benign user before server clipping 0.0074010303709656
l2 norm of benign user after server clipping 0.0074010303709656
___Test : epoch: 2140: Average loss: 0.0539, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.053903149430453774
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 167/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 457/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1418/4000 (35%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1739/4000 (43%)
Done in 11.433002233505249 sec.
select client [338, 637, 736, 514, 859, 878, 427, 153, 179, 455]
l2 norm of benign user before server clipping 0.005694287782534957
l2 norm of benign user after server clipping 0.005694287782534957
___Test : epoch: 2141: Average loss: 0.0536, Accuracy: 39338/40000.0 (98.3450%)
benign test loss (after fedavg) 0.05356698105335236
benign test acc (after fedavg) 98.345
Test set:local_Trigger0Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 485/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1445/4000 (36%)
Test set:Main Accuracy: 39338/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1765/4000 (44%)
Done in 11.478243589401245 sec.
select client [224, 867, 682, 724, 425, 789, 968, 60, 629, 727]
l2 norm of benign user before server clipping 0.005605729203671217
l2 norm of benign user after server clipping 0.005605729203671217
___Test : epoch: 2142: Average loss: 0.0529, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05294504872709513
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 194/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 537/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1526/4000 (38%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1839/4000 (46%)
Done in 11.381410837173462 sec.
select client [997, 24, 120, 628, 953, 32, 877, 337, 318, 528]
l2 norm of benign user before server clipping 0.004573136148974299
l2 norm of benign user after server clipping 0.004573136148974299
___Test : epoch: 2143: Average loss: 0.0529, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05285757433325052
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 192/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 544/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1525/4000 (38%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1815/4000 (45%)
Done in 11.304289817810059 sec.
select client [425, 346, 112, 208, 998, 95, 758, 987, 18, 493]
l2 norm of benign user before server clipping 0.005596907064318657
l2 norm of benign user after server clipping 0.005596907064318657
___Test : epoch: 2144: Average loss: 0.0530, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.0529554623067379
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 185/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 525/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1503/4000 (38%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1807/4000 (45%)
Done in 11.479480504989624 sec.
select client [188, 591, 70, 896, 419, 996, 745, 134, 973, 884]
l2 norm of benign user before server clipping 0.005735042341984809
l2 norm of benign user after server clipping 0.005735042341984809
___Test : epoch: 2145: Average loss: 0.0529, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.052915245905518535
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 196/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1505/4000 (38%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1775/4000 (44%)
Done in 11.413904428482056 sec.
select client [248, 470, 684, 284, 313, 672, 189, 829, 609, 435]
l2 norm of benign user before server clipping 0.0062898468459025025
l2 norm of benign user after server clipping 0.0062898468459025025
___Test : epoch: 2146: Average loss: 0.0530, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.052991338840126995
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 211/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 549/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1543/4000 (39%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1855/4000 (46%)
Done in 11.546483516693115 sec.
select client [779, 78, 717, 591, 174, 634, 841, 611, 682, 113]
l2 norm of benign user before server clipping 0.0040988994529470805
l2 norm of benign user after server clipping 0.0040988994529470805
___Test : epoch: 2147: Average loss: 0.0527, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.052681468500196935
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 215/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 554/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1560/4000 (39%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1861/4000 (47%)
Done in 11.471161127090454 sec.
select client [700, 219, 223, 796, 731, 378, 118, 730, 420, 480]
l2 norm of benign user before server clipping 0.006367810186930001
l2 norm of benign user after server clipping 0.006367810186930001
___Test : epoch: 2148: Average loss: 0.0521, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.052079508873820304
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 213/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 540/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1558/4000 (39%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1763/4000 (44%)
Done in 11.596203804016113 sec.
select client [595, 636, 747, 251, 360, 336, 509, 973, 784, 687]
l2 norm of benign user before server clipping 0.006224786327220499
l2 norm of benign user after server clipping 0.006224786327220499
___Test : epoch: 2149: Average loss: 0.0521, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052138223395496605
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 218/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 588/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1610/4000 (40%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1841/4000 (46%)
Done in 11.459848642349243 sec.
select client [682, 739, 823, 66, 319, 56, 160, 114, 696, 539]
l2 norm of benign user before server clipping 0.005421071057207882
l2 norm of benign user after server clipping 0.005421071057207882
___Test : epoch: 2150: Average loss: 0.0521, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05212349600568414
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 574/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1603/4000 (40%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1843/4000 (46%)
Done in 11.532637596130371 sec.
select client [452, 873, 788, 622, 275, 402, 489, 575, 603, 947]
l2 norm of benign user before server clipping 0.005361401371192187
l2 norm of benign user after server clipping 0.005361401371192187
___Test : epoch: 2151: Average loss: 0.0519, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.051922095859795805
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 578/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1616/4000 (40%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1888/4000 (47%)
Done in 11.37915587425232 sec.
select client [385, 254, 855, 218, 644, 74, 743, 147, 50, 668]
l2 norm of benign user before server clipping 0.004549664119258523
l2 norm of benign user after server clipping 0.004549664119258523
___Test : epoch: 2152: Average loss: 0.0522, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.05218766959309578
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 210/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 549/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1562/4000 (39%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1853/4000 (46%)
Done in 11.516005992889404 sec.
select client [108, 378, 68, 749, 873, 549, 712, 245, 441, 380]
l2 norm of benign user before server clipping 0.005153463617898524
l2 norm of benign user after server clipping 0.005153463617898524
___Test : epoch: 2153: Average loss: 0.0520, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05200466664209962
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 214/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 558/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1567/4000 (39%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1845/4000 (46%)
Done in 11.354515314102173 sec.
select client [440, 433, 806, 115, 365, 432, 595, 454, 746, 304]
l2 norm of benign user before server clipping 0.005174547364003956
l2 norm of benign user after server clipping 0.005174547364003956
___Test : epoch: 2154: Average loss: 0.0519, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.05193897986114025
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 218/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 555/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1561/4000 (39%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1843/4000 (46%)
Done in 11.414665460586548 sec.
select client [662, 669, 352, 47, 579, 757, 672, 502, 149, 773]
l2 norm of benign user before server clipping 0.004920957796275616
l2 norm of benign user after server clipping 0.004920957796275616
___Test : epoch: 2155: Average loss: 0.0518, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.05182545242011547
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 220/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 544/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1555/4000 (39%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1817/4000 (45%)
Done in 11.48897933959961 sec.
select client [315, 934, 191, 839, 964, 361, 736, 293, 620, 354]
l2 norm of benign user before server clipping 0.005625932000111788
l2 norm of benign user after server clipping 0.005625932000111788
___Test : epoch: 2156: Average loss: 0.0520, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.051969989026337864
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 191/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 508/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1510/4000 (38%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1771/4000 (44%)
Done in 11.349610328674316 sec.
select client [443, 178, 457, 771, 533, 47, 548, 251, 111, 440]
l2 norm of benign user before server clipping 0.006643614615313709
l2 norm of benign user after server clipping 0.006643614615313709
___Test : epoch: 2157: Average loss: 0.0522, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.0522186131849885
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 185/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 482/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1464/4000 (37%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1713/4000 (43%)
Done in 11.555038452148438 sec.
select client [775, 905, 870, 59, 570, 760, 116, 76, 136, 489]
l2 norm of benign user before server clipping 0.005448957160115242
l2 norm of benign user after server clipping 0.005448957160115242
___Test : epoch: 2158: Average loss: 0.0518, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.05180649464130402
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 200/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 479/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1454/4000 (36%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1638/4000 (41%)
Done in 11.45464825630188 sec.
select client [45, 180, 181, 646, 250, 508, 249, 654, 851, 685]
l2 norm of benign user before server clipping 0.005558612453751266
l2 norm of benign user after server clipping 0.005558612453751266
___Test : epoch: 2159: Average loss: 0.0523, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05229701962918043
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 192/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 477/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1454/4000 (36%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1683/4000 (42%)
Done in 11.380458354949951 sec.
select client [166, 181, 241, 41, 598, 594, 437, 199, 827, 194]
l2 norm of benign user before server clipping 0.006114825932309031
l2 norm of benign user after server clipping 0.006114825932309031
___Test : epoch: 2160: Average loss: 0.0526, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05261778787523508
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 200/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 484/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1467/4000 (37%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1702/4000 (43%)
Done in 11.397799015045166 sec.
select client [730, 832, 352, 525, 642, 131, 932, 785, 548, 251]
l2 norm of benign user before server clipping 0.006945171486586332
l2 norm of benign user after server clipping 0.006945171486586332
___Test : epoch: 2161: Average loss: 0.0525, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.052454288201034066
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 491/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1477/4000 (37%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1703/4000 (43%)
Done in 11.562135219573975 sec.
select client [59, 571, 570, 728, 484, 444, 471, 616, 129, 212]
l2 norm of benign user before server clipping 0.005980995134450495
l2 norm of benign user after server clipping 0.005980995134450495
___Test : epoch: 2162: Average loss: 0.0522, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.052221402406692506
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 205/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 501/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1468/4000 (37%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1663/4000 (42%)
Done in 11.353384733200073 sec.
select client [911, 202, 448, 864, 319, 14, 892, 443, 246, 38]
l2 norm of benign user before server clipping 0.004201540886424482
l2 norm of benign user after server clipping 0.004201540886424482
___Test : epoch: 2163: Average loss: 0.0523, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05226451796889305
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 201/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 497/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1459/4000 (36%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1664/4000 (42%)
Done in 11.445072174072266 sec.
select client [187, 550, 745, 825, 918, 801, 898, 500, 921, 449]
l2 norm of benign user before server clipping 0.004420331562869251
l2 norm of benign user after server clipping 0.004420331562869251
___Test : epoch: 2164: Average loss: 0.0522, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05223520374521613
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 216/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 509/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1496/4000 (37%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1664/4000 (42%)
Done in 11.420584440231323 sec.
select client [467, 742, 708, 764, 583, 342, 554, 471, 101, 714]
l2 norm of benign user before server clipping 0.0060176698490977286
l2 norm of benign user after server clipping 0.0060176698490977286
___Test : epoch: 2165: Average loss: 0.0523, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05230939190238714
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 238/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 514/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1537/4000 (38%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1686/4000 (42%)
Done in 11.528955221176147 sec.
select client [468, 90, 462, 533, 966, 705, 599, 698, 488, 201]
l2 norm of benign user before server clipping 0.005273598246276379
l2 norm of benign user after server clipping 0.005273598246276379
___Test : epoch: 2166: Average loss: 0.0521, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05211299594938755
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 229/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 507/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1524/4000 (38%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1693/4000 (42%)
Done in 11.360249280929565 sec.
select client [361, 855, 249, 643, 941, 94, 45, 276, 697, 322]
l2 norm of benign user before server clipping 0.003941986057907343
l2 norm of benign user after server clipping 0.003941986057907343
___Test : epoch: 2167: Average loss: 0.0522, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05222855958789587
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 227/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 516/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1518/4000 (38%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1719/4000 (43%)
Done in 11.322583675384521 sec.
select client [110, 247, 279, 772, 466, 308, 632, 565, 502, 473]
l2 norm of benign user before server clipping 0.003876221040263772
l2 norm of benign user after server clipping 0.003876221040263772
___Test : epoch: 2168: Average loss: 0.0523, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05225430693179369
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 239/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1550/4000 (39%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1759/4000 (44%)
Done in 11.294929027557373 sec.
select client [71, 615, 157, 735, 382, 908, 354, 789, 151, 856]
l2 norm of benign user before server clipping 0.004953126492910087
l2 norm of benign user after server clipping 0.004953126492910087
___Test : epoch: 2169: Average loss: 0.0521, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.052065016008913514
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 238/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 533/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1570/4000 (39%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1762/4000 (44%)
Done in 11.347193717956543 sec.
select client [132, 704, 62, 571, 745, 782, 859, 397, 653, 603]
l2 norm of benign user before server clipping 0.004616116033867001
l2 norm of benign user after server clipping 0.004616116033867001
___Test : epoch: 2170: Average loss: 0.0520, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05200918330401182
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 227/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 521/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1549/4000 (39%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1744/4000 (44%)
Done in 11.330090045928955 sec.
select client [348, 862, 728, 107, 819, 901, 436, 15, 997, 243]
l2 norm of benign user before server clipping 0.004466289607807994
l2 norm of benign user after server clipping 0.004466289607807994
___Test : epoch: 2171: Average loss: 0.0518, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05175061997026205
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 244/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 546/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1587/4000 (40%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1766/4000 (44%)
Done in 11.378525495529175 sec.
select client [654, 432, 613, 53, 83, 268, 307, 273, 157, 670]
l2 norm of benign user before server clipping 0.004500049853231758
l2 norm of benign user after server clipping 0.004500049853231758
___Test : epoch: 2172: Average loss: 0.0518, Accuracy: 39375/40000.0 (98.4375%)
benign test loss (after fedavg) 0.05181614180654287
benign test acc (after fedavg) 98.4375
Test set:local_Trigger0Poison Accuracy: 238/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 545/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1584/4000 (40%)
Test set:Main Accuracy: 39375/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1781/4000 (45%)
Done in 11.432668447494507 sec.
select client [211, 885, 828, 823, 918, 962, 795, 136, 141, 976]
l2 norm of benign user before server clipping 0.00435895511182025
l2 norm of benign user after server clipping 0.00435895511182025
___Test : epoch: 2173: Average loss: 0.0522, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05222897853702307
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 240/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 564/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1595/4000 (40%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1826/4000 (46%)
Done in 11.418180227279663 sec.
select client [303, 543, 762, 707, 85, 117, 71, 894, 14, 896]
l2 norm of benign user before server clipping 0.005655351409222931
l2 norm of benign user after server clipping 0.005655351409222931
___Test : epoch: 2174: Average loss: 0.0522, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.052221053051948546
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 232/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 552/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1576/4000 (39%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1795/4000 (45%)
Done in 11.470913171768188 sec.
select client [412, 509, 721, 609, 712, 658, 113, 380, 242, 295]
l2 norm of benign user before server clipping 0.004804934142157435
l2 norm of benign user after server clipping 0.004804934142157435
___Test : epoch: 2175: Average loss: 0.0520, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05203790096417069
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 219/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 540/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1555/4000 (39%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1765/4000 (44%)
Done in 11.294928550720215 sec.
select client [28, 428, 57, 803, 409, 201, 319, 668, 268, 141]
l2 norm of benign user before server clipping 0.004789063497446478
l2 norm of benign user after server clipping 0.004789063497446478
___Test : epoch: 2176: Average loss: 0.0523, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05231693953052163
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 213/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 547/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1557/4000 (39%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1790/4000 (45%)
Done in 11.501327514648438 sec.
select client [336, 761, 557, 737, 498, 170, 178, 715, 74, 597]
l2 norm of benign user before server clipping 0.0058776768390089275
l2 norm of benign user after server clipping 0.0058776768390089275
___Test : epoch: 2177: Average loss: 0.0522, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05220856295600534
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 219/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 516/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1542/4000 (39%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1706/4000 (43%)
Done in 11.545865774154663 sec.
select client [731, 901, 269, 161, 993, 97, 884, 202, 246, 522]
l2 norm of benign user before server clipping 0.003493986965622753
l2 norm of benign user after server clipping 0.003493986965622753
___Test : epoch: 2178: Average loss: 0.0520, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05203538483083248
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 213/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 504/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1525/4000 (38%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1654/4000 (41%)
Done in 11.23305368423462 sec.
select client [806, 115, 627, 702, 426, 54, 464, 712, 492, 523]
l2 norm of benign user before server clipping 0.004714130656793714
l2 norm of benign user after server clipping 0.004714130656793714
___Test : epoch: 2179: Average loss: 0.0518, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.051821976348757744
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 216/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 484/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1502/4000 (38%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1580/4000 (40%)
Done in 11.462104320526123 sec.
select client [66, 208, 172, 502, 596, 489, 152, 102, 812, 524]
l2 norm of benign user before server clipping 0.005451159412041306
l2 norm of benign user after server clipping 0.005451159412041306
___Test : epoch: 2180: Average loss: 0.0513, Accuracy: 39379/40000.0 (98.4475%)
benign test loss (after fedavg) 0.0512762929148972
benign test acc (after fedavg) 98.4475
Test set:local_Trigger0Poison Accuracy: 216/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 494/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1527/4000 (38%)
Test set:Main Accuracy: 39379/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1606/4000 (40%)
Done in 11.383552551269531 sec.
select client [821, 572, 901, 187, 368, 150, 10, 215, 579, 646]
l2 norm of benign user before server clipping 0.006273227906785905
l2 norm of benign user after server clipping 0.006273227906785905
___Test : epoch: 2181: Average loss: 0.0514, Accuracy: 39381/40000.0 (98.4525%)
benign test loss (after fedavg) 0.051379969214648005
benign test acc (after fedavg) 98.4525
Test set:local_Trigger0Poison Accuracy: 230/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 505/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1527/4000 (38%)
Test set:Main Accuracy: 39381/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1629/4000 (41%)
Done in 11.507630348205566 sec.
select client [600, 981, 332, 539, 262, 301, 971, 821, 81, 91]
l2 norm of benign user before server clipping 0.004636954888701439
l2 norm of benign user after server clipping 0.004636954888701439
___Test : epoch: 2182: Average loss: 0.0514, Accuracy: 39379/40000.0 (98.4475%)
benign test loss (after fedavg) 0.05139326496869326
benign test acc (after fedavg) 98.4475
Test set:local_Trigger0Poison Accuracy: 232/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 492/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1517/4000 (38%)
Test set:Main Accuracy: 39379/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1609/4000 (40%)
Done in 11.372746467590332 sec.
select client [679, 817, 151, 658, 74, 680, 276, 964, 157, 217]
l2 norm of benign user before server clipping 0.003644229163182899
l2 norm of benign user after server clipping 0.003644229163182899
___Test : epoch: 2183: Average loss: 0.0514, Accuracy: 39380/40000.0 (98.4500%)
benign test loss (after fedavg) 0.05142230866998434
benign test acc (after fedavg) 98.45
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 483/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1511/4000 (38%)
Test set:Main Accuracy: 39380/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1602/4000 (40%)
Done in 11.210371494293213 sec.
select client [73, 448, 653, 784, 986, 760, 204, 736, 898, 202]
l2 norm of benign user before server clipping 0.00456735051702708
l2 norm of benign user after server clipping 0.00456735051702708
___Test : epoch: 2184: Average loss: 0.0513, Accuracy: 39382/40000.0 (98.4550%)
benign test loss (after fedavg) 0.051251507483422755
benign test acc (after fedavg) 98.455
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 498/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1525/4000 (38%)
Test set:Main Accuracy: 39382/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1617/4000 (40%)
Done in 11.298806190490723 sec.
select client [448, 250, 645, 68, 432, 799, 565, 492, 714, 251]
l2 norm of benign user before server clipping 0.005310009466484189
l2 norm of benign user after server clipping 0.005310009466484189
___Test : epoch: 2185: Average loss: 0.0515, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05147134992182255
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 520/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1551/4000 (39%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1678/4000 (42%)
Done in 11.467487573623657 sec.
select client [766, 141, 468, 240, 170, 144, 172, 319, 472, 902]
l2 norm of benign user before server clipping 0.006645928719080985
l2 norm of benign user after server clipping 0.006645928719080985
___Test : epoch: 2186: Average loss: 0.0521, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052130517078191045
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 198/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 477/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1479/4000 (37%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1659/4000 (41%)
Done in 11.39780879020691 sec.
select client [68, 92, 415, 845, 496, 878, 930, 17, 429, 923]
l2 norm of benign user before server clipping 0.004219197365455329
l2 norm of benign user after server clipping 0.004219197365455329
___Test : epoch: 2187: Average loss: 0.0521, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.052069504301995036
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 195/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 485/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1489/4000 (37%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1683/4000 (42%)
Done in 11.37316346168518 sec.
select client [181, 148, 736, 95, 566, 486, 620, 25, 925, 349]
l2 norm of benign user before server clipping 0.005281144217588007
l2 norm of benign user after server clipping 0.005281144217588007
___Test : epoch: 2188: Average loss: 0.0522, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052229654976725576
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 178/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 458/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1450/4000 (36%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1693/4000 (42%)
Done in 11.343108177185059 sec.
select client [912, 933, 246, 18, 416, 589, 835, 547, 93, 952]
l2 norm of benign user before server clipping 0.0046272511593997475
l2 norm of benign user after server clipping 0.0046272511593997475
___Test : epoch: 2189: Average loss: 0.0524, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.052421885615587235
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 169/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 434/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1421/4000 (36%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1682/4000 (42%)
Done in 11.288446187973022 sec.
select client [86, 736, 910, 875, 759, 340, 425, 969, 918, 206]
l2 norm of benign user before server clipping 0.004720515024382621
l2 norm of benign user after server clipping 0.004720515024382621
___Test : epoch: 2190: Average loss: 0.0527, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05271520468294621
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 163/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 428/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1414/4000 (35%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1696/4000 (42%)
Done in 11.341018199920654 sec.
select client [369, 104, 752, 715, 689, 643, 570, 960, 422, 83]
l2 norm of benign user before server clipping 0.00603445137385279
l2 norm of benign user after server clipping 0.00603445137385279
___Test : epoch: 2191: Average loss: 0.0523, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05231424231678247
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 166/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 452/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1442/4000 (36%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1708/4000 (43%)
Done in 11.351251125335693 sec.
select client [715, 583, 369, 710, 255, 994, 132, 40, 712, 447]
l2 norm of benign user before server clipping 0.005353437992744148
l2 norm of benign user after server clipping 0.005353437992744148
___Test : epoch: 2192: Average loss: 0.0521, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05213642111644149
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 164/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 447/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1441/4000 (36%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1681/4000 (42%)
Done in 11.51134467124939 sec.
select client [125, 840, 172, 650, 654, 493, 213, 931, 910, 475]
l2 norm of benign user before server clipping 0.005194619880057871
l2 norm of benign user after server clipping 0.005194619880057871
___Test : epoch: 2193: Average loss: 0.0521, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05210505296587944
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 180/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 463/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1475/4000 (37%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1698/4000 (42%)
Done in 11.433190107345581 sec.
select client [39, 78, 401, 256, 344, 170, 319, 310, 380, 227]
l2 norm of benign user before server clipping 0.005267906119115651
l2 norm of benign user after server clipping 0.005267906119115651
___Test : epoch: 2194: Average loss: 0.0521, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052055005047470335
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 469/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1472/4000 (37%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1627/4000 (41%)
Done in 11.525339603424072 sec.
select client [703, 479, 226, 413, 507, 927, 836, 231, 270, 19]
l2 norm of benign user before server clipping 0.004098285088548437
l2 norm of benign user after server clipping 0.004098285088548437
___Test : epoch: 2195: Average loss: 0.0517, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.0517438882060349
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 198/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 502/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1520/4000 (38%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1680/4000 (42%)
Done in 11.367479801177979 sec.
select client [180, 717, 62, 201, 293, 317, 83, 442, 124, 414]
l2 norm of benign user before server clipping 0.006127337523503229
l2 norm of benign user after server clipping 0.006127337523503229
___Test : epoch: 2196: Average loss: 0.0518, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05181169201657176
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 178/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 461/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1472/4000 (37%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1686/4000 (42%)
Done in 11.407904148101807 sec.
select client [610, 570, 948, 771, 221, 35, 556, 722, 57, 74]
l2 norm of benign user before server clipping 0.005548382620327174
l2 norm of benign user after server clipping 0.005548382620327174
___Test : epoch: 2197: Average loss: 0.0514, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.05137723005637527
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 491/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1511/4000 (38%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1696/4000 (42%)
Done in 11.526651620864868 sec.
select client [908, 122, 931, 383, 834, 648, 82, 599, 94, 799]
l2 norm of benign user before server clipping 0.0062119039241224526
l2 norm of benign user after server clipping 0.0062119039241224526
___Test : epoch: 2198: Average loss: 0.0514, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.05140082494989037
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 484/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1501/4000 (38%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1658/4000 (41%)
Done in 11.276809692382812 sec.
select client [857, 568, 624, 367, 455, 355, 980, 470, 974, 499]
l2 norm of benign user before server clipping 0.004490755405277014
l2 norm of benign user after server clipping 0.004490755405277014
___Test : epoch: 2199: Average loss: 0.0515, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.051514002580195666
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 183/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 473/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1493/4000 (37%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1661/4000 (42%)
Done in 11.498474836349487 sec.
select client [455, 788, 862, 824, 77, 443, 534, 333, 575, 109]
l2 norm of benign user before server clipping 0.005391706095542759
l2 norm of benign user after server clipping 0.005391706095542759
___Test : epoch: 2200: Average loss: 0.0515, Accuracy: 39378/40000.0 (98.4450%)
benign test loss (after fedavg) 0.05146615703999996
benign test acc (after fedavg) 98.44500000000001
Test set:local_Trigger0Poison Accuracy: 185/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 462/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1484/4000 (37%)
Test set:Main Accuracy: 39378/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1665/4000 (42%)
Done in 11.342013835906982 sec.
select client [696, 881, 893, 371, 611, 219, 447, 460, 851, 629]
l2 norm of benign user before server clipping 0.0050636425381526354
l2 norm of benign user after server clipping 0.0050636425381526354
___Test : epoch: 2201: Average loss: 0.0513, Accuracy: 39381/40000.0 (98.4525%)
benign test loss (after fedavg) 0.05129384703934193
benign test acc (after fedavg) 98.4525
Test set:local_Trigger0Poison Accuracy: 206/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 512/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1589/4000 (40%)
Test set:Main Accuracy: 39381/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1736/4000 (43%)
Done in 11.4852454662323 sec.
select client [629, 837, 146, 916, 761, 22, 756, 236, 224, 750]
l2 norm of benign user before server clipping 0.004939611908048392
l2 norm of benign user after server clipping 0.004939611908048392
___Test : epoch: 2202: Average loss: 0.0514, Accuracy: 39380/40000.0 (98.4500%)
benign test loss (after fedavg) 0.05136128153949976
benign test acc (after fedavg) 98.45
Test set:local_Trigger0Poison Accuracy: 213/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 504/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1582/4000 (40%)
Test set:Main Accuracy: 39380/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1711/4000 (43%)
Done in 11.440422058105469 sec.
select client [719, 474, 168, 505, 216, 383, 238, 193, 50, 148]
l2 norm of benign user before server clipping 0.00560989563819021
l2 norm of benign user after server clipping 0.00560989563819021
___Test : epoch: 2203: Average loss: 0.0514, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.051410788071155546
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 215/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 504/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1590/4000 (40%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1722/4000 (43%)
Done in 11.560927629470825 sec.
select client [869, 466, 900, 832, 559, 390, 178, 37, 209, 199]
l2 norm of benign user before server clipping 0.005598217307124287
l2 norm of benign user after server clipping 0.005598217307124287
___Test : epoch: 2204: Average loss: 0.0513, Accuracy: 39377/40000.0 (98.4425%)
benign test loss (after fedavg) 0.0512978769376874
benign test acc (after fedavg) 98.4425
Test set:local_Trigger0Poison Accuracy: 201/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 469/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1551/4000 (39%)
Test set:Main Accuracy: 39377/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1641/4000 (41%)
Done in 11.562247276306152 sec.
select client [828, 439, 766, 527, 755, 318, 732, 830, 316, 992]
l2 norm of benign user before server clipping 0.0058817096753045915
l2 norm of benign user after server clipping 0.0058817096753045915
___Test : epoch: 2205: Average loss: 0.0512, Accuracy: 39381/40000.0 (98.4525%)
benign test loss (after fedavg) 0.05121286417171359
benign test acc (after fedavg) 98.4525
Test set:local_Trigger0Poison Accuracy: 195/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 457/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1514/4000 (38%)
Test set:Main Accuracy: 39381/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1603/4000 (40%)
Done in 11.585946798324585 sec.
select client [569, 227, 866, 419, 209, 454, 99, 228, 881, 98]
l2 norm of benign user before server clipping 0.005833926517516375
l2 norm of benign user after server clipping 0.005833926517516375
___Test : epoch: 2206: Average loss: 0.0512, Accuracy: 39379/40000.0 (98.4475%)
benign test loss (after fedavg) 0.051218327064812184
benign test acc (after fedavg) 98.4475
Test set:local_Trigger0Poison Accuracy: 191/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 448/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1504/4000 (38%)
Test set:Main Accuracy: 39379/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1559/4000 (39%)
Done in 11.442154884338379 sec.
select client [502, 774, 754, 411, 476, 93, 422, 161, 539, 275]
l2 norm of benign user before server clipping 0.003806856507435441
l2 norm of benign user after server clipping 0.003806856507435441
___Test : epoch: 2207: Average loss: 0.0512, Accuracy: 39382/40000.0 (98.4550%)
benign test loss (after fedavg) 0.05121036731153727
benign test acc (after fedavg) 98.455
Test set:local_Trigger0Poison Accuracy: 184/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 433/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1471/4000 (37%)
Test set:Main Accuracy: 39382/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1550/4000 (39%)
Done in 11.33640456199646 sec.
select client [599, 413, 633, 196, 686, 331, 899, 793, 454, 121]
l2 norm of benign user before server clipping 0.004353125859051943
l2 norm of benign user after server clipping 0.004353125859051943
___Test : epoch: 2208: Average loss: 0.0511, Accuracy: 39377/40000.0 (98.4425%)
benign test loss (after fedavg) 0.05105402870997786
benign test acc (after fedavg) 98.4425
Test set:local_Trigger0Poison Accuracy: 184/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 440/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1481/4000 (37%)
Test set:Main Accuracy: 39377/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1565/4000 (39%)
Done in 11.388562440872192 sec.
select client [345, 307, 713, 757, 988, 855, 623, 151, 671, 962]
l2 norm of benign user before server clipping 0.0052197014039848
l2 norm of benign user after server clipping 0.0052197014039848
--------------------------------------------------------------------

/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
/home/hjb/src/backup/fed_learning_test/saved_models/lenet/emnist_lenet_Snorm_1_checkpoint_model_epoch_1950.pth
load data succeeded
init Tensor Board succeeded
___Test : epoch: 0: Average loss: 0.0570, Accuracy: 39299/40000.0 (98.2475%)
Origin Pretrained Model: benign test loss (after fedavg) 0.05704424796551466
Origin Pretrained Model: benign test acc (after fedavg) 98.2475
select client [245, 325, 493, 538, 491, 162, 690, 158, 180, 738]
l2 norm of benign user before server clipping 0.35936531126499177
l2 norm of benign user after server clipping 0.32985545694828033
/home/hjb/src/eminist_util.py:252: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  update_per_layer = torch.tensor(update_per_layer, dtype=data.dtype)
___Test : epoch: 1950: Average loss: 0.1491, Accuracy: 38146/40000.0 (95.3650%)
benign test loss (after fedavg) 0.14907170709967613
benign test acc (after fedavg) 95.365
Done in 2.649742841720581 sec.
select client [438, 835, 663, 790, 727, 483, 80, 995, 334, 480]
l2 norm of benign user before server clipping 0.24764554351568221
l2 norm of benign user after server clipping 0.24764554351568221
___Test : epoch: 1951: Average loss: 0.0800, Accuracy: 39015/40000.0 (97.5375%)
benign test loss (after fedavg) 0.08000702629983425
benign test acc (after fedavg) 97.5375
Done in 2.6778831481933594 sec.
select client [171, 246, 515, 51, 686, 248, 947, 966, 358, 219]
l2 norm of benign user before server clipping 0.16461089998483658
l2 norm of benign user after server clipping 0.16461089998483658
___Test : epoch: 1952: Average loss: 0.0743, Accuracy: 39057/40000.0 (97.6425%)
benign test loss (after fedavg) 0.07431874710023403
benign test acc (after fedavg) 97.6425
Done in 2.358920097351074 sec.
select client [141, 727, 604, 587, 143, 629, 70, 892, 795, 77]
l2 norm of benign user before server clipping 0.20620567873120307
l2 norm of benign user after server clipping 0.20620567873120307
___Test : epoch: 1953: Average loss: 0.0727, Accuracy: 39082/40000.0 (97.7050%)
benign test loss (after fedavg) 0.07266454436033964
benign test acc (after fedavg) 97.705
Done in 2.468177556991577 sec.
select client [865, 879, 400, 355, 324, 167, 512, 983, 10, 477]
l2 norm of benign user before server clipping 0.17789123132824897
l2 norm of benign user after server clipping 0.17789123132824897
___Test : epoch: 1954: Average loss: 0.0702, Accuracy: 39167/40000.0 (97.9175%)
benign test loss (after fedavg) 0.07019794143140316
benign test acc (after fedavg) 97.9175
Done in 2.614774703979492 sec.
select client [741, 134, 359, 424, 787, 970, 991, 422, 292]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.26448558105362785
l2 norm of benign user after server clipping 0.23597646090719435
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger0 loss tensor(4.5385, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.4577, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.1535, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(3.0512, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger0 loss tensor(2.9537, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.192605
Poison Train Epoch: 1 	Loss: 0.175785
Poison Train Epoch: 2 	Loss: 0.107976
Poison Train Epoch: 3 	Loss: 0.054053
Poison Train Epoch: 4 	Loss: 0.072361
Poison Train Epoch: 5 	Loss: 0.038792
Poison Train Epoch: 6 	Loss: 0.010208
Poison Train Epoch: 7 	Loss: 0.033787
Poison Train Epoch: 8 	Loss: 0.088853
Poison Train Epoch: 9 	Loss: 0.001801
Poison Train Epoch: 10 	Loss: 0.020975
Poison Train Epoch: 11 	Loss: 0.042982
Poison Train Epoch: 12 	Loss: 0.025485
Poison Train Epoch: 13 	Loss: 0.156945
Poison Train Epoch: 14 	Loss: 0.074195
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1955: Average loss: 0.1386, Accuracy: 38215/40000.0 (95.5375%)
benign test loss (after fedavg) 0.13858750824928284
benign test acc (after fedavg) 95.5375
Done in 13.628628015518188 sec.
select client [123, 342, 785, 901, 453, 547, 972, 307, 166, 743]
l2 norm of benign user before server clipping 0.20790122747421264
l2 norm of benign user after server clipping 0.20790122747421264
___Test : epoch: 1956: Average loss: 0.0733, Accuracy: 39130/40000.0 (97.8250%)
benign test loss (after fedavg) 0.0733377519339323
benign test acc (after fedavg) 97.82499999999999
Done in 2.428379774093628 sec.
select client [45, 835, 883, 316, 813, 331, 141, 740, 598, 423]
l2 norm of benign user before server clipping 0.15642137527465821
l2 norm of benign user after server clipping 0.15642137527465821
___Test : epoch: 1957: Average loss: 0.0674, Accuracy: 39188/40000.0 (97.9700%)
benign test loss (after fedavg) 0.06739250128567219
benign test acc (after fedavg) 97.97
Done in 2.5584914684295654 sec.
select client [777, 251, 104, 247, 585, 867, 630, 388, 187, 671]
l2 norm of benign user before server clipping 0.17550352960824966
l2 norm of benign user after server clipping 0.17550352960824966
___Test : epoch: 1958: Average loss: 0.0682, Accuracy: 39158/40000.0 (97.8950%)
benign test loss (after fedavg) 0.06822569340467453
benign test acc (after fedavg) 97.895
Done in 2.689321279525757 sec.
select client [443, 30, 69, 315, 598, 265, 99, 68, 583, 677]
l2 norm of benign user before server clipping 0.14045158252120019
l2 norm of benign user after server clipping 0.14045158252120019
___Test : epoch: 1959: Average loss: 0.0679, Accuracy: 39124/40000.0 (97.8100%)
benign test loss (after fedavg) 0.06790180298238993
benign test acc (after fedavg) 97.81
Done in 2.2763679027557373 sec.
select client [906, 500, 253, 271, 127, 369, 543, 746, 37]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14798806690507466
l2 norm of benign user after server clipping 0.14798806690507466
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger1 loss tensor(7.5625, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(4.8998, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(2.9834, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(1.6927, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger1 loss tensor(0.9622, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.165851
Poison Train Epoch: 1 	Loss: 0.013704
Poison Train Epoch: 2 	Loss: 0.068858
Poison Train Epoch: 3 	Loss: 0.017249
Poison Train Epoch: 4 	Loss: 0.100083
Poison Train Epoch: 5 	Loss: 0.185997
Poison Train Epoch: 6 	Loss: 0.295408
Poison Train Epoch: 7 	Loss: 0.053966
Poison Train Epoch: 8 	Loss: 0.122403
Poison Train Epoch: 9 	Loss: 0.052334
Poison Train Epoch: 10 	Loss: 0.010730
Poison Train Epoch: 11 	Loss: 0.047106
Poison Train Epoch: 12 	Loss: 0.049497
Poison Train Epoch: 13 	Loss: 0.030996
Poison Train Epoch: 14 	Loss: 0.197818
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1960: Average loss: 0.0602, Accuracy: 39278/40000.0 (98.1950%)
benign test loss (after fedavg) 0.06020142763257027
benign test acc (after fedavg) 98.195
Done in 13.615496635437012 sec.
select client [308, 120, 221, 700, 133, 95, 815, 705, 476, 305]
l2 norm of benign user before server clipping 0.10652995593845845
l2 norm of benign user after server clipping 0.10652995593845845
___Test : epoch: 1961: Average loss: 0.0581, Accuracy: 39311/40000.0 (98.2775%)
benign test loss (after fedavg) 0.05814671819657087
benign test acc (after fedavg) 98.27749999999999
Done in 2.267491340637207 sec.
select client [984, 370, 69, 681, 706, 633, 993, 981, 164, 374]
l2 norm of benign user before server clipping 0.138784246891737
l2 norm of benign user after server clipping 0.138784246891737
___Test : epoch: 1962: Average loss: 0.0552, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.05523697751462459
benign test acc (after fedavg) 98.34
Done in 2.4525749683380127 sec.
select client [791, 427, 228, 434, 704, 182, 804, 699, 44, 352]
l2 norm of benign user before server clipping 0.12137327790260315
l2 norm of benign user after server clipping 0.12137327790260315
___Test : epoch: 1963: Average loss: 0.0724, Accuracy: 39121/40000.0 (97.8025%)
benign test loss (after fedavg) 0.07237082099467516
benign test acc (after fedavg) 97.80250000000001
Done in 2.4158782958984375 sec.
select client [700, 77, 447, 890, 953, 353, 719, 195, 574, 676]
l2 norm of benign user before server clipping 0.12908070534467697
l2 norm of benign user after server clipping 0.12908070534467697
___Test : epoch: 1964: Average loss: 0.0663, Accuracy: 39194/40000.0 (97.9850%)
benign test loss (after fedavg) 0.06632234259098768
benign test acc (after fedavg) 97.985
Done in 2.465477705001831 sec.
select client [210, 749, 999, 10, 844, 914, 764, 351, 423]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.14329408523109224
l2 norm of benign user after server clipping 0.14329408523109224
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger2 loss tensor(3.0020, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9846, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9832, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9828, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger2 loss tensor(2.9828, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.167505
Poison Train Epoch: 1 	Loss: 0.111313
Poison Train Epoch: 2 	Loss: 0.030994
Poison Train Epoch: 3 	Loss: 0.209922
Poison Train Epoch: 4 	Loss: 0.027777
Poison Train Epoch: 5 	Loss: 0.110420
Poison Train Epoch: 6 	Loss: 0.029210
Poison Train Epoch: 7 	Loss: 0.119993
Poison Train Epoch: 8 	Loss: 0.044216
Poison Train Epoch: 9 	Loss: 0.044037
Poison Train Epoch: 10 	Loss: 0.080612
Poison Train Epoch: 11 	Loss: 0.328451
Poison Train Epoch: 12 	Loss: 0.068745
Poison Train Epoch: 13 	Loss: 0.276205
Poison Train Epoch: 14 	Loss: 0.282293
Test set:local_Trigger2_localPoison Accuracy: 3910/4000 (98%)
___Test : epoch: 1965: Average loss: 0.0634, Accuracy: 39236/40000.0 (98.0900%)
benign test loss (after fedavg) 0.06335823756754398
benign test acc (after fedavg) 98.09
Done in 13.532044649124146 sec.
select client [545, 432, 975, 467, 544, 863, 669, 13, 522, 331]
l2 norm of benign user before server clipping 0.13587151989340782
l2 norm of benign user after server clipping 0.13587151989340782
___Test : epoch: 1966: Average loss: 0.0666, Accuracy: 39197/40000.0 (97.9925%)
benign test loss (after fedavg) 0.06657985337674618
benign test acc (after fedavg) 97.9925
Done in 2.432368755340576 sec.
select client [566, 854, 956, 111, 981, 310, 406, 473, 30, 26]
l2 norm of benign user before server clipping 0.11637823842465878
l2 norm of benign user after server clipping 0.11637823842465878
___Test : epoch: 1967: Average loss: 0.0616, Accuracy: 39240/40000.0 (98.1000%)
benign test loss (after fedavg) 0.06164742307662964
benign test acc (after fedavg) 98.1
Done in 2.3419411182403564 sec.
select client [985, 818, 477, 343, 230, 500, 37, 280, 318, 976]
l2 norm of benign user before server clipping 0.11577356494963169
l2 norm of benign user after server clipping 0.11577356494963169
___Test : epoch: 1968: Average loss: 0.0581, Accuracy: 39287/40000.0 (98.2175%)
benign test loss (after fedavg) 0.05811103448867798
benign test acc (after fedavg) 98.2175
Done in 2.379564046859741 sec.
select client [64, 787, 702, 367, 671, 404, 770, 745, 38, 306]
l2 norm of benign user before server clipping 0.11034876182675361
l2 norm of benign user after server clipping 0.11034876182675361
___Test : epoch: 1969: Average loss: 0.0619, Accuracy: 39238/40000.0 (98.0950%)
benign test loss (after fedavg) 0.06187066259235144
benign test acc (after fedavg) 98.095
Done in 2.426426410675049 sec.
select client [846, 657, 161, 444, 804, 328, 142, 481, 300]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.1450474974181917
l2 norm of benign user after server clipping 0.1450474974181917
Total Count of Neuro 44426
Selected Count of Neuro 219
Gen Trigger3 loss tensor(4.6930, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(4.4456, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(4.3097, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(4.2115, device='cuda:0', grad_fn=<AddBackward0>)
Gen Trigger3 loss tensor(4.1450, device='cuda:0', grad_fn=<AddBackward0>)
Poison Train Epoch: 0 	Loss: 0.074579
Poison Train Epoch: 1 	Loss: 0.120296
Poison Train Epoch: 2 	Loss: 0.141791
Poison Train Epoch: 3 	Loss: 0.088435
Poison Train Epoch: 4 	Loss: 0.084672
Poison Train Epoch: 5 	Loss: 0.102504
Poison Train Epoch: 6 	Loss: 0.011083
Poison Train Epoch: 7 	Loss: 0.019083
Poison Train Epoch: 8 	Loss: 0.049473
Poison Train Epoch: 9 	Loss: 0.026437
Poison Train Epoch: 10 	Loss: 0.006719
Poison Train Epoch: 11 	Loss: 0.084492
Poison Train Epoch: 12 	Loss: 0.075497
Poison Train Epoch: 13 	Loss: 0.080343
Poison Train Epoch: 14 	Loss: 0.075216
Test set:local_Trigger3_localPoison Accuracy: 3992/4000 (100%)
___Test : epoch: 1970: Average loss: 0.0590, Accuracy: 39270/40000.0 (98.1750%)
benign test loss (after fedavg) 0.05896983063966036
benign test acc (after fedavg) 98.175
Done in 13.307154417037964 sec.
select client [637, 796, 351, 825, 501, 51, 23, 671, 566, 394]
l2 norm of benign user before server clipping 0.10903959199786187
l2 norm of benign user after server clipping 0.10903959199786187
___Test : epoch: 1971: Average loss: 0.0579, Accuracy: 39271/40000.0 (98.1775%)
benign test loss (after fedavg) 0.05790569855570793
benign test acc (after fedavg) 98.1775
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 70/4000 (2%)
Test set:Main Accuracy: 39271/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.57700228691101 sec.
select client [751, 453, 863, 552, 896, 738, 463, 665, 634, 572]
l2 norm of benign user before server clipping 0.11549316868185996
l2 norm of benign user after server clipping 0.11549316868185996
___Test : epoch: 1972: Average loss: 0.0566, Accuracy: 39312/40000.0 (98.2800%)
benign test loss (after fedavg) 0.056602534399926664
benign test acc (after fedavg) 98.28
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 22/4000 (1%)
Test set:Main Accuracy: 39312/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.492794513702393 sec.
select client [530, 48, 643, 285, 189, 210, 407, 34, 42, 306]
l2 norm of benign user before server clipping 0.1206344909965992
l2 norm of benign user after server clipping 0.1206344909965992
___Test : epoch: 1973: Average loss: 0.0575, Accuracy: 39285/40000.0 (98.2125%)
benign test loss (after fedavg) 0.05746967411264777
benign test acc (after fedavg) 98.2125
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 124/4000 (3%)
Test set:Main Accuracy: 39285/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.602668285369873 sec.
select client [911, 932, 843, 494, 586, 348, 481, 958, 604, 733]
l2 norm of benign user before server clipping 0.10637154877185821
l2 norm of benign user after server clipping 0.10637154877185821
___Test : epoch: 1974: Average loss: 0.0588, Accuracy: 39270/40000.0 (98.1750%)
benign test loss (after fedavg) 0.05875626765191555
benign test acc (after fedavg) 98.175
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 50/4000 (1%)
Test set:Main Accuracy: 39270/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.542094469070435 sec.
select client [905, 507, 632, 448, 119, 100, 82, 483, 410]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.10379447581039535
l2 norm of benign user after server clipping 0.10379447581039535
Poison Train Epoch: 0 	Loss: 0.126842
Poison Train Epoch: 1 	Loss: 0.201622
Poison Train Epoch: 2 	Loss: 0.052185
Poison Train Epoch: 3 	Loss: 0.092585
Poison Train Epoch: 4 	Loss: 0.047473
Poison Train Epoch: 5 	Loss: 0.184931
Poison Train Epoch: 6 	Loss: 0.083849
Poison Train Epoch: 7 	Loss: 0.122824
Poison Train Epoch: 8 	Loss: 0.043958
Poison Train Epoch: 9 	Loss: 0.089941
Poison Train Epoch: 10 	Loss: 0.109900
Poison Train Epoch: 11 	Loss: 0.081679
Poison Train Epoch: 12 	Loss: 0.019859
Poison Train Epoch: 13 	Loss: 0.014812
Poison Train Epoch: 14 	Loss: 0.011602
Test set:local_Trigger0_localPoison Accuracy: 3995/4000 (100%)
___Test : epoch: 1975: Average loss: 0.0543, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05432291666567326
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 80/4000 (2%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.999454498291016 sec.
select client [469, 900, 957, 46, 717, 616, 357, 837, 662, 422]
l2 norm of benign user before server clipping 0.0953671608120203
l2 norm of benign user after server clipping 0.0953671608120203
___Test : epoch: 1976: Average loss: 0.0570, Accuracy: 39305/40000.0 (98.2625%)
benign test loss (after fedavg) 0.05703210786879063
benign test acc (after fedavg) 98.2625
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 33/4000 (1%)
Test set:Main Accuracy: 39305/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.572183609008789 sec.
select client [713, 519, 68, 971, 277, 147, 891, 721, 547, 729]
l2 norm of benign user before server clipping 0.08253534510731697
l2 norm of benign user after server clipping 0.08253534510731697
___Test : epoch: 1977: Average loss: 0.0552, Accuracy: 39316/40000.0 (98.2900%)
benign test loss (after fedavg) 0.05524384967982769
benign test acc (after fedavg) 98.29
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 55/4000 (1%)
Test set:Main Accuracy: 39316/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.601886749267578 sec.
select client [897, 638, 411, 424, 310, 164, 246, 512, 509, 841]
l2 norm of benign user before server clipping 0.08836960531771183
l2 norm of benign user after server clipping 0.08836960531771183
___Test : epoch: 1978: Average loss: 0.0569, Accuracy: 39289/40000.0 (98.2225%)
benign test loss (after fedavg) 0.05689642899930477
benign test acc (after fedavg) 98.2225
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 32/4000 (1%)
Test set:Main Accuracy: 39289/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.564330101013184 sec.
select client [190, 767, 803, 862, 585, 646, 73, 684, 536, 936]
l2 norm of benign user before server clipping 0.10268961004912854
l2 norm of benign user after server clipping 0.10268961004912854
___Test : epoch: 1979: Average loss: 0.0560, Accuracy: 39318/40000.0 (98.2950%)
benign test loss (after fedavg) 0.05597296086251736
benign test acc (after fedavg) 98.295
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 30/4000 (1%)
Test set:Main Accuracy: 39318/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.546720743179321 sec.
select client [214, 489, 93, 716, 518, 651, 85, 202, 721]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.07844824778536956
l2 norm of benign user after server clipping 0.07844824778536956
Poison Train Epoch: 0 	Loss: 0.354002
Poison Train Epoch: 1 	Loss: 0.434221
Poison Train Epoch: 2 	Loss: 0.095743
Poison Train Epoch: 3 	Loss: 0.141939
Poison Train Epoch: 4 	Loss: 0.032985
Poison Train Epoch: 5 	Loss: 0.018500
Poison Train Epoch: 6 	Loss: 0.134924
Poison Train Epoch: 7 	Loss: 0.191338
Poison Train Epoch: 8 	Loss: 0.014842
Poison Train Epoch: 9 	Loss: 0.049012
Poison Train Epoch: 10 	Loss: 0.030673
Poison Train Epoch: 11 	Loss: 0.114497
Poison Train Epoch: 12 	Loss: 0.056232
Poison Train Epoch: 13 	Loss: 0.086594
Poison Train Epoch: 14 	Loss: 0.020583
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 1980: Average loss: 0.0559, Accuracy: 39297/40000.0 (98.2425%)
benign test loss (after fedavg) 0.055868258135020735
benign test acc (after fedavg) 98.24249999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 36/4000 (1%)
Test set:Main Accuracy: 39297/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.904014825820923 sec.
select client [717, 764, 980, 755, 884, 324, 494, 433, 627, 858]
l2 norm of benign user before server clipping 0.07498055174946786
l2 norm of benign user after server clipping 0.07498055174946786
___Test : epoch: 1981: Average loss: 0.0534, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.05342053535729647
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 32/4000 (1%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.5531747341156 sec.
select client [479, 77, 865, 317, 384, 892, 937, 583, 32, 427]
l2 norm of benign user before server clipping 0.06398667022585869
l2 norm of benign user after server clipping 0.06398667022585869
___Test : epoch: 1982: Average loss: 0.0595, Accuracy: 39231/40000.0 (98.0775%)
benign test loss (after fedavg) 0.05951806543469429
benign test acc (after fedavg) 98.0775
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 32/4000 (1%)
Test set:Main Accuracy: 39231/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.34691834449768 sec.
select client [332, 540, 256, 980, 246, 453, 63, 951, 512, 287]
l2 norm of benign user before server clipping 0.07693415135145187
l2 norm of benign user after server clipping 0.07693415135145187
___Test : epoch: 1983: Average loss: 0.0528, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.052771948919445276
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 57/4000 (1%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.537317991256714 sec.
select client [129, 26, 676, 554, 456, 564, 107, 434, 334, 573]
l2 norm of benign user before server clipping 0.06898424625396729
l2 norm of benign user after server clipping 0.06898424625396729
___Test : epoch: 1984: Average loss: 0.0560, Accuracy: 39298/40000.0 (98.2450%)
benign test loss (after fedavg) 0.05599318333417177
benign test acc (after fedavg) 98.245
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 28/4000 (1%)
Test set:Main Accuracy: 39298/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.611523628234863 sec.
select client [787, 97, 862, 997, 32, 356, 728, 803, 418]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0754210390150547
l2 norm of benign user after server clipping 0.0754210390150547
Poison Train Epoch: 0 	Loss: 0.034915
Poison Train Epoch: 1 	Loss: 0.028399
Poison Train Epoch: 2 	Loss: 0.300455
Poison Train Epoch: 3 	Loss: 0.065086
Poison Train Epoch: 4 	Loss: 0.047096
Poison Train Epoch: 5 	Loss: 0.021878
Poison Train Epoch: 6 	Loss: 0.038189
Poison Train Epoch: 7 	Loss: 0.046481
Poison Train Epoch: 8 	Loss: 0.072934
Poison Train Epoch: 9 	Loss: 0.043646
Poison Train Epoch: 10 	Loss: 0.013071
Poison Train Epoch: 11 	Loss: 0.005049
Poison Train Epoch: 12 	Loss: 0.110565
Poison Train Epoch: 13 	Loss: 0.060363
Poison Train Epoch: 14 	Loss: 0.109920
Test set:local_Trigger2_localPoison Accuracy: 3906/4000 (98%)
___Test : epoch: 1985: Average loss: 0.0605, Accuracy: 39273/40000.0 (98.1825%)
benign test loss (after fedavg) 0.06049610812366009
benign test acc (after fedavg) 98.18249999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 261/4000 (7%)
Test set:Main Accuracy: 39273/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.19456458091736 sec.
select client [510, 975, 711, 824, 37, 422, 550, 694, 504, 89]
l2 norm of benign user before server clipping 0.061776605993509294
l2 norm of benign user after server clipping 0.061776605993509294
___Test : epoch: 1986: Average loss: 0.0530, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05295537264794111
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 79/4000 (2%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.47777509689331 sec.
select client [736, 742, 677, 959, 656, 546, 136, 882, 815, 850]
l2 norm of benign user before server clipping 0.055293658189475535
l2 norm of benign user after server clipping 0.055293658189475535
___Test : epoch: 1987: Average loss: 0.0580, Accuracy: 39285/40000.0 (98.2125%)
benign test loss (after fedavg) 0.05796678757965565
benign test acc (after fedavg) 98.2125
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 37/4000 (1%)
Test set:Main Accuracy: 39285/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.52279782295227 sec.
select client [24, 214, 494, 972, 976, 153, 869, 844, 433, 885]
l2 norm of benign user before server clipping 0.057524015195667744
l2 norm of benign user after server clipping 0.057524015195667744
___Test : epoch: 1988: Average loss: 0.0556, Accuracy: 39312/40000.0 (98.2800%)
benign test loss (after fedavg) 0.055607289615273475
benign test acc (after fedavg) 98.28
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 62/4000 (2%)
Test set:Main Accuracy: 39312/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.453479766845703 sec.
select client [309, 712, 962, 254, 304, 34, 801, 632, 716, 520]
l2 norm of benign user before server clipping 0.049881607107818124
l2 norm of benign user after server clipping 0.049881607107818124
___Test : epoch: 1989: Average loss: 0.0537, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05367525998353958
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 70/4000 (2%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.487513065338135 sec.
select client [222, 938, 819, 634, 20, 500, 46, 922, 557]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.046177418902516365
l2 norm of benign user after server clipping 0.046177418902516365
Poison Train Epoch: 0 	Loss: 0.051593
Poison Train Epoch: 1 	Loss: 0.078873
Poison Train Epoch: 2 	Loss: 0.107836
Poison Train Epoch: 3 	Loss: 0.029989
Poison Train Epoch: 4 	Loss: 0.012905
Poison Train Epoch: 5 	Loss: 0.058125
Poison Train Epoch: 6 	Loss: 0.018086
Poison Train Epoch: 7 	Loss: 0.177194
Poison Train Epoch: 8 	Loss: 0.163633
Poison Train Epoch: 9 	Loss: 0.025778
Poison Train Epoch: 10 	Loss: 0.012736
Poison Train Epoch: 11 	Loss: 0.071835
Poison Train Epoch: 12 	Loss: 0.045591
Poison Train Epoch: 13 	Loss: 0.012610
Poison Train Epoch: 14 	Loss: 0.102104
Test set:local_Trigger3_localPoison Accuracy: 3997/4000 (100%)
___Test : epoch: 1990: Average loss: 0.0529, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05291028128117323
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 225/4000 (6%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 18.933454751968384 sec.
select client [416, 463, 310, 709, 174, 644, 757, 91, 287, 746]
l2 norm of benign user before server clipping 0.04526967406272888
l2 norm of benign user after server clipping 0.04526967406272888
___Test : epoch: 1991: Average loss: 0.0527, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05274393888115883
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 149/4000 (4%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.753257036209106 sec.
select client [875, 611, 364, 144, 239, 924, 762, 180, 870, 914]
l2 norm of benign user before server clipping 0.04164518415927887
l2 norm of benign user after server clipping 0.04164518415927887
___Test : epoch: 1992: Average loss: 0.0544, Accuracy: 39322/40000.0 (98.3050%)
benign test loss (after fedavg) 0.05438543459922075
benign test acc (after fedavg) 98.30499999999999
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 202/4000 (5%)
Test set:Main Accuracy: 39322/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.587446928024292 sec.
select client [11, 846, 436, 197, 212, 879, 718, 626, 342, 86]
l2 norm of benign user before server clipping 0.03558086678385734
l2 norm of benign user after server clipping 0.03558086678385734
___Test : epoch: 1993: Average loss: 0.0533, Accuracy: 39328/40000.0 (98.3200%)
benign test loss (after fedavg) 0.053255785685777664
benign test acc (after fedavg) 98.32
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 196/4000 (5%)
Test set:Main Accuracy: 39328/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.554786443710327 sec.
select client [451, 188, 562, 289, 757, 472, 471, 84, 446, 854]
l2 norm of benign user before server clipping 0.041928138025105
l2 norm of benign user after server clipping 0.041928138025105
___Test : epoch: 1994: Average loss: 0.0546, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.05461569099724293
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 99/4000 (2%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.633603811264038 sec.
select client [184, 513, 802, 343, 101, 599, 188, 821, 58]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.031067845308118396
l2 norm of benign user after server clipping 0.031067845308118396
Poison Train Epoch: 0 	Loss: 0.017388
Poison Train Epoch: 1 	Loss: 0.024666
Poison Train Epoch: 2 	Loss: 0.069913
Poison Train Epoch: 3 	Loss: 0.046016
Poison Train Epoch: 4 	Loss: 0.066816
Poison Train Epoch: 5 	Loss: 0.076653
Poison Train Epoch: 6 	Loss: 0.082575
Poison Train Epoch: 7 	Loss: 0.036654
Poison Train Epoch: 8 	Loss: 0.030753
Poison Train Epoch: 9 	Loss: 0.040937
Poison Train Epoch: 10 	Loss: 0.043373
Poison Train Epoch: 11 	Loss: 0.020304
Poison Train Epoch: 12 	Loss: 0.009103
Poison Train Epoch: 13 	Loss: 0.101672
Poison Train Epoch: 14 	Loss: 0.036505
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 1995: Average loss: 0.0557, Accuracy: 39298/40000.0 (98.2450%)
benign test loss (after fedavg) 0.05566134430766106
benign test acc (after fedavg) 98.245
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 97/4000 (2%)
Test set:Main Accuracy: 39298/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.094988346099854 sec.
select client [145, 292, 383, 212, 548, 367, 131, 101, 541, 652]
l2 norm of benign user before server clipping 0.03604243081063032
l2 norm of benign user after server clipping 0.03604243081063032
___Test : epoch: 1996: Average loss: 0.0542, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.05420658957362175
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 121/4000 (3%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.709257364273071 sec.
select client [278, 693, 855, 981, 25, 996, 561, 119, 962, 223]
l2 norm of benign user before server clipping 0.02094633039087057
l2 norm of benign user after server clipping 0.02094633039087057
___Test : epoch: 1997: Average loss: 0.0540, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.05398166520744562
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 4/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 99/4000 (2%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.534122943878174 sec.
select client [29, 99, 74, 387, 849, 703, 168, 802, 228, 679]
l2 norm of benign user before server clipping 0.012364909937605261
l2 norm of benign user after server clipping 0.012364909937605261
___Test : epoch: 1998: Average loss: 0.0531, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05312241495996713
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 110/4000 (3%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.407602310180664 sec.
select client [103, 570, 967, 408, 907, 726, 960, 759, 836, 70]
l2 norm of benign user before server clipping 0.0067696357145905495
l2 norm of benign user after server clipping 0.0067696357145905495
___Test : epoch: 1999: Average loss: 0.0525, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05250707962363958
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 0/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 117/4000 (3%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.561880111694336 sec.
select client [321, 827, 91, 516, 262, 283, 132, 557, 862]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007680318370047543
l2 norm of benign user after server clipping 0.007680318370047543
Poison Train Epoch: 0 	Loss: 0.092969
Poison Train Epoch: 1 	Loss: 0.239479
Poison Train Epoch: 2 	Loss: 0.034645
Poison Train Epoch: 3 	Loss: 0.007375
Poison Train Epoch: 4 	Loss: 0.012848
Poison Train Epoch: 5 	Loss: 0.041816
Poison Train Epoch: 6 	Loss: 0.029787
Poison Train Epoch: 7 	Loss: 0.016488
Poison Train Epoch: 8 	Loss: 0.033555
Poison Train Epoch: 9 	Loss: 0.060311
Poison Train Epoch: 10 	Loss: 0.024698
Poison Train Epoch: 11 	Loss: 0.031755
Poison Train Epoch: 12 	Loss: 0.061163
Poison Train Epoch: 13 	Loss: 0.050958
Poison Train Epoch: 14 	Loss: 0.051783
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2000: Average loss: 0.0529, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.052854979272186756
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 148/4000 (4%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 19.09005832672119 sec.
select client [243, 897, 881, 585, 937, 800, 823, 218, 321, 219]
l2 norm of benign user before server clipping 0.005726770078763366
l2 norm of benign user after server clipping 0.005726770078763366
___Test : epoch: 2001: Average loss: 0.0529, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05285906140506268
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.616024732589722 sec.
select client [936, 503, 895, 738, 995, 37, 934, 20, 699, 578]
l2 norm of benign user before server clipping 0.007715600193478167
l2 norm of benign user after server clipping 0.007715600193478167
___Test : epoch: 2002: Average loss: 0.0527, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05267098996341228
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 147/4000 (4%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.657732009887695 sec.
select client [490, 823, 286, 837, 43, 89, 875, 285, 755, 315]
l2 norm of benign user before server clipping 0.005280832154676318
l2 norm of benign user after server clipping 0.005280832154676318
___Test : epoch: 2003: Average loss: 0.0524, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.05243898937851191
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 2/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 154/4000 (4%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.644457578659058 sec.
select client [512, 353, 104, 779, 231, 449, 352, 581, 76, 62]
l2 norm of benign user before server clipping 0.005486480519175529
l2 norm of benign user after server clipping 0.005486480519175529
___Test : epoch: 2004: Average loss: 0.0531, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.053086482840776446
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger1Poison Accuracy: 3/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 135/4000 (3%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 0/4000 (0%)
Done in 11.45496392250061 sec.
select client [22, 250, 584, 199, 108, 74, 719, 353, 275]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004209837255378564
l2 norm of benign user after server clipping 0.004209837255378564
Poison Train Epoch: 0 	Loss: 0.038783
Poison Train Epoch: 1 	Loss: 0.093804
Poison Train Epoch: 2 	Loss: 0.099954
Poison Train Epoch: 3 	Loss: 0.021520
Poison Train Epoch: 4 	Loss: 0.135271
Poison Train Epoch: 5 	Loss: 0.130642
Poison Train Epoch: 6 	Loss: 0.018349
Poison Train Epoch: 7 	Loss: 0.053487
Poison Train Epoch: 8 	Loss: 0.061838
Poison Train Epoch: 9 	Loss: 0.091513
Poison Train Epoch: 10 	Loss: 0.045408
Poison Train Epoch: 11 	Loss: 0.005690
Poison Train Epoch: 12 	Loss: 0.592750
Poison Train Epoch: 13 	Loss: 0.035898
Poison Train Epoch: 14 	Loss: 0.117377
Test set:local_Trigger2_localPoison Accuracy: 3903/4000 (98%)
___Test : epoch: 2005: Average loss: 0.0544, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.05439581623226404
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 43/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 18/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 434/4000 (11%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 17/4000 (0%)
Done in 18.952222108840942 sec.
select client [152, 603, 293, 997, 105, 958, 871, 628, 330, 193]
l2 norm of benign user before server clipping 0.006252383952960372
l2 norm of benign user after server clipping 0.006252383952960372
___Test : epoch: 2006: Average loss: 0.0539, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05388794120103121
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 43/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 421/4000 (11%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 18/4000 (0%)
Done in 11.61735486984253 sec.
select client [65, 501, 709, 748, 625, 132, 504, 600, 952, 942]
l2 norm of benign user before server clipping 0.005097866826690734
l2 norm of benign user after server clipping 0.005097866826690734
___Test : epoch: 2007: Average loss: 0.0534, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.05341003101170063
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 36/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 385/4000 (10%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 15/4000 (0%)
Done in 11.533797264099121 sec.
select client [505, 205, 23, 901, 317, 728, 751, 602, 48, 576]
l2 norm of benign user before server clipping 0.005109860189259052
l2 norm of benign user after server clipping 0.005109860189259052
___Test : epoch: 2008: Average loss: 0.0534, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.05339878397285938
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 349/4000 (9%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 12/4000 (0%)
Done in 11.503652572631836 sec.
select client [108, 440, 184, 396, 66, 350, 579, 668, 753, 950]
l2 norm of benign user before server clipping 0.0052164951106533405
l2 norm of benign user after server clipping 0.0052164951106533405
___Test : epoch: 2009: Average loss: 0.0528, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.05279456509500742
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 28/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 323/4000 (8%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 12/4000 (0%)
Done in 11.536828756332397 sec.
select client [299, 587, 187, 936, 86, 761, 264, 21, 653]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.0056991971667028135
l2 norm of benign user after server clipping 0.0056991971667028135
Poison Train Epoch: 0 	Loss: 0.270112
Poison Train Epoch: 1 	Loss: 0.093967
Poison Train Epoch: 2 	Loss: 0.011962
Poison Train Epoch: 3 	Loss: 0.061046
Poison Train Epoch: 4 	Loss: 0.022477
Poison Train Epoch: 5 	Loss: 0.043361
Poison Train Epoch: 6 	Loss: 0.058577
Poison Train Epoch: 7 	Loss: 0.028061
Poison Train Epoch: 8 	Loss: 0.142762
Poison Train Epoch: 9 	Loss: 0.004529
Poison Train Epoch: 10 	Loss: 0.089005
Poison Train Epoch: 11 	Loss: 0.052506
Poison Train Epoch: 12 	Loss: 0.019126
Poison Train Epoch: 13 	Loss: 0.108826
Poison Train Epoch: 14 	Loss: 0.065113
Test set:local_Trigger3_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2010: Average loss: 0.0535, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.053534266903996465
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 37/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 20/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 798/4000 (20%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 45/4000 (1%)
Done in 19.090946197509766 sec.
select client [365, 576, 490, 796, 790, 899, 954, 318, 376, 127]
l2 norm of benign user before server clipping 0.003435912635177374
l2 norm of benign user after server clipping 0.003435912635177374
___Test : epoch: 2011: Average loss: 0.0531, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05313367680311203
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 31/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 770/4000 (19%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 42/4000 (1%)
Done in 11.469929218292236 sec.
select client [972, 686, 227, 582, 53, 965, 992, 465, 431, 415]
l2 norm of benign user before server clipping 0.0034844615729525685
l2 norm of benign user after server clipping 0.0034844615729525685
___Test : epoch: 2012: Average loss: 0.0530, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05302350991368294
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 27/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 740/4000 (18%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 39/4000 (1%)
Done in 11.557724714279175 sec.
select client [594, 192, 444, 579, 249, 52, 701, 940, 160, 519]
l2 norm of benign user before server clipping 0.006399262719787658
l2 norm of benign user after server clipping 0.006399262719787658
___Test : epoch: 2013: Average loss: 0.0529, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.052865902096778154
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 709/4000 (18%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 31/4000 (1%)
Done in 11.804831504821777 sec.
select client [801, 640, 526, 699, 254, 111, 591, 855, 979, 126]
l2 norm of benign user before server clipping 0.006521566887386143
l2 norm of benign user after server clipping 0.006521566887386143
___Test : epoch: 2014: Average loss: 0.0529, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.052891499617695806
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger1Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 656/4000 (16%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 33/4000 (1%)
Done in 11.736238718032837 sec.
select client [21, 212, 604, 700, 449, 692, 492, 148, 261]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00628805145000418
l2 norm of benign user after server clipping 0.00628805145000418
Poison Train Epoch: 0 	Loss: 0.024992
Poison Train Epoch: 1 	Loss: 0.110514
Poison Train Epoch: 2 	Loss: 0.041397
Poison Train Epoch: 3 	Loss: 0.055039
Poison Train Epoch: 4 	Loss: 0.043797
Poison Train Epoch: 5 	Loss: 0.037182
Poison Train Epoch: 6 	Loss: 0.013147
Poison Train Epoch: 7 	Loss: 0.010336
Poison Train Epoch: 8 	Loss: 0.018958
Poison Train Epoch: 9 	Loss: 0.117401
Poison Train Epoch: 10 	Loss: 0.009190
Poison Train Epoch: 11 	Loss: 0.012272
Poison Train Epoch: 12 	Loss: 0.137178
Poison Train Epoch: 13 	Loss: 0.044659
Poison Train Epoch: 14 	Loss: 0.032448
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2015: Average loss: 0.0533, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05331237071752548
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 182/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 778/4000 (19%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 65/4000 (2%)
Done in 19.014167547225952 sec.
select client [236, 386, 454, 124, 489, 35, 578, 268, 875, 606]
l2 norm of benign user before server clipping 0.008657309925183654
l2 norm of benign user after server clipping 0.008657309925183654
___Test : epoch: 2016: Average loss: 0.0531, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05313952736109495
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 171/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 705/4000 (18%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 65/4000 (2%)
Done in 11.808056354522705 sec.
select client [328, 258, 795, 174, 238, 204, 44, 20, 473, 443]
l2 norm of benign user before server clipping 0.0043988712248392405
l2 norm of benign user after server clipping 0.0043988712248392405
___Test : epoch: 2017: Average loss: 0.0530, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05299327061474323
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 174/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 716/4000 (18%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 62/4000 (2%)
Done in 11.583502769470215 sec.
select client [349, 769, 62, 214, 134, 489, 513, 142, 316, 240]
l2 norm of benign user before server clipping 0.007361906440928578
l2 norm of benign user after server clipping 0.007361906440928578
___Test : epoch: 2018: Average loss: 0.0530, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05300385184288025
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 157/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 701/4000 (18%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 63/4000 (2%)
Done in 11.671221256256104 sec.
select client [354, 253, 871, 732, 718, 541, 948, 311, 375, 63]
l2 norm of benign user before server clipping 0.004472847632132471
l2 norm of benign user after server clipping 0.004472847632132471
___Test : epoch: 2019: Average loss: 0.0529, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.052885610108077526
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 145/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 657/4000 (16%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 60/4000 (2%)
Done in 11.512618064880371 sec.
select client [25, 194, 94, 874, 325, 349, 612, 837, 981]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.00460506116764413
l2 norm of benign user after server clipping 0.00460506116764413
Poison Train Epoch: 0 	Loss: 0.130964
Poison Train Epoch: 1 	Loss: 0.097049
Poison Train Epoch: 2 	Loss: 0.072734
Poison Train Epoch: 3 	Loss: 0.036851
Poison Train Epoch: 4 	Loss: 0.018127
Poison Train Epoch: 5 	Loss: 0.024138
Poison Train Epoch: 6 	Loss: 0.017588
Poison Train Epoch: 7 	Loss: 0.089122
Poison Train Epoch: 8 	Loss: 0.067757
Poison Train Epoch: 9 	Loss: 0.067967
Poison Train Epoch: 10 	Loss: 0.005114
Poison Train Epoch: 11 	Loss: 0.033087
Poison Train Epoch: 12 	Loss: 0.029467
Poison Train Epoch: 13 	Loss: 0.044531
Poison Train Epoch: 14 	Loss: 0.019980
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2020: Average loss: 0.0532, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05322889233082533
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 151/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 336/4000 (8%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 729/4000 (18%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 522/4000 (13%)
Done in 19.065423727035522 sec.
select client [779, 12, 323, 846, 425, 926, 35, 626, 391, 181]
l2 norm of benign user before server clipping 0.014360470836982131
l2 norm of benign user after server clipping 0.014360470836982131
___Test : epoch: 2021: Average loss: 0.0561, Accuracy: 39301/40000.0 (98.2525%)
benign test loss (after fedavg) 0.05613222894072532
benign test acc (after fedavg) 98.2525
Test set:local_Trigger0Poison Accuracy: 147/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 274/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 618/4000 (15%)
Test set:Main Accuracy: 39301/40000 (98%)
Test set:Global Trigger Poison Accuracy: 473/4000 (12%)
Done in 11.740468740463257 sec.
select client [311, 422, 452, 485, 460, 777, 509, 439, 568, 125]
l2 norm of benign user before server clipping 0.006434614746831357
l2 norm of benign user after server clipping 0.006434614746831357
___Test : epoch: 2022: Average loss: 0.0550, Accuracy: 39321/40000.0 (98.3025%)
benign test loss (after fedavg) 0.05498383255004883
benign test acc (after fedavg) 98.30250000000001
Test set:local_Trigger0Poison Accuracy: 148/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 287/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 619/4000 (15%)
Test set:Main Accuracy: 39321/40000 (98%)
Test set:Global Trigger Poison Accuracy: 507/4000 (13%)
Done in 11.68533730506897 sec.
select client [780, 104, 565, 362, 237, 875, 295, 343, 71, 450]
l2 norm of benign user before server clipping 0.00570339469704777
l2 norm of benign user after server clipping 0.00570339469704777
___Test : epoch: 2023: Average loss: 0.0539, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.053873875690996643
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 143/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 269/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 639/4000 (16%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 480/4000 (12%)
Done in 11.495355129241943 sec.
select client [466, 354, 323, 571, 986, 686, 421, 676, 684, 851]
l2 norm of benign user before server clipping 0.0051705703255720435
l2 norm of benign user after server clipping 0.0051705703255720435
___Test : epoch: 2024: Average loss: 0.0537, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05373873766958714
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 140/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 268/4000 (7%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 622/4000 (16%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 483/4000 (12%)
Done in 11.646810054779053 sec.
select client [880, 279, 283, 843, 468, 866, 53, 797, 435]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.007699348472265733
l2 norm of benign user after server clipping 0.007699348472265733
Poison Train Epoch: 0 	Loss: 0.130633
Poison Train Epoch: 1 	Loss: 0.762295
Poison Train Epoch: 2 	Loss: 0.175237
Poison Train Epoch: 3 	Loss: 0.112489
Poison Train Epoch: 4 	Loss: 0.017709
Poison Train Epoch: 5 	Loss: 0.118591
Poison Train Epoch: 6 	Loss: 0.015696
Poison Train Epoch: 7 	Loss: 0.186825
Poison Train Epoch: 8 	Loss: 0.036948
Poison Train Epoch: 9 	Loss: 0.177777
Poison Train Epoch: 10 	Loss: 0.033219
Poison Train Epoch: 11 	Loss: 0.030554
Poison Train Epoch: 12 	Loss: 0.038982
Poison Train Epoch: 13 	Loss: 0.172831
Poison Train Epoch: 14 	Loss: 0.027773
Test set:local_Trigger2_localPoison Accuracy: 3913/4000 (98%)
___Test : epoch: 2025: Average loss: 0.0561, Accuracy: 39324/40000.0 (98.3100%)
benign test loss (after fedavg) 0.05609847631007433
benign test acc (after fedavg) 98.31
Test set:local_Trigger0Poison Accuracy: 294/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 562/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1091/4000 (27%)
Test set:Main Accuracy: 39324/40000 (98%)
Test set:Global Trigger Poison Accuracy: 721/4000 (18%)
Done in 19.211644411087036 sec.
select client [860, 59, 781, 560, 691, 514, 980, 330, 106, 214]
l2 norm of benign user before server clipping 0.005285668699070811
l2 norm of benign user after server clipping 0.005285668699070811
___Test : epoch: 2026: Average loss: 0.0553, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.055331684428453445
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 273/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 545/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 19/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1052/4000 (26%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 745/4000 (19%)
Done in 11.542745590209961 sec.
select client [970, 603, 765, 516, 701, 936, 375, 189, 828, 532]
l2 norm of benign user before server clipping 0.005181497801095248
l2 norm of benign user after server clipping 0.005181497801095248
___Test : epoch: 2027: Average loss: 0.0552, Accuracy: 39325/40000.0 (98.3125%)
benign test loss (after fedavg) 0.05523353692889214
benign test acc (after fedavg) 98.3125
Test set:local_Trigger0Poison Accuracy: 264/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1002/4000 (25%)
Test set:Main Accuracy: 39325/40000 (98%)
Test set:Global Trigger Poison Accuracy: 742/4000 (19%)
Done in 11.678235530853271 sec.
select client [749, 99, 64, 284, 71, 262, 238, 592, 109, 365]
l2 norm of benign user before server clipping 0.006580771948210895
l2 norm of benign user after server clipping 0.006580771948210895
___Test : epoch: 2028: Average loss: 0.0548, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.054802211011946204
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 227/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 459/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 923/4000 (23%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 632/4000 (16%)
Done in 11.682855367660522 sec.
select client [558, 46, 811, 470, 362, 382, 456, 993, 125, 697]
l2 norm of benign user before server clipping 0.004798127268441021
l2 norm of benign user after server clipping 0.004798127268441021
___Test : epoch: 2029: Average loss: 0.0547, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.05468261437267065
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 234/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 460/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 934/4000 (23%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 652/4000 (16%)
Done in 11.589177131652832 sec.
select client [63, 874, 672, 738, 322, 554, 185, 646, 82]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005096488748677075
l2 norm of benign user after server clipping 0.005096488748677075
Poison Train Epoch: 0 	Loss: 0.110252
Poison Train Epoch: 1 	Loss: 0.012431
Poison Train Epoch: 2 	Loss: 0.023883
Poison Train Epoch: 3 	Loss: 0.146971
Poison Train Epoch: 4 	Loss: 0.078002
Poison Train Epoch: 5 	Loss: 0.033921
Poison Train Epoch: 6 	Loss: 0.035791
Poison Train Epoch: 7 	Loss: 0.009213
Poison Train Epoch: 8 	Loss: 0.055884
Poison Train Epoch: 9 	Loss: 0.058944
Poison Train Epoch: 10 	Loss: 0.103588
Poison Train Epoch: 11 	Loss: 0.040070
Poison Train Epoch: 12 	Loss: 0.047598
Poison Train Epoch: 13 	Loss: 0.014817
Poison Train Epoch: 14 	Loss: 0.044932
Test set:local_Trigger3_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2030: Average loss: 0.0553, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05526983356922865
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 268/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 551/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 17/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1635/4000 (41%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1138/4000 (28%)
Done in 19.144846439361572 sec.
select client [56, 106, 764, 380, 18, 178, 915, 48, 386, 564]
l2 norm of benign user before server clipping 0.005958374915644526
l2 norm of benign user after server clipping 0.005958374915644526
___Test : epoch: 2031: Average loss: 0.0549, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.054904345208406445
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 237/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1566/4000 (39%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1110/4000 (28%)
Done in 11.545233011245728 sec.
select client [398, 824, 52, 571, 847, 454, 500, 964, 963, 692]
l2 norm of benign user before server clipping 0.00695450808852911
l2 norm of benign user after server clipping 0.00695450808852911
___Test : epoch: 2032: Average loss: 0.0542, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.054155944287776946
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 208/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 489/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1516/4000 (38%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1033/4000 (26%)
Done in 11.598998308181763 sec.
select client [70, 404, 181, 697, 552, 561, 627, 483, 895, 355]
l2 norm of benign user before server clipping 0.005697255022823811
l2 norm of benign user after server clipping 0.005697255022823811
___Test : epoch: 2033: Average loss: 0.0539, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05386888480037451
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 188/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 476/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1462/4000 (37%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1020/4000 (26%)
Done in 11.669320583343506 sec.
select client [435, 774, 173, 747, 113, 985, 109, 783, 655, 580]
l2 norm of benign user before server clipping 0.004477288050111383
l2 norm of benign user after server clipping 0.004477288050111383
___Test : epoch: 2034: Average loss: 0.0538, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.053752722911536696
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 181/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 461/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 10/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1431/4000 (36%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1050/4000 (26%)
Done in 11.489985227584839 sec.
select client [731, 813, 242, 987, 791, 998, 777, 628, 485]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005215401360247698
l2 norm of benign user after server clipping 0.005215401360247698
Poison Train Epoch: 0 	Loss: 0.113915
Poison Train Epoch: 1 	Loss: 0.014528
Poison Train Epoch: 2 	Loss: 0.077476
Poison Train Epoch: 3 	Loss: 0.044559
Poison Train Epoch: 4 	Loss: 0.005266
Poison Train Epoch: 5 	Loss: 0.030946
Poison Train Epoch: 6 	Loss: 0.085305
Poison Train Epoch: 7 	Loss: 0.101416
Poison Train Epoch: 8 	Loss: 0.032794
Poison Train Epoch: 9 	Loss: 0.087575
Poison Train Epoch: 10 	Loss: 0.027813
Poison Train Epoch: 11 	Loss: 0.116676
Poison Train Epoch: 12 	Loss: 0.131758
Poison Train Epoch: 13 	Loss: 0.003640
Poison Train Epoch: 14 	Loss: 0.049133
Test set:local_Trigger0_localPoison Accuracy: 3998/4000 (100%)
___Test : epoch: 2035: Average loss: 0.0549, Accuracy: 39336/40000.0 (98.3400%)
benign test loss (after fedavg) 0.054879201389104126
benign test acc (after fedavg) 98.34
Test set:local_Trigger0Poison Accuracy: 536/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 500/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1496/4000 (37%)
Test set:Main Accuracy: 39336/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1314/4000 (33%)
Done in 19.05335831642151 sec.
select client [587, 253, 396, 912, 53, 420, 889, 850, 905, 145]
l2 norm of benign user before server clipping 0.0058184785302728415
l2 norm of benign user after server clipping 0.0058184785302728415
___Test : epoch: 2036: Average loss: 0.0542, Accuracy: 39339/40000.0 (98.3475%)
benign test loss (after fedavg) 0.05420887314379215
benign test acc (after fedavg) 98.3475
Test set:local_Trigger0Poison Accuracy: 494/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 436/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1435/4000 (36%)
Test set:Main Accuracy: 39339/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1179/4000 (29%)
Done in 11.572266817092896 sec.
select client [541, 599, 789, 573, 179, 549, 516, 416, 844, 937]
l2 norm of benign user before server clipping 0.005778005882166326
l2 norm of benign user after server clipping 0.005778005882166326
___Test : epoch: 2037: Average loss: 0.0540, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.053963200926780704
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 478/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 421/4000 (11%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1388/4000 (35%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1172/4000 (29%)
Done in 11.717191696166992 sec.
select client [155, 307, 115, 736, 933, 166, 228, 487, 848, 353]
l2 norm of benign user before server clipping 0.007267055893316865
l2 norm of benign user after server clipping 0.007267055893316865
___Test : epoch: 2038: Average loss: 0.0532, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05322137499153614
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 469/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 364/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1326/4000 (33%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1045/4000 (26%)
Done in 11.643186092376709 sec.
select client [296, 520, 763, 482, 36, 576, 590, 370, 483, 593]
l2 norm of benign user before server clipping 0.005414744815789163
l2 norm of benign user after server clipping 0.005414744815789163
___Test : epoch: 2039: Average loss: 0.0531, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05306679676473141
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 453/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 347/4000 (9%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1288/4000 (32%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1048/4000 (26%)
Done in 11.574510097503662 sec.
select client [21, 148, 412, 638, 341, 58, 987, 789, 170]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.005995723548241788
l2 norm of benign user after server clipping 0.005995723548241788
Poison Train Epoch: 0 	Loss: 0.259194
Poison Train Epoch: 1 	Loss: 0.137187
Poison Train Epoch: 2 	Loss: 0.105977
Poison Train Epoch: 3 	Loss: 0.014499
Poison Train Epoch: 4 	Loss: 0.090492
Poison Train Epoch: 5 	Loss: 0.028890
Poison Train Epoch: 6 	Loss: 0.020063
Poison Train Epoch: 7 	Loss: 0.024091
Poison Train Epoch: 8 	Loss: 0.005980
Poison Train Epoch: 9 	Loss: 0.077382
Poison Train Epoch: 10 	Loss: 0.093801
Poison Train Epoch: 11 	Loss: 0.088859
Poison Train Epoch: 12 	Loss: 0.038377
Poison Train Epoch: 13 	Loss: 0.012625
Poison Train Epoch: 14 	Loss: 0.040467
Test set:local_Trigger1_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2040: Average loss: 0.0538, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.053839052452147006
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 443/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1265/4000 (32%)
Test set:local_Trigger2Poison Accuracy: 12/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1339/4000 (33%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2255/4000 (56%)
Done in 19.084678649902344 sec.
select client [50, 430, 558, 872, 487, 997, 213, 399, 936, 524]
l2 norm of benign user before server clipping 0.005186866642907262
l2 norm of benign user after server clipping 0.005186866642907262
___Test : epoch: 2041: Average loss: 0.0535, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05347202950417995
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 433/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1226/4000 (31%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1306/4000 (33%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2248/4000 (56%)
Done in 11.692931652069092 sec.
select client [466, 383, 227, 208, 556, 117, 560, 597, 698, 679]
l2 norm of benign user before server clipping 0.006115985475480557
l2 norm of benign user after server clipping 0.006115985475480557
___Test : epoch: 2042: Average loss: 0.0532, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05320071460679174
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 435/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1182/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1289/4000 (32%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2201/4000 (55%)
Done in 11.65790867805481 sec.
select client [523, 965, 503, 609, 338, 307, 558, 849, 856, 254]
l2 norm of benign user before server clipping 0.004887077293824404
l2 norm of benign user after server clipping 0.004887077293824404
___Test : epoch: 2043: Average loss: 0.0531, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.053050139410793784
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 424/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1179/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 9/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1262/4000 (32%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2219/4000 (55%)
Done in 11.432077407836914 sec.
select client [570, 914, 819, 517, 706, 257, 29, 66, 705, 416]
l2 norm of benign user before server clipping 0.006029371148906648
l2 norm of benign user after server clipping 0.006029371148906648
___Test : epoch: 2044: Average loss: 0.0527, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05271322019249201
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 404/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1146/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1226/4000 (31%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2183/4000 (55%)
Done in 11.616564512252808 sec.
select client [325, 978, 406, 924, 134, 507, 847, 394, 782]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.004170443358210226
l2 norm of benign user after server clipping 0.004170443358210226
Poison Train Epoch: 0 	Loss: 0.036445
Poison Train Epoch: 1 	Loss: 0.164138
Poison Train Epoch: 2 	Loss: 0.216832
Poison Train Epoch: 3 	Loss: 0.017728
Poison Train Epoch: 4 	Loss: 0.005468
Poison Train Epoch: 5 	Loss: 0.056879
Poison Train Epoch: 6 	Loss: 0.099328
Poison Train Epoch: 7 	Loss: 0.027480
Poison Train Epoch: 8 	Loss: 0.127053
Poison Train Epoch: 9 	Loss: 0.135189
Poison Train Epoch: 10 	Loss: 0.046651
Poison Train Epoch: 11 	Loss: 0.236580
Poison Train Epoch: 12 	Loss: 0.024497
Poison Train Epoch: 13 	Loss: 0.160301
Poison Train Epoch: 14 	Loss: 0.036269
Test set:local_Trigger2_localPoison Accuracy: 3910/4000 (98%)
___Test : epoch: 2045: Average loss: 0.0573, Accuracy: 39306/40000.0 (98.2650%)
benign test loss (after fedavg) 0.05729117706716061
benign test acc (after fedavg) 98.265
Test set:local_Trigger0Poison Accuracy: 690/4000 (17%)
Test set:local_Trigger1Poison Accuracy: 1622/4000 (41%)
Test set:local_Trigger2Poison Accuracy: 33/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1936/4000 (48%)
Test set:Main Accuracy: 39306/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2588/4000 (65%)
Done in 19.09797739982605 sec.
select client [224, 928, 881, 86, 13, 665, 201, 408, 575, 592]
l2 norm of benign user before server clipping 0.007160371565259993
l2 norm of benign user after server clipping 0.007160371565259993
___Test : epoch: 2046: Average loss: 0.0559, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05594386481791735
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 629/4000 (16%)
Test set:local_Trigger1Poison Accuracy: 1562/4000 (39%)
Test set:local_Trigger2Poison Accuracy: 21/4000 (1%)
Test set:local_Trigger3Poison Accuracy: 1805/4000 (45%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2574/4000 (64%)
Done in 11.662915229797363 sec.
select client [711, 910, 902, 449, 926, 735, 123, 124, 848, 185]
l2 norm of benign user before server clipping 0.006154964631423354
l2 norm of benign user after server clipping 0.006154964631423354
___Test : epoch: 2047: Average loss: 0.0553, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05526694503873587
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 591/4000 (15%)
Test set:local_Trigger1Poison Accuracy: 1528/4000 (38%)
Test set:local_Trigger2Poison Accuracy: 16/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1711/4000 (43%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2545/4000 (64%)
Done in 11.608516693115234 sec.
select client [265, 109, 332, 14, 493, 171, 441, 683, 345, 468]
l2 norm of benign user before server clipping 0.007043153862468898
l2 norm of benign user after server clipping 0.007043153862468898
___Test : epoch: 2048: Average loss: 0.0554, Accuracy: 39335/40000.0 (98.3375%)
benign test loss (after fedavg) 0.05544275795891881
benign test acc (after fedavg) 98.3375
Test set:local_Trigger0Poison Accuracy: 566/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 1477/4000 (37%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1621/4000 (41%)
Test set:Main Accuracy: 39335/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2478/4000 (62%)
Done in 11.646956443786621 sec.
select client [16, 101, 331, 50, 666, 242, 937, 968, 226, 832]
l2 norm of benign user before server clipping 0.005196090182289481
l2 norm of benign user after server clipping 0.005196090182289481
___Test : epoch: 2049: Average loss: 0.0550, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.054951604767143725
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 541/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 1431/4000 (36%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1534/4000 (38%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2437/4000 (61%)
Done in 11.547005653381348 sec.
select client [541, 820, 644, 122, 151, 942, 390, 742, 499]
------------------poisoning-------------------
l2 norm of benign user before server clipping 0.006049786306296785
l2 norm of benign user after server clipping 0.006049786306296785
Poison Train Epoch: 0 	Loss: 0.062308
Poison Train Epoch: 1 	Loss: 0.108186
Poison Train Epoch: 2 	Loss: 0.099412
Poison Train Epoch: 3 	Loss: 0.049989
Poison Train Epoch: 4 	Loss: 0.036136
Poison Train Epoch: 5 	Loss: 0.150174
Poison Train Epoch: 6 	Loss: 0.033553
Poison Train Epoch: 7 	Loss: 0.007308
Poison Train Epoch: 8 	Loss: 0.003265
Poison Train Epoch: 9 	Loss: 0.006629
Poison Train Epoch: 10 	Loss: 0.143693
Poison Train Epoch: 11 	Loss: 0.032871
Poison Train Epoch: 12 	Loss: 0.039422
Poison Train Epoch: 13 	Loss: 0.124750
Poison Train Epoch: 14 	Loss: 0.021905
Test set:local_Trigger3_localPoison Accuracy: 4000/4000 (100%)
___Test : epoch: 2050: Average loss: 0.0552, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.055242681089043615
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 547/4000 (14%)
Test set:local_Trigger1Poison Accuracy: 1475/4000 (37%)
Test set:local_Trigger2Poison Accuracy: 15/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2199/4000 (55%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2854/4000 (71%)
Done in 19.202457904815674 sec.
select client [74, 263, 249, 390, 886, 101, 477, 226, 769, 317]
l2 norm of benign user before server clipping 0.006538646866101771
l2 norm of benign user after server clipping 0.006538646866101771
___Test : epoch: 2051: Average loss: 0.0546, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.05461404840350151
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 516/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 1459/4000 (36%)
Test set:local_Trigger2Poison Accuracy: 14/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2142/4000 (54%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2863/4000 (72%)
Done in 11.618982553482056 sec.
select client [619, 812, 873, 36, 697, 585, 385, 999, 524, 33]
l2 norm of benign user before server clipping 0.00676393851172179
l2 norm of benign user after server clipping 0.00676393851172179
___Test : epoch: 2052: Average loss: 0.0548, Accuracy: 39332/40000.0 (98.3300%)
benign test loss (after fedavg) 0.054830105659365656
benign test acc (after fedavg) 98.33
Test set:local_Trigger0Poison Accuracy: 515/4000 (13%)
Test set:local_Trigger1Poison Accuracy: 1481/4000 (37%)
Test set:local_Trigger2Poison Accuracy: 13/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2125/4000 (53%)
Test set:Main Accuracy: 39332/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2925/4000 (73%)
Done in 11.75132703781128 sec.
select client [618, 729, 502, 403, 350, 660, 833, 83, 646, 696]
l2 norm of benign user before server clipping 0.006162935262545943
l2 norm of benign user after server clipping 0.006162935262545943
___Test : epoch: 2053: Average loss: 0.0539, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05388506470173597
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 497/4000 (12%)
Test set:local_Trigger1Poison Accuracy: 1416/4000 (35%)
Test set:local_Trigger2Poison Accuracy: 11/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 2054/4000 (51%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2856/4000 (71%)
Done in 11.533966541290283 sec.
select client [631, 136, 878, 35, 839, 963, 584, 671, 433, 685]
l2 norm of benign user before server clipping 0.006651567411608994
l2 norm of benign user after server clipping 0.006651567411608994
___Test : epoch: 2054: Average loss: 0.0537, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.053714101272821425
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 458/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1362/4000 (34%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1936/4000 (48%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2859/4000 (71%)
Done in 11.720659732818604 sec.
select client [83, 127, 786, 712, 143, 239, 547, 313, 729, 780]
l2 norm of benign user before server clipping 0.004681012243963778
l2 norm of benign user after server clipping 0.004681012243963778
___Test : epoch: 2055: Average loss: 0.0535, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.053502720150351527
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 440/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1336/4000 (33%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1919/4000 (48%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2812/4000 (70%)
Done in 11.565161943435669 sec.
select client [75, 664, 280, 692, 770, 583, 630, 799, 485, 719]
l2 norm of benign user before server clipping 0.007494992599822581
l2 norm of benign user after server clipping 0.007494992599822581
___Test : epoch: 2056: Average loss: 0.0534, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05343704251050949
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 428/4000 (11%)
Test set:local_Trigger1Poison Accuracy: 1323/4000 (33%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1919/4000 (48%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2794/4000 (70%)
Done in 11.893176794052124 sec.
select client [305, 42, 201, 99, 422, 474, 793, 728, 471, 294]
l2 norm of benign user before server clipping 0.004796689772047102
l2 norm of benign user after server clipping 0.004796689772047102
___Test : epoch: 2057: Average loss: 0.0536, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.05356959720999002
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 416/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1299/4000 (32%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1855/4000 (46%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2776/4000 (69%)
Done in 11.60777473449707 sec.
select client [587, 905, 781, 836, 734, 866, 251, 175, 860, 901]
l2 norm of benign user before server clipping 0.005787378665991128
l2 norm of benign user after server clipping 0.005787378665991128
___Test : epoch: 2058: Average loss: 0.0533, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.053334868700802326
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 404/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1255/4000 (31%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1811/4000 (45%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2719/4000 (68%)
Done in 11.602925539016724 sec.
select client [816, 924, 871, 422, 710, 191, 114, 604, 172, 357]
l2 norm of benign user before server clipping 0.0036102207144722343
l2 norm of benign user after server clipping 0.0036102207144722343
___Test : epoch: 2059: Average loss: 0.0534, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.053393004383146765
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 414/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1271/4000 (32%)
Test set:local_Trigger2Poison Accuracy: 8/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1829/4000 (46%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2761/4000 (69%)
Done in 11.365337610244751 sec.
select client [819, 94, 756, 190, 844, 954, 596, 682, 561, 645]
l2 norm of benign user before server clipping 0.005523028434254229
l2 norm of benign user after server clipping 0.005523028434254229
___Test : epoch: 2060: Average loss: 0.0535, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.053521842005848884
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 384/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1200/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1738/4000 (43%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2679/4000 (67%)
Done in 11.605844497680664 sec.
select client [443, 691, 518, 840, 937, 221, 49, 613, 361, 69]
l2 norm of benign user before server clipping 0.004731936776079237
l2 norm of benign user after server clipping 0.004731936776079237
___Test : epoch: 2061: Average loss: 0.0536, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.0535665435269475
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 364/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1139/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1662/4000 (42%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2670/4000 (67%)
Done in 11.42145037651062 sec.
select client [958, 531, 458, 687, 700, 360, 107, 797, 762, 439]
l2 norm of benign user before server clipping 0.005946737644262612
l2 norm of benign user after server clipping 0.005946737644262612
___Test : epoch: 2062: Average loss: 0.0538, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.053772310093045235
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 379/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1175/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1698/4000 (42%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2680/4000 (67%)
Done in 11.640392541885376 sec.
select client [610, 426, 854, 473, 618, 193, 310, 889, 184, 798]
l2 norm of benign user before server clipping 0.005735825025476515
l2 norm of benign user after server clipping 0.005735825025476515
___Test : epoch: 2063: Average loss: 0.0540, Accuracy: 39351/40000.0 (98.3775%)
benign test loss (after fedavg) 0.05395250330418348
benign test acc (after fedavg) 98.3775
Test set:local_Trigger0Poison Accuracy: 399/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1187/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1714/4000 (43%)
Test set:Main Accuracy: 39351/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2668/4000 (67%)
Done in 11.549952507019043 sec.
select client [687, 697, 95, 608, 936, 578, 472, 164, 338, 340]
l2 norm of benign user before server clipping 0.0055464569828473035
l2 norm of benign user after server clipping 0.0055464569828473035
___Test : epoch: 2064: Average loss: 0.0540, Accuracy: 39341/40000.0 (98.3525%)
benign test loss (after fedavg) 0.05400332219004631
benign test acc (after fedavg) 98.35249999999999
Test set:local_Trigger0Poison Accuracy: 395/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1152/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1693/4000 (42%)
Test set:Main Accuracy: 39341/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2670/4000 (67%)
Done in 11.485586404800415 sec.
select client [756, 514, 659, 958, 130, 480, 603, 488, 680, 97]
l2 norm of benign user before server clipping 0.004964663693681359
l2 norm of benign user after server clipping 0.004964663693681359
___Test : epoch: 2065: Average loss: 0.0542, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05416201194822788
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 377/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1124/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1657/4000 (41%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2652/4000 (66%)
Done in 11.561901569366455 sec.
select client [68, 963, 971, 370, 47, 765, 656, 935, 131, 984]
l2 norm of benign user before server clipping 0.00458534094505012
l2 norm of benign user after server clipping 0.00458534094505012
___Test : epoch: 2066: Average loss: 0.0541, Accuracy: 39344/40000.0 (98.3600%)
benign test loss (after fedavg) 0.05405001270473003
benign test acc (after fedavg) 98.36
Test set:local_Trigger0Poison Accuracy: 384/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1123/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1666/4000 (42%)
Test set:Main Accuracy: 39344/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2648/4000 (66%)
Done in 11.497196435928345 sec.
select client [51, 699, 885, 178, 280, 219, 903, 369, 154, 108]
l2 norm of benign user before server clipping 0.00682659309823066
l2 norm of benign user after server clipping 0.00682659309823066
___Test : epoch: 2067: Average loss: 0.0540, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.053956990148127076
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 397/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1175/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1716/4000 (43%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2685/4000 (67%)
Done in 11.789380073547363 sec.
select client [724, 278, 501, 946, 654, 825, 371, 954, 220, 738]
l2 norm of benign user before server clipping 0.00486016646027565
l2 norm of benign user after server clipping 0.00486016646027565
___Test : epoch: 2068: Average loss: 0.0540, Accuracy: 39337/40000.0 (98.3425%)
benign test loss (after fedavg) 0.0540464704990387
benign test acc (after fedavg) 98.3425
Test set:local_Trigger0Poison Accuracy: 407/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1183/4000 (30%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1734/4000 (43%)
Test set:Main Accuracy: 39337/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2697/4000 (67%)
Done in 11.460304498672485 sec.
select client [131, 487, 157, 649, 671, 557, 642, 304, 443, 404]
l2 norm of benign user before server clipping 0.004337355517782271
l2 norm of benign user after server clipping 0.004337355517782271
___Test : epoch: 2069: Average loss: 0.0540, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.054043886315822603
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 388/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1147/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1678/4000 (42%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2685/4000 (67%)
Done in 11.584132432937622 sec.
select client [827, 811, 932, 408, 65, 120, 316, 617, 855, 983]
l2 norm of benign user before server clipping 0.007522342284210027
l2 norm of benign user after server clipping 0.007522342284210027
___Test : epoch: 2070: Average loss: 0.0540, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.053967484745383265
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 408/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1169/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1722/4000 (43%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2701/4000 (68%)
Done in 11.611793994903564 sec.
select client [695, 402, 419, 858, 991, 867, 220, 936, 918, 859]
l2 norm of benign user before server clipping 0.0033148344606161117
l2 norm of benign user after server clipping 0.0033148344606161117
___Test : epoch: 2071: Average loss: 0.0540, Accuracy: 39340/40000.0 (98.3500%)
benign test loss (after fedavg) 0.054004654948413375
benign test acc (after fedavg) 98.35000000000001
Test set:local_Trigger0Poison Accuracy: 410/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1172/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1725/4000 (43%)
Test set:Main Accuracy: 39340/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2720/4000 (68%)
Done in 11.264632225036621 sec.
select client [487, 303, 483, 586, 840, 817, 739, 225, 999, 679]
l2 norm of benign user before server clipping 0.006010102294385433
l2 norm of benign user after server clipping 0.006010102294385433
___Test : epoch: 2072: Average loss: 0.0538, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05375803134292364
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 403/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1173/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1716/4000 (43%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2725/4000 (68%)
Done in 11.627248287200928 sec.
select client [77, 716, 129, 410, 982, 935, 246, 771, 662, 620]
l2 norm of benign user before server clipping 0.005448149750009179
l2 norm of benign user after server clipping 0.005448149750009179
___Test : epoch: 2073: Average loss: 0.0543, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.054271608212590215
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 386/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1118/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1635/4000 (41%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2705/4000 (68%)
Done in 11.56324815750122 sec.
select client [19, 389, 306, 54, 79, 993, 425, 155, 727, 794]
l2 norm of benign user before server clipping 0.005308879725635052
l2 norm of benign user after server clipping 0.005308879725635052
___Test : epoch: 2074: Average loss: 0.0537, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.053728740133345124
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 393/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1086/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1649/4000 (41%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2640/4000 (66%)
Done in 11.60291337966919 sec.
select client [995, 637, 858, 360, 137, 415, 430, 944, 73, 914]
l2 norm of benign user before server clipping 0.007767357723787427
l2 norm of benign user after server clipping 0.007767357723787427
___Test : epoch: 2075: Average loss: 0.0541, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05413727692365646
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 400/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1145/4000 (29%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1674/4000 (42%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2696/4000 (67%)
Done in 11.63852047920227 sec.
select client [487, 154, 994, 649, 996, 819, 103, 570, 602, 624]
l2 norm of benign user before server clipping 0.004899479984305799
l2 norm of benign user after server clipping 0.004899479984305799
___Test : epoch: 2076: Average loss: 0.0538, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05375210849791765
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 390/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1102/4000 (28%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1642/4000 (41%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2673/4000 (67%)
Done in 11.574682235717773 sec.
select client [566, 370, 832, 295, 436, 442, 366, 359, 97, 780]
l2 norm of benign user before server clipping 0.005235322588123381
l2 norm of benign user after server clipping 0.005235322588123381
___Test : epoch: 2077: Average loss: 0.0536, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.053579544235765934
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 384/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1075/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1634/4000 (41%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2614/4000 (65%)
Done in 11.553673505783081 sec.
select client [615, 434, 730, 873, 477, 647, 363, 130, 894, 734]
l2 norm of benign user before server clipping 0.006052326830103994
l2 norm of benign user after server clipping 0.006052326830103994
___Test : epoch: 2078: Average loss: 0.0532, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05320211862772703
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 377/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1040/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1611/4000 (40%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2597/4000 (65%)
Done in 11.634406089782715 sec.
select client [153, 957, 793, 974, 446, 846, 389, 32, 529, 636]
l2 norm of benign user before server clipping 0.004421098949387669
l2 norm of benign user after server clipping 0.004421098949387669
___Test : epoch: 2079: Average loss: 0.0532, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.053168462963402274
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 387/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1047/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1634/4000 (41%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2583/4000 (65%)
Done in 11.45179033279419 sec.
select client [973, 589, 981, 721, 418, 500, 65, 846, 151, 474]
l2 norm of benign user before server clipping 0.004555330448783934
l2 norm of benign user after server clipping 0.004555330448783934
___Test : epoch: 2080: Average loss: 0.0536, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05355170155018568
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 382/4000 (10%)
Test set:local_Trigger1Poison Accuracy: 1047/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1622/4000 (41%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2623/4000 (66%)
Done in 11.51112961769104 sec.
select client [886, 528, 777, 140, 736, 400, 857, 104, 919, 761]
l2 norm of benign user before server clipping 0.007492822757922113
l2 norm of benign user after server clipping 0.007492822757922113
___Test : epoch: 2081: Average loss: 0.0537, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.05366408051252365
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 355/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 1087/4000 (27%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1642/4000 (41%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2689/4000 (67%)
Done in 11.534532070159912 sec.
select client [913, 987, 863, 175, 23, 872, 607, 391, 56, 726]
l2 norm of benign user before server clipping 0.0055331831565126775
l2 norm of benign user after server clipping 0.0055331831565126775
___Test : epoch: 2082: Average loss: 0.0539, Accuracy: 39345/40000.0 (98.3625%)
benign test loss (after fedavg) 0.0539282969802618
benign test acc (after fedavg) 98.3625
Test set:local_Trigger0Poison Accuracy: 340/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 1023/4000 (26%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1554/4000 (39%)
Test set:Main Accuracy: 39345/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2631/4000 (66%)
Done in 11.497849225997925 sec.
select client [561, 424, 122, 454, 698, 883, 798, 396, 179, 754]
l2 norm of benign user before server clipping 0.005186978052370251
l2 norm of benign user after server clipping 0.005186978052370251
___Test : epoch: 2083: Average loss: 0.0536, Accuracy: 39350/40000.0 (98.3750%)
benign test loss (after fedavg) 0.05358847408592701
benign test acc (after fedavg) 98.375
Test set:local_Trigger0Poison Accuracy: 336/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 1009/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1551/4000 (39%)
Test set:Main Accuracy: 39350/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2625/4000 (66%)
Done in 11.624868869781494 sec.
select client [89, 48, 717, 13, 324, 398, 326, 676, 264, 489]
l2 norm of benign user before server clipping 0.005470953555777669
l2 norm of benign user after server clipping 0.005470953555777669
___Test : epoch: 2084: Average loss: 0.0538, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.053835915020108226
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 334/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 990/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1522/4000 (38%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2637/4000 (66%)
Done in 11.654193639755249 sec.
select client [852, 342, 647, 529, 579, 205, 536, 816, 935, 129]
l2 norm of benign user before server clipping 0.005508713214658201
l2 norm of benign user after server clipping 0.005508713214658201
___Test : epoch: 2085: Average loss: 0.0546, Accuracy: 39320/40000.0 (98.3000%)
benign test loss (after fedavg) 0.0546049012452364
benign test acc (after fedavg) 98.3
Test set:local_Trigger0Poison Accuracy: 321/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 938/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1450/4000 (36%)
Test set:Main Accuracy: 39320/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2628/4000 (66%)
Done in 11.403917789459229 sec.
select client [196, 149, 468, 949, 530, 121, 941, 502, 344, 59]
l2 norm of benign user before server clipping 0.005411824560724199
l2 norm of benign user after server clipping 0.005411824560724199
___Test : epoch: 2086: Average loss: 0.0541, Accuracy: 39329/40000.0 (98.3225%)
benign test loss (after fedavg) 0.05413583282679319
benign test acc (after fedavg) 98.3225
Test set:local_Trigger0Poison Accuracy: 323/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 930/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1451/4000 (36%)
Test set:Main Accuracy: 39329/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2573/4000 (64%)
Done in 11.669257164001465 sec.
select client [107, 652, 35, 240, 492, 68, 929, 413, 274, 585]
l2 norm of benign user before server clipping 0.005982379335910082
l2 norm of benign user after server clipping 0.005982379335910082
___Test : epoch: 2087: Average loss: 0.0537, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05368093315809965
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 343/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 959/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1505/4000 (38%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2584/4000 (65%)
Done in 11.65500283241272 sec.
select client [534, 722, 469, 81, 783, 927, 488, 68, 754, 207]
l2 norm of benign user before server clipping 0.003857345669530332
l2 norm of benign user after server clipping 0.003857345669530332
___Test : epoch: 2088: Average loss: 0.0537, Accuracy: 39342/40000.0 (98.3550%)
benign test loss (after fedavg) 0.05370046660155058
benign test acc (after fedavg) 98.355
Test set:local_Trigger0Poison Accuracy: 348/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 954/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1495/4000 (37%)
Test set:Main Accuracy: 39342/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2583/4000 (65%)
Done in 11.45470380783081 sec.
select client [955, 590, 654, 922, 219, 20, 591, 834, 38, 695]
l2 norm of benign user before server clipping 0.004777275235392153
l2 norm of benign user after server clipping 0.004777275235392153
___Test : epoch: 2089: Average loss: 0.0536, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.053641385950148106
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 362/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 993/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1544/4000 (39%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2613/4000 (65%)
Done in 11.489845752716064 sec.
select client [840, 626, 133, 627, 21, 941, 939, 344, 34, 920]
l2 norm of benign user before server clipping 0.0055652714101597665
l2 norm of benign user after server clipping 0.0055652714101597665
___Test : epoch: 2090: Average loss: 0.0536, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05355036975890398
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 371/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 960/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1519/4000 (38%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2546/4000 (64%)
Done in 11.676628828048706 sec.
select client [526, 658, 553, 185, 104, 219, 532, 842, 333, 869]
l2 norm of benign user before server clipping 0.004096705256961286
l2 norm of benign user after server clipping 0.004096705256961286
___Test : epoch: 2091: Average loss: 0.0534, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.05335691276341677
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 360/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 967/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1537/4000 (38%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2563/4000 (64%)
Done in 11.499674797058105 sec.
select client [467, 12, 528, 421, 751, 505, 299, 792, 497, 201]
l2 norm of benign user before server clipping 0.0071948745753616095
l2 norm of benign user after server clipping 0.0071948745753616095
___Test : epoch: 2092: Average loss: 0.0535, Accuracy: 39343/40000.0 (98.3575%)
benign test loss (after fedavg) 0.05354407940208912
benign test acc (after fedavg) 98.3575
Test set:local_Trigger0Poison Accuracy: 359/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 944/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1502/4000 (38%)
Test set:Main Accuracy: 39343/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2529/4000 (63%)
Done in 11.540215015411377 sec.
select client [955, 678, 877, 411, 970, 496, 923, 863, 146, 196]
l2 norm of benign user before server clipping 0.005557793099433184
l2 norm of benign user after server clipping 0.005557793099433184
___Test : epoch: 2093: Average loss: 0.0532, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.0531702103972435
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 343/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 924/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1492/4000 (37%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2501/4000 (63%)
Done in 11.557265281677246 sec.
select client [817, 820, 823, 700, 494, 114, 576, 246, 670, 413]
l2 norm of benign user before server clipping 0.0040453237947076556
l2 norm of benign user after server clipping 0.0040453237947076556
___Test : epoch: 2094: Average loss: 0.0530, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.053010512652993204
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 348/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 931/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1504/4000 (38%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2489/4000 (62%)
Done in 11.476361751556396 sec.
select client [405, 431, 706, 507, 314, 337, 419, 443, 802, 188]
l2 norm of benign user before server clipping 0.004607679462060333
l2 norm of benign user after server clipping 0.004607679462060333
___Test : epoch: 2095: Average loss: 0.0528, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05281625180244446
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 326/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 904/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1470/4000 (37%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2442/4000 (61%)
Done in 11.534587860107422 sec.
select client [607, 601, 526, 584, 550, 241, 555, 903, 582, 200]
l2 norm of benign user before server clipping 0.004999429918825626
l2 norm of benign user after server clipping 0.004999429918825626
___Test : epoch: 2096: Average loss: 0.0527, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.05265576224476099
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 322/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 916/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1489/4000 (37%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2443/4000 (61%)
Done in 11.50472092628479 sec.
select client [429, 32, 138, 570, 235, 260, 113, 180, 456, 134]
l2 norm of benign user before server clipping 0.004104561649728567
l2 norm of benign user after server clipping 0.004104561649728567
___Test : epoch: 2097: Average loss: 0.0526, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05255359691679478
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 313/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 919/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1496/4000 (37%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2449/4000 (61%)
Done in 11.391403675079346 sec.
select client [788, 335, 881, 983, 519, 925, 969, 243, 660, 320]
l2 norm of benign user before server clipping 0.005607864283956587
l2 norm of benign user after server clipping 0.005607864283956587
___Test : epoch: 2098: Average loss: 0.0527, Accuracy: 39354/40000.0 (98.3850%)
benign test loss (after fedavg) 0.052749603831768035
benign test acc (after fedavg) 98.385
Test set:local_Trigger0Poison Accuracy: 326/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 924/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1509/4000 (38%)
Test set:Main Accuracy: 39354/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2451/4000 (61%)
Done in 11.427884817123413 sec.
select client [231, 774, 867, 291, 267, 809, 310, 77, 594, 778]
l2 norm of benign user before server clipping 0.01260586166754365
l2 norm of benign user after server clipping 0.01260586166754365
___Test : epoch: 2099: Average loss: 0.0548, Accuracy: 39320/40000.0 (98.3000%)
benign test loss (after fedavg) 0.0548200882434845
benign test acc (after fedavg) 98.3
Test set:local_Trigger0Poison Accuracy: 378/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 985/4000 (25%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1551/4000 (39%)
Test set:Main Accuracy: 39320/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2619/4000 (65%)
Done in 11.721843242645264 sec.
select client [29, 947, 666, 142, 535, 541, 650, 730, 583, 55]
l2 norm of benign user before server clipping 0.006633834587410093
l2 norm of benign user after server clipping 0.006633834587410093
___Test : epoch: 2100: Average loss: 0.0544, Accuracy: 39333/40000.0 (98.3325%)
benign test loss (after fedavg) 0.054409042981266975
benign test acc (after fedavg) 98.3325
Test set:local_Trigger0Poison Accuracy: 355/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 928/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1499/4000 (37%)
Test set:Main Accuracy: 39333/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2518/4000 (63%)
Done in 11.747839450836182 sec.
select client [560, 419, 314, 164, 496, 15, 185, 646, 445, 672]
l2 norm of benign user before server clipping 0.004469473112840206
l2 norm of benign user after server clipping 0.004469473112840206
___Test : epoch: 2101: Average loss: 0.0544, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05441113958507776
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 365/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 945/4000 (24%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1514/4000 (38%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2562/4000 (64%)
Done in 11.534542560577393 sec.
select client [477, 207, 222, 290, 401, 794, 892, 945, 859, 97]
l2 norm of benign user before server clipping 0.004222811991348862
l2 norm of benign user after server clipping 0.004222811991348862
___Test : epoch: 2102: Average loss: 0.0547, Accuracy: 39326/40000.0 (98.3150%)
benign test loss (after fedavg) 0.054701212526857855
benign test acc (after fedavg) 98.315
Test set:local_Trigger0Poison Accuracy: 355/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 915/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1477/4000 (37%)
Test set:Main Accuracy: 39326/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2526/4000 (63%)
Done in 11.52086591720581 sec.
select client [168, 451, 722, 467, 382, 195, 429, 833, 464, 782]
l2 norm of benign user before server clipping 0.005655381642282009
l2 norm of benign user after server clipping 0.005655381642282009
___Test : epoch: 2103: Average loss: 0.0542, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05422732935994864
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 357/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 917/4000 (23%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1499/4000 (37%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2507/4000 (63%)
Done in 11.614990472793579 sec.
select client [222, 849, 936, 615, 243, 284, 411, 335, 857, 878]
l2 norm of benign user before server clipping 0.0035745921079069374
l2 norm of benign user after server clipping 0.0035745921079069374
___Test : epoch: 2104: Average loss: 0.0542, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.054238592506945134
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 340/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 883/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1461/4000 (37%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2454/4000 (61%)
Done in 12.472053289413452 sec.
select client [807, 457, 671, 899, 858, 869, 513, 214, 507, 955]
l2 norm of benign user before server clipping 0.004692398000042885
l2 norm of benign user after server clipping 0.004692398000042885
___Test : epoch: 2105: Average loss: 0.0534, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.0534364235535264
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 328/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 851/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1445/4000 (36%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2385/4000 (60%)
Done in 11.509680032730103 sec.
select client [445, 212, 345, 855, 932, 222, 205, 54, 272, 792]
l2 norm of benign user before server clipping 0.005088875512592494
l2 norm of benign user after server clipping 0.005088875512592494
___Test : epoch: 2106: Average loss: 0.0533, Accuracy: 39353/40000.0 (98.3825%)
benign test loss (after fedavg) 0.05332549772411585
benign test acc (after fedavg) 98.3825
Test set:local_Trigger0Poison Accuracy: 341/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 859/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1451/4000 (36%)
Test set:Main Accuracy: 39353/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2365/4000 (59%)
Done in 11.656208038330078 sec.
select client [70, 80, 461, 916, 54, 976, 614, 580, 11, 188]
l2 norm of benign user before server clipping 0.003969305322971195
l2 norm of benign user after server clipping 0.003969305322971195
___Test : epoch: 2107: Average loss: 0.0532, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05318647719174623
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 350/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 871/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1471/4000 (37%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2363/4000 (59%)
Done in 11.57335090637207 sec.
select client [641, 762, 693, 501, 732, 627, 909, 474, 68, 427]
l2 norm of benign user before server clipping 0.005049489671364427
l2 norm of benign user after server clipping 0.005049489671364427
___Test : epoch: 2108: Average loss: 0.0532, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05317191605269909
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 350/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 880/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1498/4000 (37%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2396/4000 (60%)
Done in 11.545544862747192 sec.
select client [754, 984, 537, 228, 626, 546, 410, 362, 475, 109]
l2 norm of benign user before server clipping 0.004074155725538731
l2 norm of benign user after server clipping 0.004074155725538731
___Test : epoch: 2109: Average loss: 0.0529, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05293403981477022
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 354/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 887/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1502/4000 (38%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2379/4000 (59%)
Done in 11.49419116973877 sec.
select client [867, 638, 157, 960, 338, 935, 652, 492, 971, 881]
l2 norm of benign user before server clipping 0.005118065653368831
l2 norm of benign user after server clipping 0.005118065653368831
___Test : epoch: 2110: Average loss: 0.0528, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.052796247343719
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 348/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 894/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1524/4000 (38%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2403/4000 (60%)
Done in 11.605578184127808 sec.
select client [932, 610, 39, 80, 205, 43, 663, 30, 723, 377]
l2 norm of benign user before server clipping 0.004624156630598009
l2 norm of benign user after server clipping 0.004624156630598009
___Test : epoch: 2111: Average loss: 0.0526, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.052565154902637
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 355/4000 (9%)
Test set:local_Trigger1Poison Accuracy: 895/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1538/4000 (38%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2398/4000 (60%)
Done in 11.45558786392212 sec.
select client [682, 357, 80, 286, 940, 663, 696, 946, 334, 709]
l2 norm of benign user before server clipping 0.0047897054115310315
l2 norm of benign user after server clipping 0.0047897054115310315
___Test : epoch: 2112: Average loss: 0.0525, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.05253998434990644
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 340/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 889/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1521/4000 (38%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2377/4000 (59%)
Done in 11.859103679656982 sec.
select client [829, 767, 304, 804, 506, 928, 95, 17, 916, 799]
l2 norm of benign user before server clipping 0.0050830164225772025
l2 norm of benign user after server clipping 0.0050830164225772025
___Test : epoch: 2113: Average loss: 0.0526, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.052563604544103144
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 318/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 870/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1490/4000 (37%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2348/4000 (59%)
Done in 11.596096515655518 sec.
select client [528, 356, 208, 966, 368, 995, 613, 682, 746, 122]
l2 norm of benign user before server clipping 0.005021815979853272
l2 norm of benign user after server clipping 0.005021815979853272
___Test : epoch: 2114: Average loss: 0.0524, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.052380502966046336
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 316/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 873/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1502/4000 (38%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2358/4000 (59%)
Done in 11.670383214950562 sec.
select client [642, 527, 734, 245, 101, 762, 74, 722, 595, 991]
l2 norm of benign user before server clipping 0.0054663337068632245
l2 norm of benign user after server clipping 0.0054663337068632245
___Test : epoch: 2115: Average loss: 0.0525, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05254828639924526
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 318/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 867/4000 (22%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1493/4000 (37%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2371/4000 (59%)
Done in 11.516529560089111 sec.
select client [311, 805, 975, 269, 771, 745, 674, 974, 151, 627]
l2 norm of benign user before server clipping 0.007107405207352713
l2 norm of benign user after server clipping 0.007107405207352713
___Test : epoch: 2116: Average loss: 0.0525, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05248716813623905
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 295/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 810/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1420/4000 (36%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2268/4000 (57%)
Done in 11.721677541732788 sec.
select client [656, 577, 178, 738, 750, 957, 135, 677, 583, 298]
l2 norm of benign user before server clipping 0.005390067282132804
l2 norm of benign user after server clipping 0.005390067282132804
___Test : epoch: 2117: Average loss: 0.0526, Accuracy: 39360/40000.0 (98.4000%)
benign test loss (after fedavg) 0.052588547967374326
benign test acc (after fedavg) 98.4
Test set:local_Trigger0Poison Accuracy: 296/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 806/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1418/4000 (35%)
Test set:Main Accuracy: 39360/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2262/4000 (57%)
Done in 11.710370302200317 sec.
select client [970, 978, 567, 893, 97, 846, 260, 387, 162, 578]
l2 norm of benign user before server clipping 0.005389217124320567
l2 norm of benign user after server clipping 0.005389217124320567
___Test : epoch: 2118: Average loss: 0.0523, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.052256708545982834
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 324/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 824/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1464/4000 (37%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2291/4000 (57%)
Done in 11.673077821731567 sec.
select client [922, 184, 504, 427, 99, 567, 353, 903, 260, 794]
l2 norm of benign user before server clipping 0.003689499129541218
l2 norm of benign user after server clipping 0.003689499129541218
___Test : epoch: 2119: Average loss: 0.0523, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05228287161588669
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 324/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 828/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1470/4000 (37%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2298/4000 (57%)
Done in 11.451971530914307 sec.
select client [625, 491, 133, 288, 585, 672, 178, 594, 873, 790]
l2 norm of benign user before server clipping 0.006678784824907779
l2 norm of benign user after server clipping 0.006678784824907779
___Test : epoch: 2120: Average loss: 0.0524, Accuracy: 39366/40000.0 (98.4150%)
benign test loss (after fedavg) 0.05241786797791719
benign test acc (after fedavg) 98.41499999999999
Test set:local_Trigger0Poison Accuracy: 331/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 816/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1461/4000 (37%)
Test set:Main Accuracy: 39366/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2328/4000 (58%)
Done in 11.844658374786377 sec.
select client [38, 964, 951, 805, 433, 167, 15, 480, 869, 771]
l2 norm of benign user before server clipping 0.004569798987358808
l2 norm of benign user after server clipping 0.004569798987358808
___Test : epoch: 2121: Average loss: 0.0521, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.0521132499396801
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 330/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 828/4000 (21%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1472/4000 (37%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2312/4000 (58%)
Done in 11.6715989112854 sec.
select client [379, 704, 783, 241, 308, 803, 972, 355, 836, 912]
l2 norm of benign user before server clipping 0.004667242104187608
l2 norm of benign user after server clipping 0.004667242104187608
___Test : epoch: 2122: Average loss: 0.0521, Accuracy: 39374/40000.0 (98.4350%)
benign test loss (after fedavg) 0.05208713845908642
benign test acc (after fedavg) 98.43499999999999
Test set:local_Trigger0Poison Accuracy: 311/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 793/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1448/4000 (36%)
Test set:Main Accuracy: 39374/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2301/4000 (58%)
Done in 11.592031955718994 sec.
select client [865, 19, 72, 251, 138, 209, 147, 267, 60, 469]
l2 norm of benign user before server clipping 0.004781624139286578
l2 norm of benign user after server clipping 0.004781624139286578
___Test : epoch: 2123: Average loss: 0.0522, Accuracy: 39377/40000.0 (98.4425%)
benign test loss (after fedavg) 0.05216637883037329
benign test acc (after fedavg) 98.4425
Test set:local_Trigger0Poison Accuracy: 307/4000 (8%)
Test set:local_Trigger1Poison Accuracy: 759/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1421/4000 (36%)
Test set:Main Accuracy: 39377/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2252/4000 (56%)
Done in 11.758275032043457 sec.
select client [285, 611, 672, 600, 811, 920, 529, 780, 360, 119]
l2 norm of benign user before server clipping 0.008209155430085957
l2 norm of benign user after server clipping 0.008209155430085957
___Test : epoch: 2124: Average loss: 0.0522, Accuracy: 39372/40000.0 (98.4300%)
benign test loss (after fedavg) 0.05218174578845501
benign test acc (after fedavg) 98.42999999999999
Test set:local_Trigger0Poison Accuracy: 278/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 717/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1413/4000 (35%)
Test set:Main Accuracy: 39372/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2171/4000 (54%)
Done in 11.82915186882019 sec.
select client [904, 32, 819, 491, 739, 662, 929, 928, 458, 542]
l2 norm of benign user before server clipping 0.004409024212509394
l2 norm of benign user after server clipping 0.004409024212509394
___Test : epoch: 2125: Average loss: 0.0523, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.05226170596778393
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 264/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 686/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1381/4000 (35%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2123/4000 (53%)
Done in 11.505028009414673 sec.
select client [616, 97, 25, 621, 402, 79, 578, 178, 287, 275]
l2 norm of benign user before server clipping 0.005911394907161594
l2 norm of benign user after server clipping 0.005911394907161594
___Test : epoch: 2126: Average loss: 0.0522, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.05224685179814696
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 255/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 689/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1367/4000 (34%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2140/4000 (54%)
Done in 11.66574764251709 sec.
select client [222, 173, 659, 82, 541, 756, 470, 911, 984, 568]
l2 norm of benign user before server clipping 0.005095181846991181
l2 norm of benign user after server clipping 0.005095181846991181
___Test : epoch: 2127: Average loss: 0.0528, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.05275415068045258
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 244/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 670/4000 (17%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1334/4000 (33%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2164/4000 (54%)
Done in 11.537347316741943 sec.
select client [399, 570, 237, 392, 732, 683, 354, 503, 23, 64]
l2 norm of benign user before server clipping 0.004319172236137092
l2 norm of benign user after server clipping 0.004319172236137092
___Test : epoch: 2128: Average loss: 0.0530, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.052986623992025854
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 240/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 645/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1318/4000 (33%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2140/4000 (54%)
Done in 11.52993130683899 sec.
select client [370, 488, 489, 761, 479, 538, 409, 922, 78, 909]
l2 norm of benign user before server clipping 0.004924464086070657
l2 norm of benign user after server clipping 0.004924464086070657
___Test : epoch: 2129: Average loss: 0.0528, Accuracy: 39352/40000.0 (98.3800%)
benign test loss (after fedavg) 0.05276369276791811
benign test acc (after fedavg) 98.38
Test set:local_Trigger0Poison Accuracy: 252/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 646/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1331/4000 (33%)
Test set:Main Accuracy: 39352/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2129/4000 (53%)
Done in 11.486169815063477 sec.
select client [284, 423, 914, 419, 109, 382, 599, 890, 555, 190]
l2 norm of benign user before server clipping 0.0047795923310332
l2 norm of benign user after server clipping 0.0047795923310332
___Test : epoch: 2130: Average loss: 0.0527, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05270692573189736
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 258/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 660/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1338/4000 (33%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2137/4000 (53%)
Done in 11.504103660583496 sec.
select client [439, 399, 353, 516, 81, 12, 762, 605, 597, 962]
l2 norm of benign user before server clipping 0.0052480421960353855
l2 norm of benign user after server clipping 0.0052480421960353855
___Test : epoch: 2131: Average loss: 0.0530, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05301328390240669
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 254/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 649/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1323/4000 (33%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2150/4000 (54%)
Done in 11.609175682067871 sec.
select client [85, 843, 583, 943, 993, 397, 958, 92, 52, 421]
l2 norm of benign user before server clipping 0.012133161025121807
l2 norm of benign user after server clipping 0.012133161025121807
___Test : epoch: 2132: Average loss: 0.0522, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.052198048505187035
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 282/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 781/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1458/4000 (36%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2207/4000 (55%)
Done in 11.782547235488892 sec.
select client [643, 372, 936, 606, 94, 966, 254, 60, 161, 525]
l2 norm of benign user before server clipping 0.005043905368074775
l2 norm of benign user after server clipping 0.005043905368074775
___Test : epoch: 2133: Average loss: 0.0522, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.052153577543795106
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 267/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 783/4000 (20%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1445/4000 (36%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2209/4000 (55%)
Done in 11.511219024658203 sec.
select client [920, 186, 462, 437, 562, 60, 633, 815, 641, 325]
l2 norm of benign user before server clipping 0.004796347836963833
l2 norm of benign user after server clipping 0.004796347836963833
___Test : epoch: 2134: Average loss: 0.0522, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.05220826732069254
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 267/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 769/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1415/4000 (35%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2216/4000 (55%)
Done in 11.60513186454773 sec.
select client [194, 898, 439, 897, 894, 362, 387, 865, 551, 431]
l2 norm of benign user before server clipping 0.00421926302369684
l2 norm of benign user after server clipping 0.00421926302369684
___Test : epoch: 2135: Average loss: 0.0521, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.05206677839457989
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 277/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 764/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1425/4000 (36%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2191/4000 (55%)
Done in 11.458630323410034 sec.
select client [179, 239, 105, 369, 964, 604, 206, 639, 503, 347]
l2 norm of benign user before server clipping 0.00556139814434573
l2 norm of benign user after server clipping 0.00556139814434573
___Test : epoch: 2136: Average loss: 0.0525, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05245094568431377
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 283/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 742/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1406/4000 (35%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2171/4000 (54%)
Done in 11.63241171836853 sec.
select client [540, 574, 489, 232, 616, 111, 598, 215, 536, 357]
l2 norm of benign user before server clipping 0.004914662404917181
l2 norm of benign user after server clipping 0.004914662404917181
___Test : epoch: 2137: Average loss: 0.0525, Accuracy: 39358/40000.0 (98.3950%)
benign test loss (after fedavg) 0.05253467021286488
benign test acc (after fedavg) 98.395
Test set:local_Trigger0Poison Accuracy: 277/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 746/4000 (19%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1387/4000 (35%)
Test set:Main Accuracy: 39358/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2194/4000 (55%)
Done in 11.550830364227295 sec.
select client [269, 424, 74, 196, 511, 908, 793, 151, 933, 270]
l2 norm of benign user before server clipping 0.003109746178961359
l2 norm of benign user after server clipping 0.003109746178961359
___Test : epoch: 2138: Average loss: 0.0525, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05248933635056019
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 266/4000 (7%)
Test set:local_Trigger1Poison Accuracy: 731/4000 (18%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1362/4000 (34%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2193/4000 (55%)
Done in 11.489248991012573 sec.
select client [29, 715, 61, 437, 223, 438, 55, 763, 735, 291]
l2 norm of benign user before server clipping 0.011335846735164523
l2 norm of benign user after server clipping 0.011335846735164523
___Test : epoch: 2139: Average loss: 0.0540, Accuracy: 39331/40000.0 (98.3275%)
benign test loss (after fedavg) 0.05399303037077188
benign test acc (after fedavg) 98.3275
Test set:local_Trigger0Poison Accuracy: 173/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 498/4000 (12%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1083/4000 (27%)
Test set:Main Accuracy: 39331/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1939/4000 (48%)
Done in 11.817797422409058 sec.
select client [214, 261, 404, 137, 537, 383, 915, 381, 405, 316]
l2 norm of benign user before server clipping 0.007406032318249345
l2 norm of benign user after server clipping 0.007406032318249345
___Test : epoch: 2140: Average loss: 0.0539, Accuracy: 39330/40000.0 (98.3250%)
benign test loss (after fedavg) 0.053943204601109025
benign test acc (after fedavg) 98.32499999999999
Test set:local_Trigger0Poison Accuracy: 171/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 503/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1096/4000 (27%)
Test set:Main Accuracy: 39330/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1951/4000 (49%)
Done in 11.655365705490112 sec.
select client [338, 637, 736, 514, 859, 878, 427, 153, 179, 455]
l2 norm of benign user before server clipping 0.005694487527944147
l2 norm of benign user after server clipping 0.005694487527944147
___Test : epoch: 2141: Average loss: 0.0536, Accuracy: 39334/40000.0 (98.3350%)
benign test loss (after fedavg) 0.05361055768728256
benign test acc (after fedavg) 98.335
Test set:local_Trigger0Poison Accuracy: 173/4000 (4%)
Test set:local_Trigger1Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1131/4000 (28%)
Test set:Main Accuracy: 39334/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1978/4000 (49%)
Done in 11.697989702224731 sec.
select client [224, 867, 682, 724, 425, 789, 968, 60, 629, 727]
l2 norm of benign user before server clipping 0.005611901474185288
l2 norm of benign user after server clipping 0.005611901474185288
___Test : epoch: 2142: Average loss: 0.0530, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.052996586729586126
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 196/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 576/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1196/4000 (30%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2046/4000 (51%)
Done in 11.618415594100952 sec.
select client [997, 24, 120, 628, 953, 32, 877, 337, 318, 528]
l2 norm of benign user before server clipping 0.0045622723875567315
l2 norm of benign user after server clipping 0.0045622723875567315
___Test : epoch: 2143: Average loss: 0.0529, Accuracy: 39347/40000.0 (98.3675%)
benign test loss (after fedavg) 0.05291259812116623
benign test acc (after fedavg) 98.36749999999999
Test set:local_Trigger0Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 580/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1191/4000 (30%)
Test set:Main Accuracy: 39347/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2024/4000 (51%)
Done in 11.51531457901001 sec.
select client [425, 346, 112, 208, 998, 95, 758, 987, 18, 493]
l2 norm of benign user before server clipping 0.005586858827155083
l2 norm of benign user after server clipping 0.005586858827155083
___Test : epoch: 2144: Average loss: 0.0530, Accuracy: 39349/40000.0 (98.3725%)
benign test loss (after fedavg) 0.053012647596001626
benign test acc (after fedavg) 98.3725
Test set:local_Trigger0Poison Accuracy: 188/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 560/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1172/4000 (29%)
Test set:Main Accuracy: 39349/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2017/4000 (50%)
Done in 11.629931926727295 sec.
select client [188, 591, 70, 896, 419, 996, 745, 134, 973, 884]
l2 norm of benign user before server clipping 0.005754524958319962
l2 norm of benign user after server clipping 0.005754524958319962
___Test : epoch: 2145: Average loss: 0.0530, Accuracy: 39348/40000.0 (98.3700%)
benign test loss (after fedavg) 0.0529792009472847
benign test acc (after fedavg) 98.37
Test set:local_Trigger0Poison Accuracy: 199/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 557/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1180/4000 (30%)
Test set:Main Accuracy: 39348/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1997/4000 (50%)
Done in 11.677807331085205 sec.
select client [248, 470, 684, 284, 313, 672, 189, 829, 609, 435]
l2 norm of benign user before server clipping 0.00628078751033172
l2 norm of benign user after server clipping 0.00628078751033172
___Test : epoch: 2146: Average loss: 0.0530, Accuracy: 39346/40000.0 (98.3650%)
benign test loss (after fedavg) 0.05304407450556755
benign test acc (after fedavg) 98.36500000000001
Test set:local_Trigger0Poison Accuracy: 215/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 588/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1202/4000 (30%)
Test set:Main Accuracy: 39346/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2054/4000 (51%)
Done in 11.747175931930542 sec.
select client [779, 78, 717, 591, 174, 634, 841, 611, 682, 113]
l2 norm of benign user before server clipping 0.004099630366545171
l2 norm of benign user after server clipping 0.004099630366545171
___Test : epoch: 2147: Average loss: 0.0527, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.05273278635144234
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 220/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 593/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1221/4000 (31%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2066/4000 (52%)
Done in 11.531711339950562 sec.
select client [700, 219, 223, 796, 731, 378, 118, 730, 420, 480]
l2 norm of benign user before server clipping 0.006375043815933168
l2 norm of benign user after server clipping 0.006375043815933168
___Test : epoch: 2148: Average loss: 0.0521, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05213153771162033
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 218/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 590/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1237/4000 (31%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1983/4000 (50%)
Done in 11.565173625946045 sec.
select client [595, 636, 747, 251, 360, 336, 509, 973, 784, 687]
l2 norm of benign user before server clipping 0.00622520858887583
l2 norm of benign user after server clipping 0.00622520858887583
___Test : epoch: 2149: Average loss: 0.0522, Accuracy: 39368/40000.0 (98.4200%)
benign test loss (after fedavg) 0.05218930017054081
benign test acc (after fedavg) 98.42
Test set:local_Trigger0Poison Accuracy: 223/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 631/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1276/4000 (32%)
Test set:Main Accuracy: 39368/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2055/4000 (51%)
Done in 11.6033194065094 sec.
select client [682, 739, 823, 66, 319, 56, 160, 114, 696, 539]
l2 norm of benign user before server clipping 0.00542283640243113
l2 norm of benign user after server clipping 0.00542283640243113
___Test : epoch: 2150: Average loss: 0.0522, Accuracy: 39367/40000.0 (98.4175%)
benign test loss (after fedavg) 0.052179345931112765
benign test acc (after fedavg) 98.4175
Test set:local_Trigger0Poison Accuracy: 226/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 618/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1269/4000 (32%)
Test set:Main Accuracy: 39367/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2057/4000 (51%)
Done in 11.655178308486938 sec.
select client [452, 873, 788, 622, 275, 402, 489, 575, 603, 947]
l2 norm of benign user before server clipping 0.005365575768519193
l2 norm of benign user after server clipping 0.005365575768519193
___Test : epoch: 2151: Average loss: 0.0520, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.05197431738227606
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 224/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 631/4000 (16%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1282/4000 (32%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2103/4000 (53%)
Done in 11.562032222747803 sec.
select client [385, 254, 855, 218, 644, 74, 743, 147, 50, 668]
l2 norm of benign user before server clipping 0.004554562456905842
l2 norm of benign user after server clipping 0.004554562456905842
___Test : epoch: 2152: Average loss: 0.0522, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052243364933878184
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 214/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 582/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1224/4000 (31%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2055/4000 (51%)
Done in 11.6704843044281 sec.
select client [108, 378, 68, 749, 873, 549, 712, 245, 441, 380]
l2 norm of benign user before server clipping 0.005155636579729617
l2 norm of benign user after server clipping 0.005155636579729617
___Test : epoch: 2153: Average loss: 0.0521, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.052066172596812246
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 220/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 596/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1230/4000 (31%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2046/4000 (51%)
Done in 11.601355075836182 sec.
select client [440, 433, 806, 115, 365, 432, 595, 454, 746, 304]
l2 norm of benign user before server clipping 0.00518834397662431
l2 norm of benign user after server clipping 0.00518834397662431
___Test : epoch: 2154: Average loss: 0.0520, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.051997379973530766
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 593/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1228/4000 (31%)
Test set:Main Accuracy: 39369/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2044/4000 (51%)
Done in 11.582890748977661 sec.
select client [662, 669, 352, 47, 579, 757, 672, 502, 149, 773]
l2 norm of benign user before server clipping 0.0049331135815009475
l2 norm of benign user after server clipping 0.0049331135815009475
___Test : epoch: 2155: Average loss: 0.0519, Accuracy: 39370/40000.0 (98.4250%)
benign test loss (after fedavg) 0.05188457330465317
benign test acc (after fedavg) 98.425
Test set:local_Trigger0Poison Accuracy: 221/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 594/4000 (15%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1222/4000 (31%)
Test set:Main Accuracy: 39370/40000 (98%)
Test set:Global Trigger Poison Accuracy: 2025/4000 (51%)
Done in 11.665300369262695 sec.
select client [315, 934, 191, 839, 964, 361, 736, 293, 620, 354]
l2 norm of benign user before server clipping 0.00562371201813221
l2 norm of benign user after server clipping 0.00562371201813221
___Test : epoch: 2156: Average loss: 0.0520, Accuracy: 39371/40000.0 (98.4275%)
benign test loss (after fedavg) 0.05202395651564002
benign test acc (after fedavg) 98.4275
Test set:local_Trigger0Poison Accuracy: 203/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 544/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1188/4000 (30%)
Test set:Main Accuracy: 39371/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1985/4000 (50%)
Done in 11.590666055679321 sec.
select client [443, 178, 457, 771, 533, 47, 548, 251, 111, 440]
l2 norm of benign user before server clipping 0.006652225297875703
l2 norm of benign user after server clipping 0.006652225297875703
___Test : epoch: 2157: Average loss: 0.0523, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052269183162599805
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 190/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 513/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1144/4000 (29%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1916/4000 (48%)
Done in 11.736660957336426 sec.
select client [775, 905, 870, 59, 570, 760, 116, 76, 136, 489]
l2 norm of benign user before server clipping 0.005463218525983393
l2 norm of benign user after server clipping 0.005463218525983393
___Test : epoch: 2158: Average loss: 0.0519, Accuracy: 39376/40000.0 (98.4400%)
benign test loss (after fedavg) 0.0518532715767622
benign test acc (after fedavg) 98.44000000000001
Test set:local_Trigger0Poison Accuracy: 208/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 520/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1167/4000 (29%)
Test set:Main Accuracy: 39376/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1844/4000 (46%)
Done in 11.634138584136963 sec.
select client [45, 180, 181, 646, 250, 508, 249, 654, 851, 685]
l2 norm of benign user before server clipping 0.005558117688633501
l2 norm of benign user after server clipping 0.005558117688633501
___Test : epoch: 2159: Average loss: 0.0523, Accuracy: 39359/40000.0 (98.3975%)
benign test loss (after fedavg) 0.05233912616819143
benign test acc (after fedavg) 98.39750000000001
Test set:local_Trigger0Poison Accuracy: 197/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 511/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1140/4000 (28%)
Test set:Main Accuracy: 39359/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1882/4000 (47%)
Done in 11.55750823020935 sec.
select client [166, 181, 241, 41, 598, 594, 437, 199, 827, 194]
l2 norm of benign user before server clipping 0.006111466162838042
l2 norm of benign user after server clipping 0.006111466162838042
___Test : epoch: 2160: Average loss: 0.0527, Accuracy: 39357/40000.0 (98.3925%)
benign test loss (after fedavg) 0.052665748643875125
benign test acc (after fedavg) 98.3925
Test set:local_Trigger0Poison Accuracy: 203/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 517/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1151/4000 (29%)
Test set:Main Accuracy: 39357/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1900/4000 (48%)
Done in 11.568506479263306 sec.
select client [730, 832, 352, 525, 642, 131, 932, 785, 548, 251]
l2 norm of benign user before server clipping 0.006945758615620435
l2 norm of benign user after server clipping 0.006945758615620435
___Test : epoch: 2161: Average loss: 0.0525, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.0525024822935462
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 201/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 524/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 5/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1161/4000 (29%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1905/4000 (48%)
Done in 11.779200792312622 sec.
select client [59, 571, 570, 728, 484, 444, 471, 616, 129, 212]
l2 norm of benign user before server clipping 0.005979815777391195
l2 norm of benign user after server clipping 0.005979815777391195
___Test : epoch: 2162: Average loss: 0.0523, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.052271451899409294
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 215/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 539/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1171/4000 (29%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1868/4000 (47%)
Done in 11.637778759002686 sec.
select client [911, 202, 448, 864, 319, 14, 892, 443, 246, 38]
l2 norm of benign user before server clipping 0.004186735476832837
l2 norm of benign user after server clipping 0.004186735476832837
___Test : epoch: 2163: Average loss: 0.0523, Accuracy: 39362/40000.0 (98.4050%)
benign test loss (after fedavg) 0.05232380888238549
benign test acc (after fedavg) 98.405
Test set:local_Trigger0Poison Accuracy: 211/4000 (5%)
Test set:local_Trigger1Poison Accuracy: 537/4000 (13%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1170/4000 (29%)
Test set:Main Accuracy: 39362/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1869/4000 (47%)
Done in 11.554446697235107 sec.
select client [187, 550, 745, 825, 918, 801, 898, 500, 921, 449]
l2 norm of benign user before server clipping 0.004415503179188818
l2 norm of benign user after server clipping 0.004415503179188818
___Test : epoch: 2164: Average loss: 0.0523, Accuracy: 39356/40000.0 (98.3900%)
benign test loss (after fedavg) 0.0522931505009532
benign test acc (after fedavg) 98.39
Test set:local_Trigger0Poison Accuracy: 222/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 550/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1190/4000 (30%)
Test set:Main Accuracy: 39356/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1870/4000 (47%)
Done in 11.624003648757935 sec.
select client [467, 742, 708, 764, 583, 342, 554, 471, 101, 714]
l2 norm of benign user before server clipping 0.006025152327492833
l2 norm of benign user after server clipping 0.006025152327492833
___Test : epoch: 2165: Average loss: 0.0524, Accuracy: 39355/40000.0 (98.3875%)
benign test loss (after fedavg) 0.052371728934347626
benign test acc (after fedavg) 98.3875
Test set:local_Trigger0Poison Accuracy: 241/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 558/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 7/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1219/4000 (30%)
Test set:Main Accuracy: 39355/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1891/4000 (47%)
Done in 11.714380979537964 sec.
select client [468, 90, 462, 533, 966, 705, 599, 698, 488, 201]
l2 norm of benign user before server clipping 0.005272882303688675
l2 norm of benign user after server clipping 0.005272882303688675
___Test : epoch: 2166: Average loss: 0.0522, Accuracy: 39363/40000.0 (98.4075%)
benign test loss (after fedavg) 0.0521748430788517
benign test acc (after fedavg) 98.4075
Test set:local_Trigger0Poison Accuracy: 233/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 548/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1206/4000 (30%)
Test set:Main Accuracy: 39363/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1885/4000 (47%)
Done in 11.651703596115112 sec.
select client [361, 855, 249, 643, 941, 94, 45, 276, 697, 322]
l2 norm of benign user before server clipping 0.003936215292196721
l2 norm of benign user after server clipping 0.003936215292196721
___Test : epoch: 2167: Average loss: 0.0523, Accuracy: 39361/40000.0 (98.4025%)
benign test loss (after fedavg) 0.05228760368973017
benign test acc (after fedavg) 98.4025
Test set:local_Trigger0Poison Accuracy: 231/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 545/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1202/4000 (30%)
Test set:Main Accuracy: 39361/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1916/4000 (48%)
Done in 11.558216333389282 sec.
select client [110, 247, 279, 772, 466, 308, 632, 565, 502, 473]
l2 norm of benign user before server clipping 0.0038768020109273492
l2 norm of benign user after server clipping 0.0038768020109273492
___Test : epoch: 2168: Average loss: 0.0523, Accuracy: 39364/40000.0 (98.4100%)
benign test loss (after fedavg) 0.052315689001977445
benign test acc (after fedavg) 98.41
Test set:local_Trigger0Poison Accuracy: 246/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 564/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1230/4000 (31%)
Test set:Main Accuracy: 39364/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1957/4000 (49%)
Done in 11.551417589187622 sec.
select client [71, 615, 157, 735, 382, 908, 354, 789, 151, 856]
l2 norm of benign user before server clipping 0.004951693228213117
l2 norm of benign user after server clipping 0.004951693228213117
___Test : epoch: 2169: Average loss: 0.0521, Accuracy: 39365/40000.0 (98.4125%)
benign test loss (after fedavg) 0.052120762826502326
benign test acc (after fedavg) 98.41250000000001
Test set:local_Trigger0Poison Accuracy: 241/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 579/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1248/4000 (31%)
Test set:Main Accuracy: 39365/40000 (98%)
Test set:Global Trigger Poison Accuracy: 1959/4000 (49%)
Done in 11.534563302993774 sec.
select client [132, 704, 62, 571, 745, 782, 859, 397, 653, 603]
l2 norm of benign user before server clipping 0.0046134490054100755
l2 norm of benign user after server clipping 0.0046134490054100755
___Test : epoch: 2170: Average loss: 0.0521, Accuracy: 39369/40000.0 (98.4225%)
benign test loss (after fedavg) 0.052061827737092975
benign test acc (after fedavg) 98.4225
Test set:local_Trigger0Poison Accuracy: 228/4000 (6%)
Test set:local_Trigger1Poison Accuracy: 556/4000 (14%)
Test set:local_Trigger2Poison Accuracy: 6/4000 (0%)
Test set:local_Trigger3Poison Accuracy: 1234/4000 (31%)
